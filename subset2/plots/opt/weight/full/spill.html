<html xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
    <center>
        <h1 id="heading">spill (full)</h1>
    </center>


    <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->

    <style type="text/css">
       #mynetwork {
            width: 65%;
            height: 90%;

            margin-right: 2%;

            height: {
                    {
                    height
                }
            }

            ;

            background-color: {
                    {
                    bgcolor
                }
            }

            ;
            border: 1px solid lightgray;
            position: relative;
            float: left;
        }

            {
            % if nodes|length>100 and physics_enabled %
        }

        #loadingBar {
            position: absolute;
            top: 0px;
            left: 0px;

            width: {
                    {
                    width
                }
            }

            ;

            height: {
                    {
                    height
                }
            }

            ;
            background-color:rgba(200, 200, 200, 0.8);
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -ms-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
            opacity:1;
        }

        #bar {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 20px;
            height: 20px;
            margin: auto auto auto auto;
            border-radius: 11px;
            border: 2px solid rgba(30, 30, 30, 0.05);
            background: rgb(0, 173, 246);
            /* Old browsers */
            box-shadow: 2px 0px 4px rgba(0, 0, 0, 0.4);
        }

        #border {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 500px;
            height: 23px;
            margin: auto auto auto auto;
            box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        #text {
            position: absolute;
            top: 8px;
            left: 530px;
            width: 30px;
            height: 50px;
            margin: auto auto auto auto;
            font-size: 22px;
            color: #000000;
        }

        div.outerBorder {
            position: relative;
            top: 400px;
            width: 600px;
            height: 44px;
            margin: auto auto auto auto;
            border: 8px solid rgba(0, 0, 0, 0.1);
            background: rgb(252, 252, 252);
            /* Old browsers */
            background: -moz-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(252, 252, 252, 1)), color-stop(100%, rgba(237, 237, 237, 1)));
            /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Opera 11.10+ */
            background: -ms-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* IE10+ */
            background: linear-gradient(to bottom, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fcfcfc', endColorstr='#ededed', GradientType=0);
            /* IE6-9 */
            border-radius: 72px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }

            {
            % endif %
        }

            {
            % if conf %
        }

        #config {
            float: left;
            width: 400px;
            height: 600px;
        }

            {
            % endif %
        }

            {
            % if tooltip_link %
        }

        /* position absolute is important and the container has to be relative or absolute as well. */
        div.popup {
            position: absolute;
            top: 0px;
            left: 0px;
            display: none;
            background-color: #f5f4ed;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            border: 1px solid #808074;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
        }



        /* hide the original tooltip */


        .vis-tooltip {
            position: absolute;
        }

        #config {
            display: none;

        }

            {
            % endif %
        }

        #custom_wugs {
            height: 90%;
            width: 30%;
            overflow: scroll;
        }

        #custom_wugs>* {
            padding: 1%;
            margin-left: 2%;
        }






        .help-tip {
            position: absolute;
            top: 18px;
            right: 18px;
            text-align: center;
            background-color: #E55B0A;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 26px;
            cursor: default;
        }

        .help-tip:before {
            content: '?';
            font-weight: bold;
            color: #fff;
        }

        .help-tip:hover p {
            display: block;
            transform-origin: 100% 0%;

            -webkit-animation: fadeIn 0.3s ease-in-out;
            animation: fadeIn 0.3s ease-in-out;

        }

        .help-tip p {
            /* The tooltip */
            display: none;
            text-align: left;
            background-color: #1E2021;
            padding: 20px;
            width: 800px;
            position: absolute;
            border-radius: 3px;
            box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
            right: 16px;
            color: #FFF;
            font-size: 13px;
            line-height: 1.4;
        }

        .help-tip p:before {
            /* The pointer of the tooltip */
            position: absolute;
            content: '';
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-bottom-color: #1E2021;
            right: 10px;
            top: -12px;
        }

        .help-tip p:after {
            /* Prevents the tooltip from being hidden */
            width: 100%;
            height: 40px;
            content: '';
            position: absolute;
            top: -40px;
            left: 0;
        }


        /* CSS animation */

        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.6);
            }

            100% {
                opacity: 100%;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading-icon {
            position: absolute;
            top: 40%;
            left: 30%;
            transform: translate(-50%, -50%);
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid red;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            visibility: hidden;
        }

        #custom_wugs {
            font-size: smaller;
        }

        .shifted {
            margin-left: 3%;
        }

        .bold {
            font-weight: bold;
        }

        #fillSD {
            margin-bottom: 0;
            padding-bottom: 0;
        }

    </style>

</head>

<body>
     <div id="loader" style="display: none"></div>

    <div id="mynetwork"></div>
    
    

    <div id="custom_wugs">



        <div class="help-tip">
            <p><em>General</em><br />
           Firefox is the recommended browser for this application. For large graphs, loading time may vary. This application is under development. Feedback is appreciated. The code, from which you can generate your own graphs, can be found here:  <a href="https://github.com/Garrafao/WUGs/" target="_blank" style="color: white">WUGs repository</a><br /><br /><br />
                <em>Statistics</em><br />
            The statistics section gets updated as the filters are used. For in-depth stats, refer to the stats dropdowns on the bottom.<br /><br /><br />
                <em>Edge & node filters</em><br />
            Edge weights are calculated as the mean of all annotations of the node pair.
            Nodes with noisy data appear black and have -1 as their label. Both the noisy nodes and edges with wrongly calculated weights can be filtered out.
            Edge and node filters are interlinked and should show the desired selection. While one filter is being calculated, the page will prevent you from selecting another filter.<br /><br /><br />
                <em>Annotators filter</em><br />
            The annotators filter resets all other filters and shows the initial graph, but only edges the selected annotators have annotated.</p>
        </div>

        <div class="infoContainer">
            <h4>Info: </h4>
            <div id="clusterInfo"></div>
            <h4>Statistics:</h4>
            <div id="statistics"></div>
            <p id="fillMean">Edge weight mean: </p>
            <p id="fillSD">Edge weight standard deviation: </p>
        </div>
        <div class ="edgeFilterContainer">
            <h4>Edge filters: </h4>

            <label for="checkboxNaN">Show NaN edges </label>
            <input type="checkbox" id="checkboxNaN" onclick="filterNaN()">
            <br><br>
            <div class="slideContainer" style="display: block; clear: both">
                <label for="slider-min" style="display: block">Min weight: <span id="sliderValueDisplayMin" style="display: inline-block">1</span></label>
                <input type="range" min="1" max="4" value="1" class="slider-load" id="slider-min">
                <label for="slider" style="display: block">Max weight: <span id="sliderValueDisplay" style="display: inline-block">4</span></label>
                <input type="range" min="1" max="4" value="4" class="slider-load" id="slider">
            </div>
        </div>




        <div class="nodeFilterContainer">
            <h4>Node filters: </h4>

            <label for="checkboxNoiseLabels">Show noise cluster</label>
            <input type="checkbox" id="checkboxNoiseLabels" onclick="filterNoiseLabels()">
            <br><br>
            <form onsubmit="dateFilter();return false">
                <label for="minPicker">From date: </label>
                <select class="picker" id="minPicker"></select>
                <label for="maxPicker">to date: </label>
                <select class="picker" id="maxPicker"></select>
                <input type="submit" value="Filter">
            </form>

            <label for="groupPicker">Grouping: </label>
            <select  class="select-load" id="groupPicker">
                <option>All</option>
                <option>1</option>
                <option>2</option>
            </select>
            <div class="loading-icon"></div>
        </div>

        <div id="annotatorsContainer"></div>

        <div class="detailsContainer">
            <details id="stats">
                <summary class="bold">Stats</summary>
                <table id="stats-table"></table>
            </details>
            <details id="statsGroupings">
                <summary class="bold">Grouping stats</summary>
                <table id="stats-groupings-table"></table>
            </details>
            <details id="statsAgreement">
                <summary class="bold">Agreement stats</summary>
                <table id="stats-agreement-table"></table>
            </details>
            <details id="statsPlotting">
                <summary class="bold">Plotting stats</summary>
                <table id="stats-plotting-table"></table>
            </details>
            <details id="statsDataJoint">
                <summary class="bold">Annotator data</summary>
            </details>
        </div>

    </div>

    <div id="config">

    </div>

    
     <!--<script type="text/javascript" src="../stats.js"></script>
     <script type="text/javascript" src="../stats_agreement.js"></script>
     <script type="text/javascript" src="../stats_groupings.js"></script>
     <script type="text/javascript" src="../stats_plotting.js"></script>
     <script type="text/javascript" src="../data_joint.js"></script>-->

    <script type="text/javascript">
        // initialize global variables.
        var edges;
        var nodes;
        var network;
        var container;
        var options, data;


        // This method is responsible for drawing the graph, returns the drawn network
        function drawGraph() {
            var container = document.getElementById('mynetwork');

            

            // parsing and collecting nodes and edges from the python
            nodes = new vis.DataSet([{"color": "#4daf4a", "date": "1980", "id": "1980-1990_spill_124", "label": "2", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet kan ogs\u00e5 gi pressen mer \u00e5 skrive om. Bl.a. b\u00f8r den i st\u00f8rre\u003cbr\u003egrad enn hittil rette s\u00f8kelyset mot fors\u00f8mmelser og kritikkverdige\u003cbr\u003eforhold innen offentlig administrasjon, naeringsliv og blant private,\u003cbr\u003esom gj\u00f8r at lovbrytere f\u00e5r lett \u003cb\u003espill\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_124\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -446.0658334334532, "y": -995.9743868971631}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_spill_42", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMassemedia p\u00e5virker b\u00e5de hva vi skal mene, og saerlig hva vi\u003cbr\u003eskal mene noe om. Massemedia er blitt aktive deltagere i et\u003cbr\u003e\u003cb\u003espill\u003c/b\u003e om oppmerksomhet og opplagstall, om meninger og\u003cbr\u003emakt.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_42\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 256.82008785720467, "y": -309.00513905799176}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_spill_471", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI det f\u00f8lgende skal vi konsentrere oppmerksomheten om\u003cbr\u003evirkningene p\u00e5 l\u00f8sningen av ikke-kooperative \u003cb\u003espill\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_471\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -701.3947820253403, "y": -318.3684035494943}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_spill_258", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eKontrollen skjer ved revidert regnskap innlevert til ansvarlig\u003cbr\u003einstans 3 m\u00e5neder etter \u00e5rsavslutning. 7. De statlige \u003cb\u003espill\u003c/b\u003e m\u00e5\u003cbr\u003efastholde dagens rammer.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_258\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1133.594431326824, "y": 371.51596450122634}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_spill_484", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHun vil velge den h K som maksimerer Uk, og hun kjenner mannens\u003cbr\u003eresponsfunksjon og T M : Optimalt valg av h for gitte verdier p\u00e5 A K ,\u003cbr\u003eW K og T K maksimerer verdien av U K gitt ved L\u00f8sningen er\u003cbr\u003ekarakterisert ved som gir der m\u0027 K =dm (-)/dh K \u0026lt; 0 Spill IV Vi\u003cbr\u003eskal se p\u00e5 l\u00f8sningen av to typer kooperative \u003cb\u003espill\u003c/b\u003e der partenes\u003cbr\u003ebeste-alternativ er gitt ved U; (*). A. Kooperativ Nash-\u003cbr\u003el\u00f8sning:\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_484\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1061.6480602687498, "y": -378.2388212855952}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_spill_198", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eBakgrunnen fra statlige myndigheters side for den generelle\u003cbr\u003egjennomgang av rammebetingelsene b\u00e5de for statlige \u003cb\u003espill\u003c/b\u003e og\u003cbr\u003eprivate lotterier var den sterke ekspansjonen p\u00e5 lotterimarkedet\u003cbr\u003etotalt sett i l\u00f8pet av 1987/88 ved igangsettelse av nye spill,\u003cbr\u003elotteriformer, gevinstyper m.v.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_198\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 105.28287046931314, "y": 810.6750253175886}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_spill_417", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEn slik l\u00f8sning er derfor trusselpunktet ved forhandlinger som\u003cbr\u003eforeg\u00e5r forut for dannelsen av husholdningen, - og ved oppl\u00f8sningen av\u003cbr\u003ehusholdningen; enten oppl\u00f8sningen skjer som f\u00f8lge av et kooperativt -\u003cbr\u003eeller et ikkekooperativt \u003cb\u003espill\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_417\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -980.9537687306225, "y": -45.66677592448502}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_spill_549", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003ePateren l\u00f8ftet awergende sin velformede hand: \u00abTi! - Paulatim\u003cbr\u003elongius itur. Og blir du ligervis dine br\u00f8dre Guds forakter p\u00e5 jorden,\u003cbr\u003eda husk den evige pines gl\u00f8r,\u00bb og han s\u00e5 funklende ned p\u00e5 jomfruen,\u003cbr\u003ehvem vin og \u003cb\u003espill\u003c/b\u003e hadde malt sterke roser i kinnene - hvilket i\u003cbr\u003eforening med h\u00e5rets viltre kr\u00f8ller og den gr\u00f8nne silkekjortel gav\u003cbr\u003ehenne et \u00fcbehersket, men tillike saert preg; hun stod da ogs\u00e5 og\u003cbr\u003efingret med sitt belte, s\u00e5 spennen brast \u00abEr De ferdig med Deres tale,\u003cbr\u003ekan jeg vel g\u00e5,\u00bb sa hun trossig; idet hun gjorde mine til \u00e5 fjerne\u003cbr\u003eseg, vendte hun hodet halvt: \u00abJeg liker bedre \u00e5 le med riddere enn\u003cbr\u003egr\u00e5te med munker.\u00bb \u00abVent!\u00bb ropte pater Sylfest og stilte seg iveien\u003cbr\u003efor henne - \u00abGudfader og alle helgener vaere din gjenstridige sjel\u003cbr\u003en\u00e5dig,\u00bb bad han beveget, \u00abhvor du spotter Herren, hvor du legger sten\u003cbr\u003etil r\u00f8ysen.\u00bb Jomfuen trodde \u00e5 se hans \u00f8yne sortne av nidkjaerhet.\u003cbr\u003e\u00abSlipp meg frem, kjaere pater,\u00bb overtalte hun plutselig og ber\u00f8rte ham\u003cbr\u003elett.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_549\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -469.35834147124086, "y": 695.4822982874117}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_spill_599", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eSamvirkeorganisasjonene blir trukket inn i et \u003cb\u003espill\u003c/b\u003e hvor\u003cbr\u003edet er snakk om \u00e5 tilpasse seg grunnleggende nye\u003cbr\u003erammebetingelser.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_599\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -33.58090368874104, "y": -130.83277837673947}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_spill_53847", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eFor \u00e5 redusere faren for misbruk, kan du installere en\u003cbr\u003eautentiseringsapp istedet for \u00e5 bruke to-trinns verifisering p\u00e5 SMS.\u003cbr\u003eAppen kan sende deg en kode hver gang du skal logge p\u00e5 for eksempel en\u003cbr\u003ee-postkonto eller et \u003cb\u003espill\u003c/b\u003e fra en ny enhet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_53847\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -190.8470493566463, "y": 274.4667168887803}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_spill_35529", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMen det s\u00e5 ikke bra da Damien Delaney fant James McArthur etter\u003cbr\u003e66 minutter, \u003cb\u003espillet\u003c/b\u003e var vakkert og avslutningen til\u003cbr\u003emidtbanespilleren var uts\u00f8kt: 1-1. Men s\u00e5 viste klasse seg til slutt,\u003cbr\u003eda alle var slitne. Paul Pogba kom seg l\u00f8s fra sin opp-passer, slo en\u003cbr\u003eblindpasning gjennom til Zlatan Ibrahimovic, som sendte ballen i m\u00e5l\u003cbr\u003ebak Wayne Hennessey - og dermed tre poeng til Manchester\u003cbr\u003eUnited.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_35529\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -345.7533785171343, "y": -86.12576253842442}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_spill_45731", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eOgs\u00e5 p\u00e5 brettet har Carlsens \u003cb\u003espill\u003c/b\u003e variert.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_45731\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -542.7091487660898, "y": 132.80800157193505}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_spill_38032", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDerfor er jeg sikker p\u00e5 at de vil klatre igjen, men et nedrykk\u003cbr\u003evil ogs\u00e5 f\u00f8re til at spillere gir seg, tror jeg. \u2013 Ikke gode nok\u003cbr\u003eKjetil Strand er en annen \u003cb\u003espiller\u003c/b\u003e som hadde en god karriere i\u003cbr\u003eViking.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_38032\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 691.3376055353333, "y": 750.609604420586}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_spill_27416", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u2014 Vi var sjansel\u00f8se med ti mann. Rett etterp\u00e5 kom ogs\u00e5 1-0. Vi\u003cbr\u003efikk aldri summet oss eller satt \u003cb\u003espillet\u003c/b\u003e med en mann\u003cbr\u003emindre.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_27416\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 126.37417504219414, "y": 185.41447228030572}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_spill_1641", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHan har tatt flere steg og er blitt bedre i alle\u003cbr\u003e\u003cb\u003espillets\u003c/b\u003e faser. Jonas Svensson var ogs\u00e5 bra som en terrier p\u00e5\u003cbr\u003emidten, mente trener Nordsteien. (\u00a9NTB) Ukraina - Norge 1-1 (0-0) 100\u003cbr\u003etilskuere M\u00e5l: 1-0 Mesjija (75), 1-1 Magnar \u00d8degaard (90). Gult\u003cbr\u003ekort:Erlend Robertsen, Norge, Ivan Trubotsjkin, Jurij Jakovenko,\u003cbr\u003eOleksandr Borovik, Ukraina. Norge (4-3-3): \u00d8ystein \u00d8retveit (Kristian\u003cbr\u003eBjerke fra 46.) - Henrik Breimyr, Nicolai Naess, Magnar \u00d8degaard, Kim\u003cbr\u003eSkogsrud\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_1641\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -195.959367253011, "y": 588.2942768212231}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_spill_9390", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- Polarcus er et rent \u003cb\u003espill\u003c/b\u003e p\u00e5 kontraktrater.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_9390\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 796.5405144830435, "y": -124.09261415004292}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_spill_40442", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u2013 Gj\u00f8r vi det s\u00e5 blir sluttsummen veldig bra. \u2013 Hvordan er det\u003cbr\u003e\u00e5 f\u00e5 vist frem et slik \u003cb\u003espill\u003c/b\u003e som i f\u00f8rste omgang? \u2013 Det er en\u003cbr\u003ekjempegod f\u00f8lelse.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_40442\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 5.820611608084638, "y": -520.7720911043097}, {"color": "#ff7f00", "date": "1980", "id": "1980-1990_spill_516", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDirekte reklamens spesielle styrke ligger i at den kan\u003cbr\u003einnrettes p\u00e5 de forskjellige m\u00e5lgrupper med en meget h\u00f8y grad av\u003cbr\u003epresisjon og f\u00f8lgelig med lite \u003cb\u003espill\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_516\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 2000.0, "y": 368.3318576636016}, {"color": "#ff7f00", "date": "1980", "id": "1980-1990_spill_581", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet het her at pressefriheten sto p\u00e5 \u003cb\u003espill\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_spill_581\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 739.7310754801581, "y": -1405.062023841277}, {"color": "#ff7f00", "date": "2012", "id": "2012-2019_spill_56563", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- Det var ikke veldig enkelt \u00e5 takke ja. Jeg har aldri vaert\u003cbr\u003emed s\u00e5 kort tid f\u00f8r, s\u00e5 det er interessant \u00e5 se hvordan man kan\u003cbr\u003ep\u00e5virke garderoben p\u00e5 s\u00e5 f\u00e5 dager. I tillegg er det moderklubben min.\u003cbr\u003eOm ikke hadde jeg aldri gjort det, innr\u00f8mmer han. For mannen med\u003cbr\u003ehjertet i klubben er smertelig klar over hva som st\u00e5r p\u00e5 \u003cb\u003espill\u003c/b\u003e\u003cbr\u003en\u00e5r gamleklubben Start venter p\u00e5 motsatt banehalvdel f\u00f8rstkommende\u003cbr\u003el\u00f8rdag og neste onsdag.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_56563\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 977.9479469019392, "y": -874.6408327372495}, {"color": "k", "date": "2012", "id": "2012-2019_spill_22770", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eTre sett skuespillere \u003cb\u003espiller\u003c/b\u003e barna i huset, og to sett\u003cbr\u003espiller foreldrene.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_22770\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1197.8570358118657, "y": 481.29661230366753}, {"color": "k", "date": "2012", "id": "2012-2019_spill_30064", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eKanskje vil han f\u00e5 et helt annet perspektiv p\u00e5 kampen n\u00e5 som\u003cbr\u003ehan er supporter for en dag? \u2013 Det kan hende at jeg f\u00e5r litt mer\u003cbr\u003eforst\u00e5else for \u00ab\u003cb\u003espill\u003c/b\u003e fremover!\u00bb \u2013 for det er en gjenganger,\u003cbr\u003esier Wangberg.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_spill_30064\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -795.8468583512999, "y": 529.8847994064375}]);
        edges = new vis.DataSet([{"color": "black", "from": "1980-1990_spill_124", "label": 3.5, "to": "2012-2019_spill_45731", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_124", "label": 3.5, "to": "2012-2019_spill_53847", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_124", "label": 3, "to": "1980-1990_spill_258", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_124", "label": 3, "to": "1980-1990_spill_581", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_124", "label": 3.5, "to": "1980-1990_spill_599", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_124", "label": 3.5, "to": "1980-1990_spill_42", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_124", "label": 3, "to": "2012-2019_spill_35529", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 4, "to": "2012-2019_spill_53847", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 3, "to": "2012-2019_spill_1641", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 3.5, "to": "1980-1990_spill_471", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 3, "to": "2012-2019_spill_56563", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 4, "to": "1980-1990_spill_599", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 4, "to": "2012-2019_spill_9390", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 3, "to": "2012-2019_spill_27416", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 3.5, "to": "1980-1990_spill_417", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 3, "to": "2012-2019_spill_40442", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 4, "to": "2012-2019_spill_35529", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 3, "to": "2012-2019_spill_38032", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 2.5, "to": "1980-1990_spill_484", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_42", "label": 3, "to": "1980-1990_spill_198", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 3, "to": "2012-2019_spill_35529", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 3, "to": "1980-1990_spill_599", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 4, "to": "1980-1990_spill_417", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 3.5, "to": "1980-1990_spill_549", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 4, "to": "1980-1990_spill_484", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 3.5, "to": "2012-2019_spill_27416", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 4, "to": "2012-2019_spill_40442", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 2.5, "to": "2012-2019_spill_1641", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 2.5, "to": "1980-1990_spill_258", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 4, "to": "2012-2019_spill_45731", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_471", "label": 4, "to": "2012-2019_spill_30064", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_258", "label": 3, "to": "2012-2019_spill_27416", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_258", "label": 4, "to": "1980-1990_spill_549", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_258", "label": 3.5, "to": "2012-2019_spill_53847", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_258", "label": 3, "to": "2012-2019_spill_35529", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_258", "label": 3, "to": "1980-1990_spill_599", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_258", "label": 3, "to": "2012-2019_spill_45731", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_258", "label": 4, "to": "1980-1990_spill_484", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_258", "label": 3.5, "to": "2012-2019_spill_1641", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_258", "label": 4, "to": "2012-2019_spill_30064", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_516", "label": 3, "to": "2012-2019_spill_56563", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_516", "label": 4, "to": "2012-2019_spill_22770", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_516", "label": 2.5, "to": "1980-1990_spill_198", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_484", "label": 3, "to": "2012-2019_spill_53847", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_484", "label": 3.5, "to": "2012-2019_spill_35529", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_484", "label": 3, "to": "1980-1990_spill_549", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_484", "label": 3, "to": "2012-2019_spill_45731", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_484", "label": 3, "to": "2012-2019_spill_40442", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_484", "label": 3, "to": "2012-2019_spill_27416", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_484", "label": 4, "to": "1980-1990_spill_599", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_484", "label": 2.5, "to": "2012-2019_spill_56563", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_484", "label": 4, "to": "1980-1990_spill_417", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 4, "to": "2012-2019_spill_30064", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 3.5, "to": "2012-2019_spill_1641", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 4, "to": "2012-2019_spill_53847", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 3, "to": "2012-2019_spill_9390", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 3.5, "to": "2012-2019_spill_27416", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 3, "to": "2012-2019_spill_22770", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 4, "to": "1980-1990_spill_599", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 4, "to": "1980-1990_spill_549", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 3, "to": "2012-2019_spill_35529", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_198", "label": 3, "to": "2012-2019_spill_45731", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_581", "label": 2.5, "to": "2012-2019_spill_40442", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_581", "label": 3, "to": "2012-2019_spill_27416", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_581", "label": 4, "to": "2012-2019_spill_56563", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_581", "label": 2.5, "to": "2012-2019_spill_35529", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_581", "label": 3, "to": "2012-2019_spill_9390", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_581", "label": 2.5, "to": "2012-2019_spill_53847", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_417", "label": 3, "to": "2012-2019_spill_53847", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_417", "label": 3.5, "to": "2012-2019_spill_27416", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_417", "label": 3, "to": "1980-1990_spill_599", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_417", "label": 2.5, "to": "2012-2019_spill_38032", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_417", "label": 4, "to": "2012-2019_spill_30064", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_417", "label": 4, "to": "2012-2019_spill_35529", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_417", "label": 4, "to": "2012-2019_spill_45731", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_417", "label": 2.5, "to": "1980-1990_spill_549", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_549", "label": 3.5, "to": "2012-2019_spill_53847", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_549", "label": 3, "to": "2012-2019_spill_22770", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_549", "label": 3, "to": "2012-2019_spill_9390", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_549", "label": 2.5, "to": "2012-2019_spill_1641", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_549", "label": 4, "to": "2012-2019_spill_45731", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_549", "label": 4, "to": "2012-2019_spill_35529", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_549", "label": 4, "to": "2012-2019_spill_27416", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_599", "label": 3.5, "to": "2012-2019_spill_1641", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_spill_599", "label": 3, "to": "2012-2019_spill_38032", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_599", "label": 4, "to": "2012-2019_spill_9390", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_599", "label": 3, "to": "2012-2019_spill_53847", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_599", "label": 3, "to": "2012-2019_spill_40442", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_599", "label": 3, "to": "2012-2019_spill_35529", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_599", "label": 4, "to": "2012-2019_spill_27416", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_spill_599", "label": 3, "to": "2012-2019_spill_45731", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_53847", "label": 3, "to": "2012-2019_spill_1641", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_53847", "label": 3, "to": "2012-2019_spill_9390", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_53847", "label": 3.5, "to": "2012-2019_spill_38032", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_spill_53847", "label": 3.5, "to": "2012-2019_spill_40442", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_spill_53847", "label": 3, "to": "2012-2019_spill_22770", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_53847", "label": 4, "to": "2012-2019_spill_30064", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_53847", "label": 3, "to": "2012-2019_spill_27416", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_53847", "label": 3, "to": "2012-2019_spill_45731", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_35529", "label": 4, "to": "2012-2019_spill_30064", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_35529", "label": 4, "to": "2012-2019_spill_45731", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_35529", "label": 3, "to": "2012-2019_spill_9390", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_35529", "label": 4, "to": "2012-2019_spill_1641", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_35529", "label": 4, "to": "2012-2019_spill_27416", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_35529", "label": 4, "to": "2012-2019_spill_40442", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_35529", "label": 3, "to": "2012-2019_spill_22770", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_45731", "label": 2.5, "to": "2012-2019_spill_56563", "weight": 2.5, "width": 4}, {"color": "black", "from": "2012-2019_spill_45731", "label": 4, "to": "2012-2019_spill_40442", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_45731", "label": 4, "to": "2012-2019_spill_1641", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_45731", "label": 3, "to": "2012-2019_spill_38032", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_45731", "label": 3, "to": "2012-2019_spill_22770", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_45731", "label": 4, "to": "2012-2019_spill_30064", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_45731", "label": 3, "to": "2012-2019_spill_27416", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_56563", "label": 4, "to": "2012-2019_spill_40442", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_56563", "label": 3, "to": "2012-2019_spill_9390", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_56563", "label": 3, "to": "2012-2019_spill_22770", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_56563", "label": 2.5, "to": "2012-2019_spill_27416", "weight": 2.5, "width": 4}, {"color": "black", "from": "2012-2019_spill_22770", "label": 3, "to": "2012-2019_spill_9390", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_22770", "label": 3, "to": "2012-2019_spill_27416", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_22770", "label": 3, "to": "2012-2019_spill_38032", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_38032", "label": 3.5, "to": "2012-2019_spill_27416", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_spill_38032", "label": 3, "to": "2012-2019_spill_9390", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_38032", "label": 3, "to": "2012-2019_spill_40442", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_30064", "label": 4, "to": "2012-2019_spill_1641", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_27416", "label": 4, "to": "2012-2019_spill_1641", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_27416", "label": 4, "to": "2012-2019_spill_40442", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_1641", "label": 3.5, "to": "2012-2019_spill_40442", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_spill_1641", "label": 3, "to": "2012-2019_spill_9390", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_spill_9390", "label": 3, "to": "2012-2019_spill_40442", "weight": 3.0, "width": 4}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 1, "to": "2012-2019_spill_30064", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 1.5, "to": "2012-2019_spill_9390", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 1, "to": "1980-1990_spill_516", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 2, "to": "1980-1990_spill_198", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 2, "to": "1980-1990_spill_484", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 2, "to": "1980-1990_spill_471", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 2, "to": "1980-1990_spill_417", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 1.5, "to": "2012-2019_spill_56563", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 2, "to": "2012-2019_spill_1641", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 1.5, "to": "1980-1990_spill_549", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 2, "to": "2012-2019_spill_27416", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 2, "to": "2012-2019_spill_38032", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": 2, "to": "2012-2019_spill_40442", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_42", "label": 1.5, "to": "1980-1990_spill_516", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_42", "label": 2, "to": "1980-1990_spill_549", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_42", "label": 2, "to": "1980-1990_spill_258", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_42", "label": 1, "to": "1980-1990_spill_581", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_471", "label": 2, "to": "2012-2019_spill_56563", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_471", "label": 1.5, "to": "1980-1990_spill_581", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_471", "label": 1, "to": "1980-1990_spill_198", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_471", "label": 1, "to": "2012-2019_spill_53847", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_258", "label": 2, "to": "2012-2019_spill_38032", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_258", "label": 2, "to": "1980-1990_spill_516", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_258", "label": 2, "to": "2012-2019_spill_56563", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_258", "label": 2, "to": "1980-1990_spill_581", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_258", "label": 2, "to": "2012-2019_spill_40442", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 2, "to": "1980-1990_spill_581", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 1.5, "to": "1980-1990_spill_599", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 2, "to": "1980-1990_spill_549", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 2, "to": "1980-1990_spill_417", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 2, "to": "2012-2019_spill_9390", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 1, "to": "2012-2019_spill_38032", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 2, "to": "2012-2019_spill_27416", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 2, "to": "2012-2019_spill_45731", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 2, "to": "2012-2019_spill_30064", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 1.5, "to": "2012-2019_spill_40442", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 1, "to": "2012-2019_spill_53847", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 1, "to": "1980-1990_spill_484", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 1, "to": "2012-2019_spill_35529", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_516", "label": 1, "to": "2012-2019_spill_1641", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_484", "label": 1.5, "to": "1980-1990_spill_581", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_484", "label": 1, "to": "1980-1990_spill_198", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_198", "label": 2, "to": "2012-2019_spill_56563", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_198", "label": 2, "to": "1980-1990_spill_581", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_198", "label": 2, "to": "1980-1990_spill_417", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_198", "label": 2, "to": "2012-2019_spill_38032", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_581", "label": 1, "to": "2012-2019_spill_22770", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_581", "label": 2, "to": "2012-2019_spill_45731", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_581", "label": 2, "to": "1980-1990_spill_549", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_581", "label": 1, "to": "2012-2019_spill_38032", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_581", "label": 1.5, "to": "1980-1990_spill_417", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_581", "label": 2, "to": "2012-2019_spill_30064", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_581", "label": 1, "to": "2012-2019_spill_1641", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_581", "label": 1, "to": "1980-1990_spill_599", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_417", "label": 1.5, "to": "2012-2019_spill_56563", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_417", "label": 1, "to": "2012-2019_spill_1641", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_417", "label": 1, "to": "2012-2019_spill_40442", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_417", "label": 1, "to": "2012-2019_spill_9390", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_549", "label": 2, "to": "2012-2019_spill_38032", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_549", "label": 2, "to": "2012-2019_spill_56563", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_549", "label": 2, "to": "1980-1990_spill_599", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_549", "label": 1, "to": "2012-2019_spill_40442", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_599", "label": 1, "to": "2012-2019_spill_56563", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_spill_53847", "label": 1, "to": "2012-2019_spill_56563", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_spill_53847", "label": 2, "to": "2012-2019_spill_35529", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_spill_35529", "label": 1, "to": "2012-2019_spill_56563", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_spill_56563", "label": 2, "to": "2012-2019_spill_1641", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_spill_56563", "label": 1, "to": "2012-2019_spill_38032", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_spill_56563", "label": 2, "to": "2012-2019_spill_30064", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_spill_22770", "label": 2, "to": "2012-2019_spill_1641", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_spill_27416", "label": 2, "to": "2012-2019_spill_9390", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_spill_124", "label": NaN, "to": "2012-2019_spill_22770", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_42", "label": NaN, "to": "2012-2019_spill_22770", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_42", "label": NaN, "to": "2012-2019_spill_30064", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_471", "label": NaN, "to": "2012-2019_spill_22770", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_471", "label": NaN, "to": "2012-2019_spill_9390", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_258", "label": NaN, "to": "2012-2019_spill_22770", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_258", "label": NaN, "to": "2012-2019_spill_9390", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_484", "label": NaN, "to": "2012-2019_spill_30064", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_484", "label": NaN, "to": "2012-2019_spill_22770", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_484", "label": NaN, "to": "2012-2019_spill_38032", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_484", "label": NaN, "to": "2012-2019_spill_9390", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_549", "label": NaN, "to": "2012-2019_spill_30064", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_599", "label": NaN, "to": "2012-2019_spill_30064", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_spill_599", "label": NaN, "to": "2012-2019_spill_22770", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "2012-2019_spill_35529", "label": NaN, "to": "2012-2019_spill_38032", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "2012-2019_spill_45731", "label": NaN, "to": "2012-2019_spill_9390", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "2012-2019_spill_22770", "label": NaN, "to": "2012-2019_spill_30064", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "2012-2019_spill_38032", "label": NaN, "to": "2012-2019_spill_30064", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "2012-2019_spill_30064", "label": NaN, "to": "2012-2019_spill_40442", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "2012-2019_spill_30064", "label": NaN, "to": "2012-2019_spill_27416", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "2012-2019_spill_30064", "label": NaN, "to": "2012-2019_spill_9390", "weight": NaN, "width": 1.0}]);

        // adding nodes and edges to the graph
        data = { nodes: nodes, edges: edges };

        var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "nodes",
            "edges"
        ]
    },
    "edges": {
        "color": {
            "inherit": false
        },
        "smooth": {
            "enabled": false,
            "type": "continuous"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": false,
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

        

        
        // if this network requires displaying the configure window,
        // put it in its div
        options.configure["container"] = document.getElementById("config");
        

        network = new vis.Network(container, data, options);

        


        

        return network;

    }

        drawGraph();


        let nodesInTimePeriod = new Set();
        let edgesInTimePeriod = new Set();
        let edgesBelowWeight = new Set();
        let nodesInGrouping = new Set();
        let edgesInGrouping = new Set();
        let edgesToBeShown = new Set();
        let nodesToBeShown = new Set();

        edges.forEach(function (edge) {
            edgesBelowWeight.add(edge.id);
            edgesInGrouping.add(edge.id);
            edgesInTimePeriod.add(edge.id);
            edgesToBeShown.add(edge.id);
        })

        nodes.forEach(function (node) {
            nodesInTimePeriod.add(node.id);
            nodesInGrouping.add(node.id);
            nodesToBeShown.add(node.id);
        })


        function showEdges() {
            edgesToBeShown.forEach(function (edge) {
                edge.hidden = false;
                edges.update(edge);
            })
        }

        //Missing the loading icon
        //slider code from pyvis filter example
        // Handler event when slider changes

        let slider = document.getElementById('slider');
        let sliderMin = document.getElementById('slider-min');
        let sliderDisplay = document.getElementById('sliderValueDisplay');
        let sliderMinDisplay = document.getElementById('sliderValueDisplayMin');

        sliderDisplay.innerHTML = "4";
        sliderMinDisplay.innerHTML = "1";

        function weightFilter() {
            console.log("weight filter got called");
            // Get the value of the slider
            let sliderValue = slider.value;
            let sliderMinValue = sliderMin.value;

            // Display the selected value next to slider
            sliderDisplay.innerHTML = sliderValue;
            sliderMinDisplay.innerHTML = sliderMinValue;

            // Loop through the edges
            edges.forEach(function (edge) {
                // Check if the edge should be displayed based on its weight
                if (edge.weight <= sliderValue && edge.weight >= sliderMinValue) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        edgesBelowWeight.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    }
                    // Edge should be displayed
                    // Unhide edge if it's hidden and update DataSet

                } else if (isNaN(edge.weight)) {
                    //console.log("its NaN")
                } else {

                    // Edge should not be displayed
                    // Hide edge if not already hidden and update DataSet
                    if (!edge.hidden) {
                        edgesBelowWeight.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }
                }
            });


            calcMean();
        }



        //code for node date filter
        let dates = [];
        nodes.forEach(function (node) {
            date = node.date;
            if (!dates.includes(date)) {
                dates.push(date);
            }
        });
        dates.sort();


        //code for date slider
        let minDate = 10000;
        let maxDate = 0;

        let minPicker = document.getElementById('minPicker');
        let maxPicker = document.getElementById('maxPicker');

        if (!minPicker.hasChildNodes()) {
            dates.forEach(function (date) {
                if (Number(date) < minDate) {
                    minDate = Number(date);
                }
                if (Number(date) > maxDate) {
                    maxDate = Number(date);
                }


                let option = document.createElement('option');
                option.text = date;
                option.value = date;

                let option2 = document.createElement('option');
                option2.text = date;
                option2.value = date;

                minPicker.append(option);
                maxPicker.append(option2);

            })
        } else {
            minDate = Number(dates[0]);
            maxDate = Number(dates[dates.length-1]);
        }
        maxPicker.selectedIndex = dates.length - 1;



        function showSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'visible';
                resolve();
            });
        }

        function hideSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'hidden';
                resolve();
            });
        }



        const loadingIcon = document.querySelector('.loading-icon');
        const select = document.querySelector('.select-load');

        select.addEventListener('change', function () {
            showSelectLoad();
            setTimeout(selectGroup, 1000);


            setTimeout(hideSelectLoad, 1000);


        });

        //const slider_load = document.querySelector('.slider-load');

         slider.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

         sliderMin.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

        let groupPicker = document.getElementById('groupPicker');
        groupPicker.selectedIndex = 0;
        let minValue = minPicker.value;
        let maxValue = maxPicker.value;

        function selectGroup() {
            return new Promise(function (resolve, reject) {
                let selectValue = document.getElementById('groupPicker').value;

                console.log("grouping value: " + selectValue);

                if (selectValue == 1) {
                    nodes.forEach(function (node) {


                        if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else if (selectValue == 2) {
                    nodes.forEach(function (node) {
                        if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else {
                    nodes.forEach(function (node) {
                        if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                }
                loadingIcon.style.visibility = 'hidden';

                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        if (showNaNEdges && !nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {

                            edge.hidden = false;
                            edges.update(edge);
                        } else {
                            edge.hidden = true;
                            edge.hidden = true;
                            edges.update(edge);
                        }
                    } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && !isNaN(edge.weight)) {
                        edgesInGrouping.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    } else {
                        edgesInGrouping.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }


                })
                loadingIcon.style.visibility = 'hidden';
                calcMean();
                updateClusterDistribution();
                resolve();
            });

        }

        function dateFilter() {
            showSelectLoad();
            setTimeout(pickDates, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function pickDates() {
            loadingIcon.style.visibility = 'visible';

            let selectValue = document.getElementById('groupPicker').value;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            //console.log("showing dates between " + minValue + " and " + maxValue);

            if (selectValue == 1) {
                nodes.forEach(function (node) {


                    if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else if (selectValue == 2) {
                nodes.forEach(function (node) {
                    if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else {
                nodes.forEach(function (node) {
                    if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            }

            edges.forEach(function (edge) {


                if (isNaN(edge.weight) && !showNaNEdges) {

                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && isNaN(edge.weight)){
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && edge.weight >= sliderMin.value && edge.weight <= slider.value) {
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else {
                    edgesInTimePeriod.delete(edge.id);
                    edge.hidden = true;
                    edges.update(edge);
                }


            })
            loadingIcon.style.visibility = 'hidden'


            calcMean();
            updateClusterDistribution();

        }

        let showNaNEdges = true;

        function filterNaN() {
            showSelectLoad();
            setTimeout(selectNaN, 1000);


            setTimeout(hideSelectLoad, 1000);

        };

        const checkboxNaN = document.getElementById("checkboxNaN");

        function selectNaN() {
            if (checkboxNaN.checked) {

                showNaNEdges = true;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = false;
                        edges.update(edge);
                        pickDates();
                    }
                });
            } else {
                showNaNEdges = false;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = true;
                        edges.update(edge);
                    }
                });
            }


        }


        const checkboxNoiseLabels = document.getElementById("checkboxNoiseLabels");

        document.getElementById("checkboxNaN").checked = true;
        document.getElementById("checkboxNoiseLabels").checked = true;

        let showNoiseLabels = true;

        function filterNoiseLabels() {
            showSelectLoad();
            setTimeout(selectNoiseLabels, 1000);


            setTimeout(hideSelectLoad, 1000);
        }

        function selectNoiseLabels() {
            if (checkboxNoiseLabels.checked) {

                showNoiseLabels = true;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {
                        node.hidden = false;
                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        if (isNaN(edge.weight) && !showNaNEdges) {
                            edge.hidden = true;
                            edges.update(edge);

                        } else {
                            edge.hidden = false;
                            edges.update(edge);
                        }
                    }
                })

            } else {

                showNoiseLabels = false;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {

                        node.hidden = true;

                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (nodes.get(edge.to).hidden || nodes.get(edge.from).hidden || (isNaN(edge.weight) && !showNaNEdges)) {

                        edge.hidden = true;
                        edges.update(edge);

                    }
                })

            }
            updateClusterDistribution();
        }


        let fillMean = document.getElementById("fillMean");
        let fillSD = document.getElementById("fillSD");


        function calcMean() {
            let edgeValues = [];
            edges.forEach(function (edge) {
                if (!edge.hidden) {
                    let label = parseFloat(edge.weight);
                    if (!isNaN(label)) {
                        edgeValues.push(label);
                    }
                }
            })

            let mean = edgeValues.reduce((a, b) => a + b, 0) / edgeValues.length;
            let sd = dev(edgeValues, mean);
            if (isNaN(mean)) {
                mean = 0;
            }
            if (isNaN(sd)) {
                sd = 0;
            }
            mean = mean.toFixed(5);
            sd = sd.toFixed(5);

            fillMean.innerHTML = "Edge weight mean: ";
            fillSD.innerHTML = "Edge weight standard deviation: "

            fillMean.append(mean);
            fillSD.append(sd);

        }


        // Javascript program to calculate the standard deviation of an array

        function dev(arr, mean) {

            // Assigning (value - mean) ^ 2 to every array item
            arr = arr.map((k) => {
                return (k - mean) ** 2
            })


            // Calculating the sum of updated array
            let sum = arr.reduce((acc, curr) => acc + curr, 0);


            // Returning the standard deviation
            return Math.sqrt(sum / arr.length)
        }

        calcMean();


        let heading = document.getElementById("heading").innerHTML;
        let onlyLemma = heading.replace(/ .*/, '');

        //NEW

        // set up flag variables to track which scripts have been loaded successfully
        let statsLoaded = false;
        let statsGroupingsLoaded = false;
        let statsAgreementLoaded = false;
        let statsPlottingLoaded = false;
        let statsDataJointLoaded = false;

        let filteredStats = [];
        let filteredStatsGroupings = [];
        let filteredStatsAgreement = [];
        let filteredStatsPlotting = [];
        let filteredStatsDataJoint = [];

        let clusteringMethod;
        let cluster_freq_dist;
        let cluster_prob_dist;
        let noise_cluster_count;
        let clusterInfo;
        let statisticsDiv;
        let nodePosition;


        // create event listeners for each script to set the corresponding flag when loaded
        document.addEventListener('statsLoaded', function () {
            console.log('stats.js is fully loaded!');
            statsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsGroupingsLoaded', function () {
            console.log('stats_groupings.js is fully loaded!');
            statsGroupingsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsAgreementLoaded', function () {
            console.log('stats_agreement.js is fully loaded!');
            statsAgreementLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsPlottingLoaded', function () {
            console.log('stats_plotting.js is fully loaded!');
            statsPlottingLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsDataJointLoaded', function () {
            console.log('data_joint.js is fully loaded!');
            statsDataJointLoaded = true;
            checkAllScriptsLoaded();
        });

        // load each script with the same function
        function loadScript(scriptUrl, eventName) {
            const script = document.createElement('script');
            script.src = scriptUrl;
            script.type = 'text/javascript';

            script.addEventListener('load', function () {
                console.log(scriptUrl + ' loaded successfully');
                document.dispatchEvent(new Event(eventName));
            });

            script.addEventListener('error', function () {
                console.log('Failed to load ' + scriptUrl);
                checkAllScriptsLoaded();
            });

            document.body.appendChild(script);
        }

        // call the loadScript function for each script you want to load
        loadScript('../stats.js', 'statsLoaded');
        loadScript('../stats_groupings.js', 'statsGroupingsLoaded');
        loadScript('../stats_agreement.js', 'statsAgreementLoaded');
        loadScript('../stats_plotting.js', 'statsPlottingLoaded');
        loadScript('../data_joint.js', 'statsDataJointLoaded');

        // check if all scripts have been loaded, and execute the code that depends on them if they have
        function checkAllScriptsLoaded() {

            if (statsLoaded) {
                try {
                    filteredStats = stats.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats not found');
                }

                try {
                    generateTable(filteredStats, "stats");
                } catch (err) {
                    console.log('problem generating table with stats');
                }

                try {
                    clusteringMethod = filteredStats[0].algorithm;
                } catch (err) {
                    console.log('filteredStats[0] not found');
                }



            }

            if (statsGroupingsLoaded) {
                try {
                    filteredStatsGroupings = stats_groupings.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_groupings not found');
                }

                try {
                    generateTable(filteredStatsGroupings, "statsGroupings");
                } catch (err) {
                    console.log('problem generating table with stats_groupings');
                }

                cluster_freq_dist = filteredStatsGroupings[0].cluster_freq_dist;
                cluster_prob_dist = filteredStatsGroupings[0].cluster_prob_dist;
            }

            if (statsAgreementLoaded) {
                try {
                    filteredStatsAgreement = stats_agreement.filter(row => row.data === onlyLemma);
                } catch (err) {
                    console.log('stats_agreement not found');
                }

                try {
                    generateTable(filteredStatsAgreement, "statsAgreement");
                } catch (err) {
                    console.log('problem generating table with stats_agreement');
                }


            }

            if (statsPlottingLoaded) {
                try {
                    filteredStatsPlotting = stats_plotting.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_plotting not found');
                }

                try {
                    generateTable(filteredStatsPlotting, "statsPlotting");
                } catch (err) {
                    console.log('problem generating table with stats_plotting');
                }

                nodePosition = filteredStatsPlotting[0].node_position;
            }

            if (statsDataJointLoaded) {
                try {
                    filteredStatsDataJoint = data_joint.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_data_joint not found');
                }

                try {
                    generateDetails(filteredStatsDataJoint, "statsDataJoint");
                } catch (err) {
                    console.log('problem generating table with statsDataJoint');
                }

                if(!annotatorsContainer.hasChildNodes()){
                    fillAnnotatorsContainer(filteredStatsDataJoint);
                }
            }

            noise_cluster_count = 0;
            nodes.forEach(function (node) {
                if (Number(node.label) == -1) {
                    noise_cluster_count += 1;
                }
            });

            clusterInfo = document.getElementById("clusterInfo");
            statisticsDiv = document.getElementById("statistics");

            clusterInfo.innerHTML = `
            <p>Node position: ${nodePosition}</p>
            <p>Clustering method: ${clusteringMethod}</p>`;

            statisticsDiv.innerHTML = `
            <p id="clusterFreqDist">Cluster frequency distribution: ${cluster_freq_dist}</p>
            <p id="clusterProbDist">Cluster probability distribution: ${cluster_prob_dist}</p>
            <p id="noiseClusterCount">Noise Cluster: [${noise_cluster_count}]</p>`;

        }


        function generateTable(jsonData, id) {
            if (!jsonData || jsonData.length === 0) {
                console.error(`Error: Invalid JSON data in generateTable function for id '${id}'`);
                return;
            }

            let div = document.createElement('div');


            let keys = Object.keys(jsonData[0]);
            keys.forEach(function (key) {
                let details = document.createElement('details');
                details.classList.add('shifted');
                let summary = document.createElement('summary');
                summary.innerText = key;
                details.appendChild(summary);
                let content = document.createElement('div');
                content.innerText = jsonData[0][key];
                details.appendChild(content);
                div.appendChild(details);

            })

            document.getElementById(id).append(div);
        }

        function generateDetails(jsonData, id) {
            let div = document.createElement('div');

            for (let i = 0; i < jsonData.length; i++) {
                let surroundingDetails = document.createElement('details');
                surroundingDetails.classList.add('shifted');
                let surroundingSummary = document.createElement('summary');
                surroundingSummary.innerText = i.toString();
                surroundingDetails.appendChild(surroundingSummary);
                div.appendChild(surroundingDetails);
                let keys = Object.keys(jsonData[i]);
                keys.forEach(function (key) {
                    let details = document.createElement('details');
                    details.classList.add('shifted');
                    let summary = document.createElement('summary');
                    summary.innerText = key;
                    details.appendChild(summary);
                    let content = document.createElement('div');
                    content.innerText = jsonData[i][key];
                    details.appendChild(content);
                    surroundingDetails.appendChild(details);

                })
            }

            document.getElementById(id).append(div);
        }




        function updateClusterDistribution() {
            let clusterFreqDist = [];
            let clusterProbDist = [];
            let noiseClusterCount = 0;
            let temp = [];
            let numberOfNodes = 0;

            nodes.forEach(function (node) {
                if (!node.hidden) {
                    temp.push(Number(node.label));
                }


            })

            temp.sort();

            let biggestLabel = temp[temp.length - 1];

            for (let i = 0; i <= biggestLabel; i++) {
                clusterFreqDist.push(0);
                clusterProbDist.push(0);
            }

            temp.forEach(function (item) {
                if (!(item == -1)) {
                    numberOfNodes += 1;
                    clusterFreqDist[item] += 1;
                } else {
                    noiseClusterCount += 1;
                }
            })

            for (let j = 0; j < clusterFreqDist.length; j++) {
                if (clusterFreqDist[j] > 0) {

                    clusterProbDist[j] = (clusterFreqDist[j] / numberOfNodes);

                    let parts = clusterProbDist[j].toString().split('.');

                    // Check the length of the decimal part
                    if (parts[1] && parts[1].length > 5) {
                        // Round the value to 5 decimal places if the decimal part is longer than 5 digits
                        clusterProbDist[j] = clusterProbDist[j].toFixed(5);
                    }
                }
            }

            document.getElementById("clusterFreqDist").innerHTML = "Cluster frequency distribution: [" + clusterFreqDist.toString() + "]";
            document.getElementById("clusterProbDist").innerHTML = "Cluster probability distribution: [" + clusterProbDist.toString() + "]";
            document.getElementById("noiseClusterCount").innerHTML = "Noise cluster: [" + noiseClusterCount.toString() + "]";
        }


        let annotatorsContainer = document.getElementById("annotatorsContainer");
        let annotators = [];

        function fillAnnotatorsContainer(jsonData) {
            let div = document.createElement('div');
            let h4 = document.createElement('h4');
            h4.innerHTML = "Annotator filter (resets all other filters): ";
            div.appendChild(h4);

            for (let i = 0; i < jsonData.length; i++) {

                let annotator = jsonData[i]["annotator"]
                if (!annotators.includes(annotator)) {
                    annotators.push(annotator);
                }
            }

            annotators.sort();

            for (let j = 0; j < annotators.length; j++) {
                let label = document.createElement('label');
                label.innerHTML = annotators[j];
                label.for = annotators[j];
                let checkbox = document.createElement('input');
                checkbox.type = "checkbox";
                checkbox.checked = true;
                checkbox.id = annotators[j];
                div.appendChild(label);
                div.appendChild(checkbox);
            }

            let button = document.createElement('button');
            button.innerHTML = "Show graph";
            button.onclick = annotatorsFilter;
            div.appendChild(button);
            let br = document.createElement('br')
            let br2 = document.createElement('br')
            div.appendChild(br);
            div.appendChild(br2);

            annotatorsContainer.append(div);
        }



        function annotatorsFilter() {
            showSelectLoad();
            setTimeout(calculateSubGraph, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function calculateSubGraph() {
            loadingIcon.style.visibility = 'visible';
            let onlyCheckedAnnotators = [];
            for (let i = 0; i < annotators.length; i++) {
                let checkAnnotator = document.getElementById(annotators[i]);
                if (checkAnnotator.checked) {
                    onlyCheckedAnnotators.push(annotators[i]);
                }
            }


            let filteredForAnnotators = filteredStatsDataJoint.filter(row => onlyCheckedAnnotators.includes(row.annotator));


            groupPicker.selectedIndex = 0;
            sliderMin.value = 1;
            slider.value = 4;
            sliderDisplay.innerHTML = "4";
            sliderMinDisplay.innerHTML = "1";
            checkboxNoiseLabels.checked = true;
            checkboxNaN.checked = true;
            maxPicker.selectedIndex = dates.length - 1;
            minPicker.selectedIndex = 0;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            nodes.forEach(function (node){
                if(node.hidden){
                    node.hidden = false;
                    nodes.update(node);
                }
            })

            /*edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;

                let from = nodes.get(edge.from);
                let from_id = from.id;

                let edgeAnnotations = [];

                for (let k = 0; k < filteredForAnnotators.length; k++) {
                    let item = filteredForAnnotators[k];
                    let identifier1 = item.identifier1;
                    let identifier2 = item.identifier2;
                    let weight = Number(item.judgment);

                    if((identifier1 == to_id && identifier2 == from_id) || (identifier1 == from_id && identifier2 == to_id)){

                        if(0 < weight < 5){
                            //console.log("there is a corresponding annotation thats not NaN");
                            edgeAnnotations.push(weight);
                        }
                    }
                }

                if (edgeAnnotations.length !== 0){
                let median;
                let filteredArray = edgeAnnotations;
                filteredArray.sort((a, b) => a - b);
                let middle = Math.floor(filteredArray.length / 2);
                if (filteredArray.length % 2 === 0) {
                    median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                } else {
                    median = filteredArray[middle];
                }

                    console.log("the median for this edge is: " + median);

                    if (median == 0){
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                    edges.update(edge);

                    } else {
                    edge.hidden = true;
                    edges.update(edge);
                }







            })
            */


            // Create a map to store the filteredForAnnotators array
            let annotationsMap = new Map();
            filteredForAnnotators.forEach(function (item) {
                let identifier1 = item.identifier1;
                let identifier2 = item.identifier2;
                let weight = Number(item.judgment);
                if (weight >= 0 && weight < 5) {
                    // Only store annotations with weight between 0 and 5
                    let key = [identifier1, identifier2].sort().join('-');
                    let annotations = annotationsMap.get(key) || [];
                    annotations.push(weight);
                    annotationsMap.set(key, annotations);
                }
            });

            // Iterate over the edges and get the annotations from the map
            edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;
                let from = nodes.get(edge.from);
                let from_id = from.id;
                let key = [to_id, from_id].sort().join('-');
                let edgeAnnotations = annotationsMap.get(key) || [];


                    //console.log("edge annos: " + edgeAnnotations);

                if (edgeAnnotations.length !== 0) {
                    let median;
                    let filteredArray = edgeAnnotations.filter(a => a > 0);
                    filteredArray.sort((a, b) => a - b);

                    if (filteredArray.length === 0) {
                        median = 0;
                    } else {
                        let middle = Math.floor(filteredArray.length / 2);
                        if (filteredArray.length % 2 === 0) {
                            median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                        } else {
                            median = filteredArray[middle];
                        }
                    }


                    //console.log("the median for this edge is: " + median);

                    if (median == 0) {
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                } else {
                    edge.hidden = true;
                }

                edges.update(edge);
            });



            loadingIcon.style.visibility = 'hidden';

            calcMean();
            updateClusterDistribution();
        }


        sliderMin.value = 1;
        slider.value = 4;


    </script>
</body>

</html>