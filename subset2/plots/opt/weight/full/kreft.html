<html xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
    <center>
        <h1 id="heading">kreft (full)</h1>
    </center>


    <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->

    <style type="text/css">
       #mynetwork {
            width: 65%;
            height: 90%;

            margin-right: 2%;

            height: {
                    {
                    height
                }
            }

            ;

            background-color: {
                    {
                    bgcolor
                }
            }

            ;
            border: 1px solid lightgray;
            position: relative;
            float: left;
        }

            {
            % if nodes|length>100 and physics_enabled %
        }

        #loadingBar {
            position: absolute;
            top: 0px;
            left: 0px;

            width: {
                    {
                    width
                }
            }

            ;

            height: {
                    {
                    height
                }
            }

            ;
            background-color:rgba(200, 200, 200, 0.8);
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -ms-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
            opacity:1;
        }

        #bar {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 20px;
            height: 20px;
            margin: auto auto auto auto;
            border-radius: 11px;
            border: 2px solid rgba(30, 30, 30, 0.05);
            background: rgb(0, 173, 246);
            /* Old browsers */
            box-shadow: 2px 0px 4px rgba(0, 0, 0, 0.4);
        }

        #border {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 500px;
            height: 23px;
            margin: auto auto auto auto;
            box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        #text {
            position: absolute;
            top: 8px;
            left: 530px;
            width: 30px;
            height: 50px;
            margin: auto auto auto auto;
            font-size: 22px;
            color: #000000;
        }

        div.outerBorder {
            position: relative;
            top: 400px;
            width: 600px;
            height: 44px;
            margin: auto auto auto auto;
            border: 8px solid rgba(0, 0, 0, 0.1);
            background: rgb(252, 252, 252);
            /* Old browsers */
            background: -moz-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(252, 252, 252, 1)), color-stop(100%, rgba(237, 237, 237, 1)));
            /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Opera 11.10+ */
            background: -ms-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* IE10+ */
            background: linear-gradient(to bottom, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fcfcfc', endColorstr='#ededed', GradientType=0);
            /* IE6-9 */
            border-radius: 72px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }

            {
            % endif %
        }

            {
            % if conf %
        }

        #config {
            float: left;
            width: 400px;
            height: 600px;
        }

            {
            % endif %
        }

            {
            % if tooltip_link %
        }

        /* position absolute is important and the container has to be relative or absolute as well. */
        div.popup {
            position: absolute;
            top: 0px;
            left: 0px;
            display: none;
            background-color: #f5f4ed;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            border: 1px solid #808074;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
        }



        /* hide the original tooltip */


        .vis-tooltip {
            position: absolute;
        }

        #config {
            display: none;

        }

            {
            % endif %
        }

        #custom_wugs {
            height: 90%;
            width: 30%;
            overflow: scroll;
        }

        #custom_wugs>* {
            padding: 1%;
            margin-left: 2%;
        }






        .help-tip {
            position: absolute;
            top: 18px;
            right: 18px;
            text-align: center;
            background-color: #E55B0A;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 26px;
            cursor: default;
        }

        .help-tip:before {
            content: '?';
            font-weight: bold;
            color: #fff;
        }

        .help-tip:hover p {
            display: block;
            transform-origin: 100% 0%;

            -webkit-animation: fadeIn 0.3s ease-in-out;
            animation: fadeIn 0.3s ease-in-out;

        }

        .help-tip p {
            /* The tooltip */
            display: none;
            text-align: left;
            background-color: #1E2021;
            padding: 20px;
            width: 800px;
            position: absolute;
            border-radius: 3px;
            box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
            right: 16px;
            color: #FFF;
            font-size: 13px;
            line-height: 1.4;
        }

        .help-tip p:before {
            /* The pointer of the tooltip */
            position: absolute;
            content: '';
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-bottom-color: #1E2021;
            right: 10px;
            top: -12px;
        }

        .help-tip p:after {
            /* Prevents the tooltip from being hidden */
            width: 100%;
            height: 40px;
            content: '';
            position: absolute;
            top: -40px;
            left: 0;
        }


        /* CSS animation */

        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.6);
            }

            100% {
                opacity: 100%;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading-icon {
            position: absolute;
            top: 40%;
            left: 30%;
            transform: translate(-50%, -50%);
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid red;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            visibility: hidden;
        }

        #custom_wugs {
            font-size: smaller;
        }

        .shifted {
            margin-left: 3%;
        }

        .bold {
            font-weight: bold;
        }

        #fillSD {
            margin-bottom: 0;
            padding-bottom: 0;
        }

    </style>

</head>

<body>
     <div id="loader" style="display: none"></div>

    <div id="mynetwork"></div>
    
    

    <div id="custom_wugs">



        <div class="help-tip">
            <p><em>General</em><br />
           Firefox is the recommended browser for this application. For large graphs, loading time may vary. This application is under development. Feedback is appreciated. The code, from which you can generate your own graphs, can be found here:  <a href="https://github.com/Garrafao/WUGs/" target="_blank" style="color: white">WUGs repository</a><br /><br /><br />
                <em>Statistics</em><br />
            The statistics section gets updated as the filters are used. For in-depth stats, refer to the stats dropdowns on the bottom.<br /><br /><br />
                <em>Edge & node filters</em><br />
            Edge weights are calculated as the mean of all annotations of the node pair.
            Nodes with noisy data appear black and have -1 as their label. Both the noisy nodes and edges with wrongly calculated weights can be filtered out.
            Edge and node filters are interlinked and should show the desired selection. While one filter is being calculated, the page will prevent you from selecting another filter.<br /><br /><br />
                <em>Annotators filter</em><br />
            The annotators filter resets all other filters and shows the initial graph, but only edges the selected annotators have annotated.</p>
        </div>

        <div class="infoContainer">
            <h4>Info: </h4>
            <div id="clusterInfo"></div>
            <h4>Statistics:</h4>
            <div id="statistics"></div>
            <p id="fillMean">Edge weight mean: </p>
            <p id="fillSD">Edge weight standard deviation: </p>
        </div>
        <div class ="edgeFilterContainer">
            <h4>Edge filters: </h4>

            <label for="checkboxNaN">Show NaN edges </label>
            <input type="checkbox" id="checkboxNaN" onclick="filterNaN()">
            <br><br>
            <div class="slideContainer" style="display: block; clear: both">
                <label for="slider-min" style="display: block">Min weight: <span id="sliderValueDisplayMin" style="display: inline-block">1</span></label>
                <input type="range" min="1" max="4" value="1" class="slider-load" id="slider-min">
                <label for="slider" style="display: block">Max weight: <span id="sliderValueDisplay" style="display: inline-block">4</span></label>
                <input type="range" min="1" max="4" value="4" class="slider-load" id="slider">
            </div>
        </div>




        <div class="nodeFilterContainer">
            <h4>Node filters: </h4>

            <label for="checkboxNoiseLabels">Show noise cluster</label>
            <input type="checkbox" id="checkboxNoiseLabels" onclick="filterNoiseLabels()">
            <br><br>
            <form onsubmit="dateFilter();return false">
                <label for="minPicker">From date: </label>
                <select class="picker" id="minPicker"></select>
                <label for="maxPicker">to date: </label>
                <select class="picker" id="maxPicker"></select>
                <input type="submit" value="Filter">
            </form>

            <label for="groupPicker">Grouping: </label>
            <select  class="select-load" id="groupPicker">
                <option>All</option>
                <option>1</option>
                <option>2</option>
            </select>
            <div class="loading-icon"></div>
        </div>

        <div id="annotatorsContainer"></div>

        <div class="detailsContainer">
            <details id="stats">
                <summary class="bold">Stats</summary>
                <table id="stats-table"></table>
            </details>
            <details id="statsGroupings">
                <summary class="bold">Grouping stats</summary>
                <table id="stats-groupings-table"></table>
            </details>
            <details id="statsAgreement">
                <summary class="bold">Agreement stats</summary>
                <table id="stats-agreement-table"></table>
            </details>
            <details id="statsPlotting">
                <summary class="bold">Plotting stats</summary>
                <table id="stats-plotting-table"></table>
            </details>
            <details id="statsDataJoint">
                <summary class="bold">Annotator data</summary>
            </details>
        </div>

    </div>

    <div id="config">

    </div>

    
     <!--<script type="text/javascript" src="../stats.js"></script>
     <script type="text/javascript" src="../stats_agreement.js"></script>
     <script type="text/javascript" src="../stats_groupings.js"></script>
     <script type="text/javascript" src="../stats_plotting.js"></script>
     <script type="text/javascript" src="../data_joint.js"></script>-->

    <script type="text/javascript">
        // initialize global variables.
        var edges;
        var nodes;
        var network;
        var container;
        var options, data;


        // This method is responsible for drawing the graph, returns the drawn network
        function drawGraph() {
            var container = document.getElementById('mynetwork');

            

            // parsing and collecting nodes and edges from the python
            nodes = new vis.DataSet([{"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_10", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eVi har omtrent samme hyppighet av de store livsstils- og\u003cbr\u003esamfunnssykdommer, og p\u00e5 noen omr\u00e5der kommer vi spesielt d\u00e5rlig\u003cbr\u003eRetningslinjer for prioriteringer innen norsk helsetjeneste ut. Vi har\u003cbr\u003een h\u00f8y ulykkeshyppighet for barn, antall selvmord for ungdom er \u00f8kende\u003cbr\u003eog vi er ogs\u00e5 inne i en situasjon med sterk vekst i \u003cb\u003ekreft\u003c/b\u003e og\u003cbr\u003epsykiske lidelser.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_10\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -382.14459599469143, "y": -487.6341788578373}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_68", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet meldes n\u00e5 over 15 000 nye tilfelle \u00e5rlig, og majoriteten m\u00e5\u003cbr\u003ebetegnes som kirurgisk \u003cb\u003ekreft\u003c/b\u003e, dvs. kreft hvor operativ\u003cbr\u003ebehandling oftest utgj\u00f8r den viktigste behandling. Dette representerer\u003cbr\u003eover 90 pst. av all kreft (inklusive ca. 12 pst. gynekologisk kreft,\u003cbr\u003emen eksklusive noe over 2 000 tilfelle av hudkreft, som oftest\u003cbr\u003ebehandles operativt med sm\u00e5 ressurser).\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_68\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 647.4782455092366, "y": -297.12656503351764}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_151", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eBeregninger tyder p\u00e5 at 20 - 40 pst. av for tidlige d\u00f8dsfall p\u00e5\u003cbr\u003egrunn av hjerte/karsykdommer, \u003cb\u003ekreft\u003c/b\u003e og ulykker, kan\u003cbr\u003eforebygges.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_151\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -473.4838318356389, "y": -1371.2578531091542}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_117", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eV\u00e5re leger var ogs\u00e5 tidlig ute med \u00e5 avdekke de f\u00f8rste\u003cbr\u003etilfellene av arbeidsbetinget \u003cb\u003ekreft\u003c/b\u003e, og den f\u00f8rste artikkelen\u003cbr\u003eom nikkelbetinget kreft kom i 1950 (10). 11944 kom ogs\u00e5 den f\u00f8rste\u003cbr\u003elaereboken i yrkeshygiene/yrkesmedisin ut (11). Mens v\u00e5re naboland,\u003cbr\u003esaerlig Sverige og Finland, bygget ut forskjellige yrkeshygieniske og\u003cbr\u003eyrkesmedisinske institusjoner for forebyggelse av arbeidsbetingede\u003cbr\u003esykdommer fra 1945-46 og utover, synes det forebyggende helsearbeidet\u003cbr\u003e\u2014 til tross for oppbygging av bedriftshelsetjenesten \u2014 \u00e5 ha stoppet\u003cbr\u003eopp i Norge fra 1950 og frem til f\u00f8rste halvdel av 1960-\u00e5rene. Mens\u003cbr\u003eSverige og Finland i l\u00f8pet av 1960- og 1970-\u00e5rene utviklet seg til \u00e5\u003cbr\u003ebli foregangsland i forebyggelse av arbeidsbetingede sykdommer og i\u003cbr\u003eforskning innen yrkesmedisin, ble Norge hengende etter p\u00e5 begge disse\u003cbr\u003eomr\u00e5dene. Rundt \u00e5r 1900 ble det etablert mange st\u00f8rre bedrifter i\u003cbr\u003eNorge, og mange av disse hadde sin egen verkslege. Disse legene var\u003cbr\u003ef\u00f8rst og fremst behandlende leger og tok seg lite av forebyggelse av\u003cbr\u003earbeidsbetingede sykdommer.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_117\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 2000.0, "y": -53.15405494748198}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_172", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eTallene for sykelighet og d\u00f8delighet av b\u00e5de \u003cb\u003ekreft\u003c/b\u003e\u003cbr\u003e(ondartede svulster) og hjerte- og karsykdommer viser geografiske\u003cbr\u003eforskjeller.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_172\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -610.2341583913282, "y": 53.12343153201016}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_64", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eKonklusjonen p\u00e5 denne utredning var at den naturlige utvikling\u003cbr\u003ei str\u00e5lebehandling av \u003cb\u003ekreft\u003c/b\u003e m\u00e5tte vaere \u00e5 la Det Norske\u003cbr\u003eRadiumhospital vaere det eneste sentrum for slik behandling. 3.2\u003cbr\u003e1951\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_64\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -516.1423465014482, "y": 972.0777539502604}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_212", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI en screeningsituasjon vil krefttilfelle ogs\u00e5 kunne bli\u003cbr\u003eoppdaget i intervallet mellom to screeningrunder. Inne i\u003cbr\u003ekjertelgangene. Intraductal \u003cb\u003ekreft\u003c/b\u003e vil si at svulsten bare er\u003cbr\u003elokalisert til kjertelgangene.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_212\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1350.2173947688934, "y": 1509.4284721833872}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_50", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eForel\u00f8pig er d\u00f8deligheten av \u003cb\u003ekreft\u003c/b\u003e i \u00e5ndedrettsorganene\u003cbr\u003e\u00f8kende b\u00e5de for kvinner og menn, og \u00f8kningen er sterkere for kvinner\u003cbr\u003eenn for menn, se kapittel 2.3. Sykeligheten av kreft i\u003cbr\u003e\u00e5ndedrettsorganene (nye tilfeller pr. \u00e5r) er ogs\u00e5 \u00f8kende, og\u003cbr\u003etilsvarende som for d\u00f8delighet \u00f8ker ogs\u00e5 sykeligheten betydelig\u003cbr\u003esterkere for kvinner enn for menn.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_50\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1461.2102702084326, "y": -10.258668289337788}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_12", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI november g\u00e5r Sosialdepartementet ut til offentligheten og\u003cbr\u003emeddeler at etter forhandlinger med leverand\u00f8rene har man funnet det\u003cbr\u003emulig \u00e5 kj\u00f8pe inn magnettomograf ogs\u00e5 til Det norske Radiumhospital,\u003cbr\u003emed tilskudd fra Landsforeningen mot \u003cb\u003ekreft\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_12\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1276.8777113728975, "y": -302.8100306099924}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_139", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eUnders\u00f8kelser tyder p\u00e5 at gjentatte opphold i forurenset luft\u003cbr\u003eover tid kan vaere medvirkende \u00e5rsak til \u00f8kt risiko for \u003cb\u003ekreft\u003c/b\u003e\u003cbr\u003eog skader p\u00e5 arveanleggene.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_139\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -112.83858483292447, "y": 602.3255393227101}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_kreft_247", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHvis man f.eks. dobler str\u00e5ledosen vil risikoen for\u003cbr\u003estr\u00e5leindusert \u003cb\u003ekreft\u003c/b\u003e fordobles.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_kreft_247\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 429.94539133523875, "y": 1385.820110328878}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_5090", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eSelv om det er en positiv utvikling, er kompetansen innenfor\u003cbr\u003epsykisk helsevern fortsatt svaert variabel og til dels svaert d\u00e5rlig\u003cbr\u003einnenfor en del milj\u00f8er. Like kostbart som hiv og \u003cb\u003ekreft\u003c/b\u003e til\u003cbr\u003esammen Dette er noe av det en har funnet. Konsekvensene er enorme,\u003cbr\u003ef\u00f8rst og fremst helsemessig for hver enkelt, men ogs\u00e5\u003cbr\u003esamfunnsmessig.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_5090\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1142.28301636602, "y": 1267.2610625002399}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_352", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMen jeg skal ikke klage. Jeg har ikke \u003cb\u003ekreft\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_352\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 487.795371809441, "y": 534.6155268993595}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_536", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eThor Hansen rammet av uhelbredelig \u003cb\u003ekreft\u003c/b\u003e OPPTIL TO \u00c5R\u003cbr\u003eIGJEN \u00c5 LEVE: Thor Hansen har f\u00e5tt p\u00e5vist uhelbredelig kreft.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_536\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1475.1672750542273, "y": -1264.9076540522874}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_4602", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u2014 Jeg hadde en veldig god start i Krasnodar i fjor, men p\u00e5\u003cbr\u003eh\u00f8sten fikk jeg vite at broren min hadde f\u00e5tt \u003cb\u003ekreft\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_4602\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1086.7791096614526, "y": 506.77220995204874}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_2568", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- N\u00e5r det blir en stor \u00f8kning i antall og andel av de som er\u003cbr\u003eover 80 \u00e5r i Norge, vil flere f\u00e5 \u003cb\u003ekreft\u003c/b\u003e og hjerte- og\u003cbr\u003ekarsykdommer fordi dette henger sammen med alder.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_2568\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 749.5129001413737, "y": -1280.4962567910031}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_5618", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u2013 For meg var det valget mellom \u003cb\u003ekreft\u003c/b\u003e og en stor\u003cbr\u003eoperasjon da jeg tok bort brystene. Etterp\u00e5 kjente jeg p\u00e5 en stor\u003cbr\u003elettelse.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_5618\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -193.81769645899865, "y": 1855.1673207818312}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_5206", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHan fikk snart tilnavnet \"kongen av \u00f8rkenblues\". Ry Cooder\u003cbr\u003espilte i 1994 inn plata \u00ab Talking Timbuktu\u00bb med ham. Rett f\u00f8r han d\u00f8de\u003cbr\u003eav \u003cb\u003ekreft\u003c/b\u003e i 2006, rakk han \u00e5 delta p\u00e5 den f\u00f8rste plata til\u003cbr\u003es\u00f8nnen Vieux\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_5206\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1117.0304367826905, "y": -1071.5533995712144}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_5147", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDa hun kansellerte USA-turen i vinter, ble hun tvunget til \u00e5 g\u00e5\u003cbr\u003eut i mediene \u00e5 benekte ryktene om at hun hun kjemper mot\u003cbr\u003e\u003cb\u003ekreft\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_5147\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1661.5051374681168, "y": 691.1566415993516}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_6913", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDen konkluderte med at mobiltelefoner og annet utstyr ikke\u003cbr\u003ekunne gi vesentlige helseeffekter, slik som \u003cb\u003ekreft\u003c/b\u003e eller annen\u003cbr\u003ealvorlig sykdom\u00bb, skriver FHI. Gruppen presiserer at \u00aballe\u003cbr\u003erisikovurderinger er beheftet med en usikkerhet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_6913\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1799.5593379485076, "y": -481.22326544487333}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_4690", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eS\u00e5 falt antallet dramatisk fordi det ble publisert en studie\u003cbr\u003esom viste sammenheng mellom hormontilskudd og \u003cb\u003ekreft\u003c/b\u003e. Positive\u003cbr\u003eeffekter H\u00e5berg mener at det er overveiende sannsynlig at det er\u003cbr\u003epositive effekter for hjernen ved bruk av \u00f8strogentilskudd, men om det\u003cbr\u003ep\u00e5 sikt beskytter mot demens er fremdeles uklart. \u2013 Om kvinner \u00f8nsker\u003cbr\u003e\u00e5 ta \u00f8strogentilskudd, b\u00f8r de starte tidlig for \u00e5 f\u00e5 den positive\u003cbr\u003eeffekten i hjernen, sier H\u00e5berg. Pintzka p\u00e5peker at ingen av\u003cbr\u003edeltagerne i hans doktorgradsavhandling hadde demens og heller ikke\u003cbr\u003ehar utviklet i tiden etter MR bildene ble tatt, og at hverken han\u003cbr\u003eeller veilederen hans ikke vet hvor mange som kan utvikle demens n\u00e5r\u003cbr\u003ede blir enn\u00e5 eldre. Dette skal en forskningsgruppe ved NTNU f\u00f8lge opp\u003cbr\u003ei den neste HUNT unders\u00f8kelsen.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_4690\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 200.17204798064088, "y": -815.9810149401812}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_kreft_8229", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEn av l\u00e5tene herfra, med Dixie Chicks, heter \u00abSoon You\u2019ll Get\u003cbr\u003eBetter\u00bb og handler om Swifts mor, Andrea Swift, som ble rammet av\u003cbr\u003e\u003cb\u003ekreft\u003c/b\u003e for fire \u00e5r siden, og som nylig fikk et tilbakefall. les\u003cbr\u003eogs\u00e5 Mann arrestert utenfor Taylor Swifts hjem med jekk og\u003cbr\u003ek\u00f8lle\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_kreft_8229\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -233.6960348446578, "y": -1941.3451274032561}]);
        edges = new vis.DataSet([{"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_64", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_151", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_139", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_68", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_117", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_212", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_50", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "1980-1990_kreft_12", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_10", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "1980-1990_kreft_151", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "1980-1990_kreft_50", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "1980-1990_kreft_139", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "1980-1990_kreft_64", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "1980-1990_kreft_172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "1980-1990_kreft_212", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "1980-1990_kreft_117", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_68", "label": 4, "to": "1980-1990_kreft_12", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "1980-1990_kreft_117", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "1980-1990_kreft_139", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "1980-1990_kreft_172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "1980-1990_kreft_50", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "1980-1990_kreft_64", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "1980-1990_kreft_12", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_151", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "1980-1990_kreft_172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "1980-1990_kreft_50", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "1980-1990_kreft_12", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "1980-1990_kreft_212", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "1980-1990_kreft_139", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "1980-1990_kreft_64", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_117", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "1980-1990_kreft_139", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "1980-1990_kreft_50", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "1980-1990_kreft_212", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "1980-1990_kreft_12", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_172", "label": 4, "to": "1980-1990_kreft_64", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "1980-1990_kreft_212", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "1980-1990_kreft_139", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "1980-1990_kreft_50", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "1980-1990_kreft_12", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_64", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "1980-1990_kreft_139", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_212", "label": 4, "to": "1980-1990_kreft_12", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "1980-1990_kreft_139", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "1980-1990_kreft_12", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_50", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "1980-1990_kreft_139", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_12", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "1980-1990_kreft_247", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_139", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_5090", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_kreft_247", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5090", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5090", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5090", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5090", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5090", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5090", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5090", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5090", "label": 4, "to": "2012-2019_kreft_352", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5090", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_352", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_352", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_352", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_352", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_352", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_352", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_352", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_352", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_352", "label": 4, "to": "2012-2019_kreft_536", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_536", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_536", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_536", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_536", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_536", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_536", "label": 4, "to": "2012-2019_kreft_4602", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_4602", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_4602", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_4602", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_4602", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_4602", "label": 4, "to": "2012-2019_kreft_2568", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_4602", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_2568", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_2568", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_2568", "label": 4, "to": "2012-2019_kreft_5618", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_2568", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_2568", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5618", "label": 4, "to": "2012-2019_kreft_5206", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5618", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5618", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5618", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5206", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5206", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5206", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5206", "label": 4, "to": "2012-2019_kreft_5147", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5147", "label": 4, "to": "2012-2019_kreft_6913", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5147", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_5147", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_6913", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_6913", "label": 4, "to": "2012-2019_kreft_4690", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_kreft_4690", "label": 4, "to": "2012-2019_kreft_8229", "weight": 4.0, "width": 4}]);

        // adding nodes and edges to the graph
        data = { nodes: nodes, edges: edges };

        var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "nodes",
            "edges"
        ]
    },
    "edges": {
        "color": {
            "inherit": false
        },
        "smooth": {
            "enabled": false,
            "type": "continuous"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": false,
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

        

        
        // if this network requires displaying the configure window,
        // put it in its div
        options.configure["container"] = document.getElementById("config");
        

        network = new vis.Network(container, data, options);

        


        

        return network;

    }

        drawGraph();


        let nodesInTimePeriod = new Set();
        let edgesInTimePeriod = new Set();
        let edgesBelowWeight = new Set();
        let nodesInGrouping = new Set();
        let edgesInGrouping = new Set();
        let edgesToBeShown = new Set();
        let nodesToBeShown = new Set();

        edges.forEach(function (edge) {
            edgesBelowWeight.add(edge.id);
            edgesInGrouping.add(edge.id);
            edgesInTimePeriod.add(edge.id);
            edgesToBeShown.add(edge.id);
        })

        nodes.forEach(function (node) {
            nodesInTimePeriod.add(node.id);
            nodesInGrouping.add(node.id);
            nodesToBeShown.add(node.id);
        })


        function showEdges() {
            edgesToBeShown.forEach(function (edge) {
                edge.hidden = false;
                edges.update(edge);
            })
        }

        //Missing the loading icon
        //slider code from pyvis filter example
        // Handler event when slider changes

        let slider = document.getElementById('slider');
        let sliderMin = document.getElementById('slider-min');
        let sliderDisplay = document.getElementById('sliderValueDisplay');
        let sliderMinDisplay = document.getElementById('sliderValueDisplayMin');

        sliderDisplay.innerHTML = "4";
        sliderMinDisplay.innerHTML = "1";

        function weightFilter() {
            console.log("weight filter got called");
            // Get the value of the slider
            let sliderValue = slider.value;
            let sliderMinValue = sliderMin.value;

            // Display the selected value next to slider
            sliderDisplay.innerHTML = sliderValue;
            sliderMinDisplay.innerHTML = sliderMinValue;

            // Loop through the edges
            edges.forEach(function (edge) {
                // Check if the edge should be displayed based on its weight
                if (edge.weight <= sliderValue && edge.weight >= sliderMinValue) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        edgesBelowWeight.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    }
                    // Edge should be displayed
                    // Unhide edge if it's hidden and update DataSet

                } else if (isNaN(edge.weight)) {
                    //console.log("its NaN")
                } else {

                    // Edge should not be displayed
                    // Hide edge if not already hidden and update DataSet
                    if (!edge.hidden) {
                        edgesBelowWeight.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }
                }
            });


            calcMean();
        }



        //code for node date filter
        let dates = [];
        nodes.forEach(function (node) {
            date = node.date;
            if (!dates.includes(date)) {
                dates.push(date);
            }
        });
        dates.sort();


        //code for date slider
        let minDate = 10000;
        let maxDate = 0;

        let minPicker = document.getElementById('minPicker');
        let maxPicker = document.getElementById('maxPicker');

        if (!minPicker.hasChildNodes()) {
            dates.forEach(function (date) {
                if (Number(date) < minDate) {
                    minDate = Number(date);
                }
                if (Number(date) > maxDate) {
                    maxDate = Number(date);
                }


                let option = document.createElement('option');
                option.text = date;
                option.value = date;

                let option2 = document.createElement('option');
                option2.text = date;
                option2.value = date;

                minPicker.append(option);
                maxPicker.append(option2);

            })
        } else {
            minDate = Number(dates[0]);
            maxDate = Number(dates[dates.length-1]);
        }
        maxPicker.selectedIndex = dates.length - 1;



        function showSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'visible';
                resolve();
            });
        }

        function hideSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'hidden';
                resolve();
            });
        }



        const loadingIcon = document.querySelector('.loading-icon');
        const select = document.querySelector('.select-load');

        select.addEventListener('change', function () {
            showSelectLoad();
            setTimeout(selectGroup, 1000);


            setTimeout(hideSelectLoad, 1000);


        });

        //const slider_load = document.querySelector('.slider-load');

         slider.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

         sliderMin.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

        let groupPicker = document.getElementById('groupPicker');
        groupPicker.selectedIndex = 0;
        let minValue = minPicker.value;
        let maxValue = maxPicker.value;

        function selectGroup() {
            return new Promise(function (resolve, reject) {
                let selectValue = document.getElementById('groupPicker').value;

                console.log("grouping value: " + selectValue);

                if (selectValue == 1) {
                    nodes.forEach(function (node) {


                        if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else if (selectValue == 2) {
                    nodes.forEach(function (node) {
                        if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else {
                    nodes.forEach(function (node) {
                        if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                }
                loadingIcon.style.visibility = 'hidden';

                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        if (showNaNEdges && !nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {

                            edge.hidden = false;
                            edges.update(edge);
                        } else {
                            edge.hidden = true;
                            edge.hidden = true;
                            edges.update(edge);
                        }
                    } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && !isNaN(edge.weight)) {
                        edgesInGrouping.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    } else {
                        edgesInGrouping.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }


                })
                loadingIcon.style.visibility = 'hidden';
                calcMean();
                updateClusterDistribution();
                resolve();
            });

        }

        function dateFilter() {
            showSelectLoad();
            setTimeout(pickDates, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function pickDates() {
            loadingIcon.style.visibility = 'visible';

            let selectValue = document.getElementById('groupPicker').value;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            //console.log("showing dates between " + minValue + " and " + maxValue);

            if (selectValue == 1) {
                nodes.forEach(function (node) {


                    if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else if (selectValue == 2) {
                nodes.forEach(function (node) {
                    if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else {
                nodes.forEach(function (node) {
                    if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            }

            edges.forEach(function (edge) {


                if (isNaN(edge.weight) && !showNaNEdges) {

                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && isNaN(edge.weight)){
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && edge.weight >= sliderMin.value && edge.weight <= slider.value) {
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else {
                    edgesInTimePeriod.delete(edge.id);
                    edge.hidden = true;
                    edges.update(edge);
                }


            })
            loadingIcon.style.visibility = 'hidden'


            calcMean();
            updateClusterDistribution();

        }

        let showNaNEdges = true;

        function filterNaN() {
            showSelectLoad();
            setTimeout(selectNaN, 1000);


            setTimeout(hideSelectLoad, 1000);

        };

        const checkboxNaN = document.getElementById("checkboxNaN");

        function selectNaN() {
            if (checkboxNaN.checked) {

                showNaNEdges = true;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = false;
                        edges.update(edge);
                        pickDates();
                    }
                });
            } else {
                showNaNEdges = false;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = true;
                        edges.update(edge);
                    }
                });
            }


        }


        const checkboxNoiseLabels = document.getElementById("checkboxNoiseLabels");

        document.getElementById("checkboxNaN").checked = true;
        document.getElementById("checkboxNoiseLabels").checked = true;

        let showNoiseLabels = true;

        function filterNoiseLabels() {
            showSelectLoad();
            setTimeout(selectNoiseLabels, 1000);


            setTimeout(hideSelectLoad, 1000);
        }

        function selectNoiseLabels() {
            if (checkboxNoiseLabels.checked) {

                showNoiseLabels = true;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {
                        node.hidden = false;
                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        if (isNaN(edge.weight) && !showNaNEdges) {
                            edge.hidden = true;
                            edges.update(edge);

                        } else {
                            edge.hidden = false;
                            edges.update(edge);
                        }
                    }
                })

            } else {

                showNoiseLabels = false;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {

                        node.hidden = true;

                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (nodes.get(edge.to).hidden || nodes.get(edge.from).hidden || (isNaN(edge.weight) && !showNaNEdges)) {

                        edge.hidden = true;
                        edges.update(edge);

                    }
                })

            }
            updateClusterDistribution();
        }


        let fillMean = document.getElementById("fillMean");
        let fillSD = document.getElementById("fillSD");


        function calcMean() {
            let edgeValues = [];
            edges.forEach(function (edge) {
                if (!edge.hidden) {
                    let label = parseFloat(edge.weight);
                    if (!isNaN(label)) {
                        edgeValues.push(label);
                    }
                }
            })

            let mean = edgeValues.reduce((a, b) => a + b, 0) / edgeValues.length;
            let sd = dev(edgeValues, mean);
            if (isNaN(mean)) {
                mean = 0;
            }
            if (isNaN(sd)) {
                sd = 0;
            }
            mean = mean.toFixed(5);
            sd = sd.toFixed(5);

            fillMean.innerHTML = "Edge weight mean: ";
            fillSD.innerHTML = "Edge weight standard deviation: "

            fillMean.append(mean);
            fillSD.append(sd);

        }


        // Javascript program to calculate the standard deviation of an array

        function dev(arr, mean) {

            // Assigning (value - mean) ^ 2 to every array item
            arr = arr.map((k) => {
                return (k - mean) ** 2
            })


            // Calculating the sum of updated array
            let sum = arr.reduce((acc, curr) => acc + curr, 0);


            // Returning the standard deviation
            return Math.sqrt(sum / arr.length)
        }

        calcMean();


        let heading = document.getElementById("heading").innerHTML;
        let onlyLemma = heading.replace(/ .*/, '');

        //NEW

        // set up flag variables to track which scripts have been loaded successfully
        let statsLoaded = false;
        let statsGroupingsLoaded = false;
        let statsAgreementLoaded = false;
        let statsPlottingLoaded = false;
        let statsDataJointLoaded = false;

        let filteredStats = [];
        let filteredStatsGroupings = [];
        let filteredStatsAgreement = [];
        let filteredStatsPlotting = [];
        let filteredStatsDataJoint = [];

        let clusteringMethod;
        let cluster_freq_dist;
        let cluster_prob_dist;
        let noise_cluster_count;
        let clusterInfo;
        let statisticsDiv;
        let nodePosition;


        // create event listeners for each script to set the corresponding flag when loaded
        document.addEventListener('statsLoaded', function () {
            console.log('stats.js is fully loaded!');
            statsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsGroupingsLoaded', function () {
            console.log('stats_groupings.js is fully loaded!');
            statsGroupingsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsAgreementLoaded', function () {
            console.log('stats_agreement.js is fully loaded!');
            statsAgreementLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsPlottingLoaded', function () {
            console.log('stats_plotting.js is fully loaded!');
            statsPlottingLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsDataJointLoaded', function () {
            console.log('data_joint.js is fully loaded!');
            statsDataJointLoaded = true;
            checkAllScriptsLoaded();
        });

        // load each script with the same function
        function loadScript(scriptUrl, eventName) {
            const script = document.createElement('script');
            script.src = scriptUrl;
            script.type = 'text/javascript';

            script.addEventListener('load', function () {
                console.log(scriptUrl + ' loaded successfully');
                document.dispatchEvent(new Event(eventName));
            });

            script.addEventListener('error', function () {
                console.log('Failed to load ' + scriptUrl);
                checkAllScriptsLoaded();
            });

            document.body.appendChild(script);
        }

        // call the loadScript function for each script you want to load
        loadScript('../stats.js', 'statsLoaded');
        loadScript('../stats_groupings.js', 'statsGroupingsLoaded');
        loadScript('../stats_agreement.js', 'statsAgreementLoaded');
        loadScript('../stats_plotting.js', 'statsPlottingLoaded');
        loadScript('../data_joint.js', 'statsDataJointLoaded');

        // check if all scripts have been loaded, and execute the code that depends on them if they have
        function checkAllScriptsLoaded() {

            if (statsLoaded) {
                try {
                    filteredStats = stats.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats not found');
                }

                try {
                    generateTable(filteredStats, "stats");
                } catch (err) {
                    console.log('problem generating table with stats');
                }

                try {
                    clusteringMethod = filteredStats[0].algorithm;
                } catch (err) {
                    console.log('filteredStats[0] not found');
                }



            }

            if (statsGroupingsLoaded) {
                try {
                    filteredStatsGroupings = stats_groupings.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_groupings not found');
                }

                try {
                    generateTable(filteredStatsGroupings, "statsGroupings");
                } catch (err) {
                    console.log('problem generating table with stats_groupings');
                }

                cluster_freq_dist = filteredStatsGroupings[0].cluster_freq_dist;
                cluster_prob_dist = filteredStatsGroupings[0].cluster_prob_dist;
            }

            if (statsAgreementLoaded) {
                try {
                    filteredStatsAgreement = stats_agreement.filter(row => row.data === onlyLemma);
                } catch (err) {
                    console.log('stats_agreement not found');
                }

                try {
                    generateTable(filteredStatsAgreement, "statsAgreement");
                } catch (err) {
                    console.log('problem generating table with stats_agreement');
                }


            }

            if (statsPlottingLoaded) {
                try {
                    filteredStatsPlotting = stats_plotting.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_plotting not found');
                }

                try {
                    generateTable(filteredStatsPlotting, "statsPlotting");
                } catch (err) {
                    console.log('problem generating table with stats_plotting');
                }

                nodePosition = filteredStatsPlotting[0].node_position;
            }

            if (statsDataJointLoaded) {
                try {
                    filteredStatsDataJoint = data_joint.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_data_joint not found');
                }

                try {
                    generateDetails(filteredStatsDataJoint, "statsDataJoint");
                } catch (err) {
                    console.log('problem generating table with statsDataJoint');
                }

                if(!annotatorsContainer.hasChildNodes()){
                    fillAnnotatorsContainer(filteredStatsDataJoint);
                }
            }

            noise_cluster_count = 0;
            nodes.forEach(function (node) {
                if (Number(node.label) == -1) {
                    noise_cluster_count += 1;
                }
            });

            clusterInfo = document.getElementById("clusterInfo");
            statisticsDiv = document.getElementById("statistics");

            clusterInfo.innerHTML = `
            <p>Node position: ${nodePosition}</p>
            <p>Clustering method: ${clusteringMethod}</p>`;

            statisticsDiv.innerHTML = `
            <p id="clusterFreqDist">Cluster frequency distribution: ${cluster_freq_dist}</p>
            <p id="clusterProbDist">Cluster probability distribution: ${cluster_prob_dist}</p>
            <p id="noiseClusterCount">Noise Cluster: [${noise_cluster_count}]</p>`;

        }


        function generateTable(jsonData, id) {
            if (!jsonData || jsonData.length === 0) {
                console.error(`Error: Invalid JSON data in generateTable function for id '${id}'`);
                return;
            }

            let div = document.createElement('div');


            let keys = Object.keys(jsonData[0]);
            keys.forEach(function (key) {
                let details = document.createElement('details');
                details.classList.add('shifted');
                let summary = document.createElement('summary');
                summary.innerText = key;
                details.appendChild(summary);
                let content = document.createElement('div');
                content.innerText = jsonData[0][key];
                details.appendChild(content);
                div.appendChild(details);

            })

            document.getElementById(id).append(div);
        }

        function generateDetails(jsonData, id) {
            let div = document.createElement('div');

            for (let i = 0; i < jsonData.length; i++) {
                let surroundingDetails = document.createElement('details');
                surroundingDetails.classList.add('shifted');
                let surroundingSummary = document.createElement('summary');
                surroundingSummary.innerText = i.toString();
                surroundingDetails.appendChild(surroundingSummary);
                div.appendChild(surroundingDetails);
                let keys = Object.keys(jsonData[i]);
                keys.forEach(function (key) {
                    let details = document.createElement('details');
                    details.classList.add('shifted');
                    let summary = document.createElement('summary');
                    summary.innerText = key;
                    details.appendChild(summary);
                    let content = document.createElement('div');
                    content.innerText = jsonData[i][key];
                    details.appendChild(content);
                    surroundingDetails.appendChild(details);

                })
            }

            document.getElementById(id).append(div);
        }




        function updateClusterDistribution() {
            let clusterFreqDist = [];
            let clusterProbDist = [];
            let noiseClusterCount = 0;
            let temp = [];
            let numberOfNodes = 0;

            nodes.forEach(function (node) {
                if (!node.hidden) {
                    temp.push(Number(node.label));
                }


            })

            temp.sort();

            let biggestLabel = temp[temp.length - 1];

            for (let i = 0; i <= biggestLabel; i++) {
                clusterFreqDist.push(0);
                clusterProbDist.push(0);
            }

            temp.forEach(function (item) {
                if (!(item == -1)) {
                    numberOfNodes += 1;
                    clusterFreqDist[item] += 1;
                } else {
                    noiseClusterCount += 1;
                }
            })

            for (let j = 0; j < clusterFreqDist.length; j++) {
                if (clusterFreqDist[j] > 0) {

                    clusterProbDist[j] = (clusterFreqDist[j] / numberOfNodes);

                    let parts = clusterProbDist[j].toString().split('.');

                    // Check the length of the decimal part
                    if (parts[1] && parts[1].length > 5) {
                        // Round the value to 5 decimal places if the decimal part is longer than 5 digits
                        clusterProbDist[j] = clusterProbDist[j].toFixed(5);
                    }
                }
            }

            document.getElementById("clusterFreqDist").innerHTML = "Cluster frequency distribution: [" + clusterFreqDist.toString() + "]";
            document.getElementById("clusterProbDist").innerHTML = "Cluster probability distribution: [" + clusterProbDist.toString() + "]";
            document.getElementById("noiseClusterCount").innerHTML = "Noise cluster: [" + noiseClusterCount.toString() + "]";
        }


        let annotatorsContainer = document.getElementById("annotatorsContainer");
        let annotators = [];

        function fillAnnotatorsContainer(jsonData) {
            let div = document.createElement('div');
            let h4 = document.createElement('h4');
            h4.innerHTML = "Annotator filter (resets all other filters): ";
            div.appendChild(h4);

            for (let i = 0; i < jsonData.length; i++) {

                let annotator = jsonData[i]["annotator"]
                if (!annotators.includes(annotator)) {
                    annotators.push(annotator);
                }
            }

            annotators.sort();

            for (let j = 0; j < annotators.length; j++) {
                let label = document.createElement('label');
                label.innerHTML = annotators[j];
                label.for = annotators[j];
                let checkbox = document.createElement('input');
                checkbox.type = "checkbox";
                checkbox.checked = true;
                checkbox.id = annotators[j];
                div.appendChild(label);
                div.appendChild(checkbox);
            }

            let button = document.createElement('button');
            button.innerHTML = "Show graph";
            button.onclick = annotatorsFilter;
            div.appendChild(button);
            let br = document.createElement('br')
            let br2 = document.createElement('br')
            div.appendChild(br);
            div.appendChild(br2);

            annotatorsContainer.append(div);
        }



        function annotatorsFilter() {
            showSelectLoad();
            setTimeout(calculateSubGraph, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function calculateSubGraph() {
            loadingIcon.style.visibility = 'visible';
            let onlyCheckedAnnotators = [];
            for (let i = 0; i < annotators.length; i++) {
                let checkAnnotator = document.getElementById(annotators[i]);
                if (checkAnnotator.checked) {
                    onlyCheckedAnnotators.push(annotators[i]);
                }
            }


            let filteredForAnnotators = filteredStatsDataJoint.filter(row => onlyCheckedAnnotators.includes(row.annotator));


            groupPicker.selectedIndex = 0;
            sliderMin.value = 1;
            slider.value = 4;
            sliderDisplay.innerHTML = "4";
            sliderMinDisplay.innerHTML = "1";
            checkboxNoiseLabels.checked = true;
            checkboxNaN.checked = true;
            maxPicker.selectedIndex = dates.length - 1;
            minPicker.selectedIndex = 0;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            nodes.forEach(function (node){
                if(node.hidden){
                    node.hidden = false;
                    nodes.update(node);
                }
            })

            /*edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;

                let from = nodes.get(edge.from);
                let from_id = from.id;

                let edgeAnnotations = [];

                for (let k = 0; k < filteredForAnnotators.length; k++) {
                    let item = filteredForAnnotators[k];
                    let identifier1 = item.identifier1;
                    let identifier2 = item.identifier2;
                    let weight = Number(item.judgment);

                    if((identifier1 == to_id && identifier2 == from_id) || (identifier1 == from_id && identifier2 == to_id)){

                        if(0 < weight < 5){
                            //console.log("there is a corresponding annotation thats not NaN");
                            edgeAnnotations.push(weight);
                        }
                    }
                }

                if (edgeAnnotations.length !== 0){
                let median;
                let filteredArray = edgeAnnotations;
                filteredArray.sort((a, b) => a - b);
                let middle = Math.floor(filteredArray.length / 2);
                if (filteredArray.length % 2 === 0) {
                    median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                } else {
                    median = filteredArray[middle];
                }

                    console.log("the median for this edge is: " + median);

                    if (median == 0){
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                    edges.update(edge);

                    } else {
                    edge.hidden = true;
                    edges.update(edge);
                }







            })
            */


            // Create a map to store the filteredForAnnotators array
            let annotationsMap = new Map();
            filteredForAnnotators.forEach(function (item) {
                let identifier1 = item.identifier1;
                let identifier2 = item.identifier2;
                let weight = Number(item.judgment);
                if (weight >= 0 && weight < 5) {
                    // Only store annotations with weight between 0 and 5
                    let key = [identifier1, identifier2].sort().join('-');
                    let annotations = annotationsMap.get(key) || [];
                    annotations.push(weight);
                    annotationsMap.set(key, annotations);
                }
            });

            // Iterate over the edges and get the annotations from the map
            edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;
                let from = nodes.get(edge.from);
                let from_id = from.id;
                let key = [to_id, from_id].sort().join('-');
                let edgeAnnotations = annotationsMap.get(key) || [];


                    //console.log("edge annos: " + edgeAnnotations);

                if (edgeAnnotations.length !== 0) {
                    let median;
                    let filteredArray = edgeAnnotations.filter(a => a > 0);
                    filteredArray.sort((a, b) => a - b);

                    if (filteredArray.length === 0) {
                        median = 0;
                    } else {
                        let middle = Math.floor(filteredArray.length / 2);
                        if (filteredArray.length % 2 === 0) {
                            median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                        } else {
                            median = filteredArray[middle];
                        }
                    }


                    //console.log("the median for this edge is: " + median);

                    if (median == 0) {
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                } else {
                    edge.hidden = true;
                }

                edges.update(edge);
            });



            loadingIcon.style.visibility = 'hidden';

            calcMean();
            updateClusterDistribution();
        }


        sliderMin.value = 1;
        slider.value = 4;


    </script>
</body>

</html>