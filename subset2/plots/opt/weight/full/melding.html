<html xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
    <center>
        <h1 id="heading">melding (full)</h1>
    </center>


    <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->

    <style type="text/css">
       #mynetwork {
            width: 65%;
            height: 90%;

            margin-right: 2%;

            height: {
                    {
                    height
                }
            }

            ;

            background-color: {
                    {
                    bgcolor
                }
            }

            ;
            border: 1px solid lightgray;
            position: relative;
            float: left;
        }

            {
            % if nodes|length>100 and physics_enabled %
        }

        #loadingBar {
            position: absolute;
            top: 0px;
            left: 0px;

            width: {
                    {
                    width
                }
            }

            ;

            height: {
                    {
                    height
                }
            }

            ;
            background-color:rgba(200, 200, 200, 0.8);
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -ms-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
            opacity:1;
        }

        #bar {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 20px;
            height: 20px;
            margin: auto auto auto auto;
            border-radius: 11px;
            border: 2px solid rgba(30, 30, 30, 0.05);
            background: rgb(0, 173, 246);
            /* Old browsers */
            box-shadow: 2px 0px 4px rgba(0, 0, 0, 0.4);
        }

        #border {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 500px;
            height: 23px;
            margin: auto auto auto auto;
            box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        #text {
            position: absolute;
            top: 8px;
            left: 530px;
            width: 30px;
            height: 50px;
            margin: auto auto auto auto;
            font-size: 22px;
            color: #000000;
        }

        div.outerBorder {
            position: relative;
            top: 400px;
            width: 600px;
            height: 44px;
            margin: auto auto auto auto;
            border: 8px solid rgba(0, 0, 0, 0.1);
            background: rgb(252, 252, 252);
            /* Old browsers */
            background: -moz-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(252, 252, 252, 1)), color-stop(100%, rgba(237, 237, 237, 1)));
            /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Opera 11.10+ */
            background: -ms-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* IE10+ */
            background: linear-gradient(to bottom, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fcfcfc', endColorstr='#ededed', GradientType=0);
            /* IE6-9 */
            border-radius: 72px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }

            {
            % endif %
        }

            {
            % if conf %
        }

        #config {
            float: left;
            width: 400px;
            height: 600px;
        }

            {
            % endif %
        }

            {
            % if tooltip_link %
        }

        /* position absolute is important and the container has to be relative or absolute as well. */
        div.popup {
            position: absolute;
            top: 0px;
            left: 0px;
            display: none;
            background-color: #f5f4ed;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            border: 1px solid #808074;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
        }



        /* hide the original tooltip */


        .vis-tooltip {
            position: absolute;
        }

        #config {
            display: none;

        }

            {
            % endif %
        }

        #custom_wugs {
            height: 90%;
            width: 30%;
            overflow: scroll;
        }

        #custom_wugs>* {
            padding: 1%;
            margin-left: 2%;
        }






        .help-tip {
            position: absolute;
            top: 18px;
            right: 18px;
            text-align: center;
            background-color: #E55B0A;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 26px;
            cursor: default;
        }

        .help-tip:before {
            content: '?';
            font-weight: bold;
            color: #fff;
        }

        .help-tip:hover p {
            display: block;
            transform-origin: 100% 0%;

            -webkit-animation: fadeIn 0.3s ease-in-out;
            animation: fadeIn 0.3s ease-in-out;

        }

        .help-tip p {
            /* The tooltip */
            display: none;
            text-align: left;
            background-color: #1E2021;
            padding: 20px;
            width: 800px;
            position: absolute;
            border-radius: 3px;
            box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
            right: 16px;
            color: #FFF;
            font-size: 13px;
            line-height: 1.4;
        }

        .help-tip p:before {
            /* The pointer of the tooltip */
            position: absolute;
            content: '';
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-bottom-color: #1E2021;
            right: 10px;
            top: -12px;
        }

        .help-tip p:after {
            /* Prevents the tooltip from being hidden */
            width: 100%;
            height: 40px;
            content: '';
            position: absolute;
            top: -40px;
            left: 0;
        }


        /* CSS animation */

        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.6);
            }

            100% {
                opacity: 100%;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading-icon {
            position: absolute;
            top: 40%;
            left: 30%;
            transform: translate(-50%, -50%);
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid red;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            visibility: hidden;
        }

        #custom_wugs {
            font-size: smaller;
        }

        .shifted {
            margin-left: 3%;
        }

        .bold {
            font-weight: bold;
        }

        #fillSD {
            margin-bottom: 0;
            padding-bottom: 0;
        }

    </style>

</head>

<body>
     <div id="loader" style="display: none"></div>

    <div id="mynetwork"></div>
    
    

    <div id="custom_wugs">



        <div class="help-tip">
            <p><em>General</em><br />
           Firefox is the recommended browser for this application. For large graphs, loading time may vary. This application is under development. Feedback is appreciated. The code, from which you can generate your own graphs, can be found here:  <a href="https://github.com/Garrafao/WUGs/" target="_blank" style="color: white">WUGs repository</a><br /><br /><br />
                <em>Statistics</em><br />
            The statistics section gets updated as the filters are used. For in-depth stats, refer to the stats dropdowns on the bottom.<br /><br /><br />
                <em>Edge & node filters</em><br />
            Edge weights are calculated as the mean of all annotations of the node pair.
            Nodes with noisy data appear black and have -1 as their label. Both the noisy nodes and edges with wrongly calculated weights can be filtered out.
            Edge and node filters are interlinked and should show the desired selection. While one filter is being calculated, the page will prevent you from selecting another filter.<br /><br /><br />
                <em>Annotators filter</em><br />
            The annotators filter resets all other filters and shows the initial graph, but only edges the selected annotators have annotated.</p>
        </div>

        <div class="infoContainer">
            <h4>Info: </h4>
            <div id="clusterInfo"></div>
            <h4>Statistics:</h4>
            <div id="statistics"></div>
            <p id="fillMean">Edge weight mean: </p>
            <p id="fillSD">Edge weight standard deviation: </p>
        </div>
        <div class ="edgeFilterContainer">
            <h4>Edge filters: </h4>

            <label for="checkboxNaN">Show NaN edges </label>
            <input type="checkbox" id="checkboxNaN" onclick="filterNaN()">
            <br><br>
            <div class="slideContainer" style="display: block; clear: both">
                <label for="slider-min" style="display: block">Min weight: <span id="sliderValueDisplayMin" style="display: inline-block">1</span></label>
                <input type="range" min="1" max="4" value="1" class="slider-load" id="slider-min">
                <label for="slider" style="display: block">Max weight: <span id="sliderValueDisplay" style="display: inline-block">4</span></label>
                <input type="range" min="1" max="4" value="4" class="slider-load" id="slider">
            </div>
        </div>




        <div class="nodeFilterContainer">
            <h4>Node filters: </h4>

            <label for="checkboxNoiseLabels">Show noise cluster</label>
            <input type="checkbox" id="checkboxNoiseLabels" onclick="filterNoiseLabels()">
            <br><br>
            <form onsubmit="dateFilter();return false">
                <label for="minPicker">From date: </label>
                <select class="picker" id="minPicker"></select>
                <label for="maxPicker">to date: </label>
                <select class="picker" id="maxPicker"></select>
                <input type="submit" value="Filter">
            </form>

            <label for="groupPicker">Grouping: </label>
            <select  class="select-load" id="groupPicker">
                <option>All</option>
                <option>1</option>
                <option>2</option>
            </select>
            <div class="loading-icon"></div>
        </div>

        <div id="annotatorsContainer"></div>

        <div class="detailsContainer">
            <details id="stats">
                <summary class="bold">Stats</summary>
                <table id="stats-table"></table>
            </details>
            <details id="statsGroupings">
                <summary class="bold">Grouping stats</summary>
                <table id="stats-groupings-table"></table>
            </details>
            <details id="statsAgreement">
                <summary class="bold">Agreement stats</summary>
                <table id="stats-agreement-table"></table>
            </details>
            <details id="statsPlotting">
                <summary class="bold">Plotting stats</summary>
                <table id="stats-plotting-table"></table>
            </details>
            <details id="statsDataJoint">
                <summary class="bold">Annotator data</summary>
            </details>
        </div>

    </div>

    <div id="config">

    </div>

    
     <!--<script type="text/javascript" src="../stats.js"></script>
     <script type="text/javascript" src="../stats_agreement.js"></script>
     <script type="text/javascript" src="../stats_groupings.js"></script>
     <script type="text/javascript" src="../stats_plotting.js"></script>
     <script type="text/javascript" src="../data_joint.js"></script>-->

    <script type="text/javascript">
        // initialize global variables.
        var edges;
        var nodes;
        var network;
        var container;
        var options, data;


        // This method is responsible for drawing the graph, returns the drawn network
        function drawGraph() {
            var container = document.getElementById('mynetwork');

            

            // parsing and collecting nodes and edges from the python
            nodes = new vis.DataSet([{"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_1338", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eAbonnement: kr. 58,50 pr. sesjon, fritt tilsendt. AKA 8904\u003cbr\u003eStortingsproposisjoner Forslag til vedtak fra Regjeringen i saker som\u003cbr\u003eStortinget skal ta stilling til. Abonnement: kr. 350,50 pr. sesjon,\u003cbr\u003efritt tilsendt. AKA 8905 Stortingsmeldinger Inneholder bl.a.\u003cbr\u003eStatsregnskapet, \u003cb\u003emeldinger\u003c/b\u003e til Stortinget om arbeidet i statens\u003cbr\u003ebedrifter, meldinger om planer som Regjeringen vil sette i verk i\u003cbr\u003efremtiden. Abonnement: kr. 386,50 pr. sesjon, fritt tilsendt. AKA 8906\u003cbr\u003eOdelstingsproposisjoner Regjeringens lovforslag.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_1338\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 934.3919448805055, "y": -752.7307543732643}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_2558", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eForuten \u00e5 avskjaere forsikringstageren fra fritt og vilk\u00e5rlig\u003cbr\u003etilbakekall, har et slikt avkall ogs\u00e5 visse andre, kanskje vel s\u00e5\u003cbr\u003ebetydelige, virknmger, jfr. saerhg \u00a7 104 annet ledd som dr\u00f8ftes\u003cbr\u003enaermere nedenfor. Videre heter det i \u00a7 104 annet ledd annet punktum\u003cbr\u003eat det samme ogs\u00e5 gjelder \u00abi forhold til barns f orlottsrett til arv\u003cbr\u003eetter arveloven\u00bb, jfr. arvelovens \u00a7 36. Ogs\u00e5 dette kan etter\u003cbr\u003eomstendighetene gj\u00f8re betydehge inngrep i den begunstigedes rett. Til\u003cbr\u003etross for de betydelige virkninger som f\u00f8lger med et tilsagn om\u003cbr\u003eugjenkallelighet, er dette formfritt. Etter \u00a7 102 annet ledd m\u00e5\u003cbr\u003etilsagnet rettes til den begunstigede; en \u003cb\u003emelding\u003c/b\u003e til selskapet\u003cbr\u003eer derfor ikke tilstrekkelig. Men det stilles intet krav om\u003cbr\u003eskrifthghet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_2558\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1409.3583704090338, "y": -553.3280930322912}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_3944", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDenne enk\u00e9ten \"sjekker\" signalene og styrer dem videre til\u003cbr\u003eforskjellig mottakerutstyr i sentralen, dataskjerm som viser\u003cbr\u003e\u003cb\u003emeldingen\u003c/b\u003e i klar tekst, datalager, b\u00e5ndopptaker m.v.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_3944\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -454.4825495413581, "y": -1487.3480943935724}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_1834", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet f\u00f8lger av alminnelige forvaltningsrettslige prinsipper at\u003cbr\u003eet forvaltningsorgan kan omgj\u00f8re eget vedtak, og vedtak som er truffet\u003cbr\u003eav underordnet organ, innen de rammer som er gitt i forvaltningsloven\u003cbr\u003e\u00a7 35. Det skilles her mellom omgj\u00f8ring til gunst og omgj\u00f8ring til\u003cbr\u003eskade, og det er satt frister for \u00e5 gi varsel om at vedtaket\u003cbr\u003eoverpr\u00f8ves samt frist for \u00e5 gi \u003cb\u003emelding\u003c/b\u003e om at vedtaket er\u003cbr\u003eomgjort. Bestemmelsene i lovens \u00a7 14-6 tredje ledd om omgj\u00f8ring\u003cbr\u003einneholder ingen frister.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_1834\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 2000.0, "y": 645.5740012145276}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_3006", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eLigningskontoret har mottatt \u003cb\u003emelding\u003c/b\u003e fra Datasenteret om\u003cbr\u003eforskuttert bidrag, anf\u00f8rt p\u00e5 forskuddsbladet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_3006\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -141.44709401219362, "y": -830.9117246408805}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_4520", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eGenerelt b\u00f8r det legges opp til en st\u00f8rst mulig delegering av\u003cbr\u003esaker fra departementet til DSS. Landbruksdepartementets styring b\u00f8r\u003cbr\u003evaere knyttet til sentrale retningslinjer og trekkes opp i\u003cbr\u003e\u003cb\u003emeldinger\u003c/b\u003e til Stortinget og i budsjettproposisjoner. 4-1\u003cbr\u003e\u2022\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_4520\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -801.8959419765883, "y": -173.10954065205567}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_2964", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eN\u00e5r trygdekontoret utbetaler forskott og/ eller st\u00f8nad, som det\u003cbr\u003eoffentlige (folketrygden) har refusjonskrav i hos bidragspliktige,\u003cbr\u003eforesl\u00e5r vi at det automatisk sendes \u003cb\u003emelding\u003c/b\u003e til\u003cbr\u003eskattemyndighetene (ligningskontoret) om innkreving over\u003cbr\u003eskatteseddelen av dette bel\u00f8pet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_2964\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1754.7243389291175, "y": -310.75574147483536}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_5172", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMange kommuner har allerede startet opp med \u00e5 typebestemme\u003cbr\u003esaker med sikte p\u00e5 en mer effektiv behandling. Pkt. 1 gir en\u003cbr\u003edefinisjon av typebestemt behandling samt utgangspunktet for\u003cbr\u003edifferensiering. Utvalget har foresl\u00e5tt en grovsiling av ulike\u003cbr\u003esakstyper, men det er den enkelte kommune som m\u00e5 vurdere hvilken\u003cbr\u003esakstype den enkelte \u003cb\u003emelding\u003c/b\u003e forutsettes \u00e5 tilh\u00f8re. Pkt. 2 gir\u003cbr\u003ekommunen en mulighet til \u00e5 foreta ytterligere inndeling i sakstyper\u003cbr\u003efor \u00e5 sikre en god intern ansvarsdeling og rasjonell behandling i\u003cbr\u003ekommunen.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_5172\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 935.8841109380483, "y": -1706.70401850743}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_2383", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMen prismyndighetene skulle f\u00f8re tilsyn med prisutviklingen,\u003cbr\u003ebl.a. -gjennom \u003cb\u003emeldinger\u003c/b\u003e fra de ervervsdrivende.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_2383\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1694.1735385978664, "y": 647.4972231440945}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_4271", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDette ville vaere naturlig med en registreringsordning hvor\u003cbr\u003elandet var oppdelt i en rekke mindre enheter. Behandlingen ville skje\u003cbr\u003ei hvert enkelt registreringsomr\u00e5de uavhengig av hvordan tilsvarende\u003cbr\u003e\u003cb\u003emeldinger\u003c/b\u003e ble behandlet i andre.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_4271\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -377.4003839623354, "y": 1507.0540879904245}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_melding_622", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDen ordinaere revisjonen av de statseide selskapenes regnskaper\u003cbr\u003eforetas p\u00e5 samme m\u00e5te som for private aksjeselskaper. Statoils\u003cbr\u003evirksomhet behandles \u00e5rlig av Stortinget i forbindelse med\u003cbr\u003eRegjeringens \u003cb\u003emelding\u003c/b\u003e til Stortinget om statens engasjement i\u003cbr\u003epetroleumsvirksomheten.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_melding_622\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 426.43209674297174, "y": -979.9766142647431}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_60297", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eIngen ble skadet i trafikkuhellet p\u00e5 Justnes torsdag, da to\u003cbr\u003ebiler kolliderte. FOTO: Tormod Flem Vegge KRISTIANSAND: N\u00f8detatene\u003cbr\u003erykket torsdag ettermiddag ut til Justnes etter \u003cb\u003emelding\u003c/b\u003e om en\u003cbr\u003etrafikkulykke med personskader.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_60297\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 456.106249951058, "y": 555.3783446057816}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_54522", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eIf\u00f8lge operasjonsleder Vibeke Naess i Hordaland politidistrikt\u003cbr\u003ehar en person kontaktet politiet og opplyst at han kan vaere eier av\u003cbr\u003eden forlatte kajakken. \u2013 Vi unders\u00f8ker dette n\u00e5, sier Naess. Klokken\u003cbr\u003e22.31 s\u00f8ndag fikk politiet i Hordaland \u003cb\u003emelding\u003c/b\u003e fra en\u003cbr\u003eprivatperson som hadde h\u00f8rt rop om hjelp fra sj\u00f8en. \u2013 Etter meldingen\u003cbr\u003eom ropene, ble det funnet en kajakk og en padle\u00e5re i det samme\u003cbr\u003eomr\u00e5det.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_54522\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1055.7257427747913, "y": 1248.4141243477543}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_69007", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- Jeg har mistet alt, sa hun p\u00e5 sp\u00f8rsm\u00e5l fra statsadvokat\u003cbr\u003eAndreas Schei om hvordan drapet har p\u00e5virket livet hennes. FOTO: Ane\u003cbr\u003eHem - Barnet beveger seg ikke, var blant de mange dramatiske\u003cbr\u003e\u003cb\u003emeldinger\u003c/b\u003e som kom inn til politi og AMK om masseslagsm\u00e5let p\u00e5\u003cbr\u003eEllingsrud.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_69007\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1462.350361851232, "y": -34.69841748223758}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_109979", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI \u003cb\u003emeldingen\u003c/b\u003e het det at auksjonsprosessen \u00abble\u003cbr\u003egjennomf\u00f8rt p\u00e5 en m\u00e5te som medf\u00f8rte at enkelte strategiske relevante\u003cbr\u003eakt\u00f8rer ikke deltok\u00bb.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_109979\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -892.1617066940714, "y": 673.7996052327641}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_7137", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eAngrepet av tre kvinner Kvinnene skal ha angrepet mannen og\u003cbr\u003esl\u00e5tt ham flere ganger mens han l\u00e5 nede. Foto: Terje Pedersen, ANB -\u003cbr\u003eMannen forklarte at det trolig var fors\u00f8k p\u00e5 ran, forteller\u003cbr\u003eoperasjonsleder Petter Aronsen i Vestfold politidistrikt til T\u00f8nsbergs\u003cbr\u003eBlad. Politiet fikk \u003cb\u003emelding\u003c/b\u003e om saken klokken 22.12 l\u00f8rdag\u003cbr\u003ekveld.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_7137\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 573.4033061138864, "y": 1329.0480937093446}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_84320", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eAdministrerende direkt\u00f8r Ragnar Sjoner i Norsk\u003cbr\u003eTillitsmann/Nordic Trustee. (Foto: Per St\u00e5le Bugjerde) Nordic Trustee\u003cbr\u003eASA, en sentral akt\u00f8r i det nordiske obligasjonsmarkedet som ofte\u003cbr\u003eopptrer p\u00e5 vegne av ulike obligasjonseiere, etablerer et nordisk\u003cbr\u003eratingbyr\u00e5, if\u00f8lge en \u003cb\u003emelding\u003c/b\u003e torsdag. Selskapet Nordic Credit\u003cbr\u003eRating AS tar sikte p\u00e5 hente 50 millioner kroner i en kapitalutvidelse\u003cbr\u003egjennom en spredt eierstruktur.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_84320\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -397.26263378176066, "y": 312.9605492966612}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_60682", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet satt en kvinne og et barn i bilen som ble p\u00e5kj\u00f8rt bakfra,\u003cbr\u003emen begge kom fra hendelsen med ubetydelige skader. Politiet fikk inn\u003cbr\u003e\u003cb\u003emeldingen\u003c/b\u003e klokken 15.43 tirsdag ettermiddag.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_60682\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1377.6767974818665, "y": -1048.3795646185924}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_55783", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eFra de 26 forskjellige legekontorene i Finnmark har det kommet\u003cbr\u003e\u00e5tte konkrete \u003cb\u003emeldinger\u003c/b\u003e om problemer.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_55783\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 270.0733266595973, "y": -58.43418052762563}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_94439", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eP\u00e5 sp\u00f8rsm\u00e5l fra Alfheim svarer Cappelen s\u00e5 bekreftende p\u00e5 at\u003cbr\u003ehan da i 2009 ikke visste eksakt n\u00e5r innf\u00f8rselen kom til Norge. M\u00e5tte\u003cbr\u003epresse p\u00e5 om \u00absn\u00f8\u00bb Tingrettsdommer Heger grep ogs\u00e5 inn om\u003cbr\u003e\u003cb\u003emeldinger\u003c/b\u003e om \u00absn\u00f8\u00bb mellom Jensen og Cappelen. Fredag 11.\u003cbr\u003efebruar skrives disse meldingene: Jensen: Stille, men mye sn\u00f8.\u003cbr\u003eCappelen: Dritt med sn\u00f8. Jensen: Jepp.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_94439\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -677.3977980435676, "y": -805.1748110213504}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_23650", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMann sl\u00e5tt ned p\u00e5 Lademoen L\u00f8rdag kveld rykket politiet i\u003cbr\u003eTrondheim ut til \u003cb\u003emelding\u003c/b\u003e om en voldsepisode p\u00e5 en adresse p\u00e5\u003cbr\u003eLademoen i Trondheim.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_23650\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1087.904544394476, "y": 907.8967678994405}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_melding_87584", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eKvinne hardt skadd etter knivstikking i Moss Politiet fikk\u003cbr\u003e\u003cb\u003emelding\u003c/b\u003e om saken klokka 8.18 fredag morgen.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_melding_87584\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 68.44421385480314, "y": 913.9287575480485}]);
        edges = new vis.DataSet([{"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "1980-1990_melding_1834", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "1980-1990_melding_3944", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "1980-1990_melding_2558", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 3.5, "to": "2012-2019_melding_109979", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "1980-1990_melding_2964", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "1980-1990_melding_4271", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "2012-2019_melding_60297", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "1980-1990_melding_5172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 3, "to": "2012-2019_melding_84320", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "1980-1990_melding_3006", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1338", "label": 4, "to": "1980-1990_melding_622", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "1980-1990_melding_4520", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "1980-1990_melding_2383", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "1980-1990_melding_5172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "1980-1990_melding_3944", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "1980-1990_melding_1834", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "1980-1990_melding_622", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_60297", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2558", "label": 3, "to": "1980-1990_melding_3006", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "1980-1990_melding_622", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "1980-1990_melding_4271", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "1980-1990_melding_5172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 3.5, "to": "2012-2019_melding_7137", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "1980-1990_melding_2383", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 3.5, "to": "1980-1990_melding_3006", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 3.5, "to": "1980-1990_melding_1834", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "1980-1990_melding_4520", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3944", "label": 4, "to": "1980-1990_melding_2964", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "1980-1990_melding_4271", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 3.5, "to": "1980-1990_melding_5172", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 3.5, "to": "2012-2019_melding_94439", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "2012-2019_melding_60297", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "1980-1990_melding_4520", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "1980-1990_melding_622", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 4, "to": "1980-1990_melding_3006", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_1834", "label": 3.5, "to": "2012-2019_melding_84320", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "1980-1990_melding_4520", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "1980-1990_melding_2383", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "1980-1990_melding_4271", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "1980-1990_melding_5172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "1980-1990_melding_2964", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 3.5, "to": "2012-2019_melding_109979", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "2012-2019_melding_60297", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_3006", "label": 4, "to": "1980-1990_melding_622", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "1980-1990_melding_4271", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "1980-1990_melding_2964", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_60297", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "1980-1990_melding_2383", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "1980-1990_melding_622", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 3, "to": "2012-2019_melding_87584", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4520", "label": 4, "to": "1980-1990_melding_5172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "2012-2019_melding_60297", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "1980-1990_melding_4271", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "1980-1990_melding_622", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "1980-1990_melding_5172", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "1980-1990_melding_2383", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2964", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 4, "to": "1980-1990_melding_622", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 3.5, "to": "2012-2019_melding_60297", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_5172", "label": 3, "to": "2012-2019_melding_54522", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 3.5, "to": "1980-1990_melding_622", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_60297", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "1980-1990_melding_4271", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_2383", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "1980-1990_melding_622", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_60297", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_4271", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_622", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_622", "label": 4, "to": "2012-2019_melding_60297", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_622", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_622", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_622", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_622", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_622", "label": 3.5, "to": "2012-2019_melding_60682", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_melding_622", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_melding_622", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60297", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60297", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60297", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60297", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60297", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60297", "label": 4, "to": "2012-2019_melding_69007", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60297", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60297", "label": 4, "to": "2012-2019_melding_54522", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60297", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_54522", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_54522", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_54522", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_54522", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_54522", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_54522", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_54522", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_54522", "label": 3, "to": "2012-2019_melding_94439", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_69007", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_69007", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_69007", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_69007", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_69007", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_69007", "label": 4, "to": "2012-2019_melding_109979", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_69007", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_109979", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_109979", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_109979", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_109979", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_109979", "label": 4, "to": "2012-2019_melding_7137", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_109979", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_109979", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_7137", "label": 4, "to": "2012-2019_melding_84320", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_7137", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_7137", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_7137", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_7137", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_84320", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_84320", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_84320", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_84320", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_84320", "label": 4, "to": "2012-2019_melding_60682", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60682", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60682", "label": 4, "to": "2012-2019_melding_55783", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_60682", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_55783", "label": 4, "to": "2012-2019_melding_94439", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_55783", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_55783", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_94439", "label": 4, "to": "2012-2019_melding_23650", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_melding_94439", "label": 3.5, "to": "2012-2019_melding_87584", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_melding_23650", "label": 4, "to": "2012-2019_melding_87584", "weight": 4.0, "width": 4}, {"color": "lightgray", "from": "1980-1990_melding_2558", "label": NaN, "to": "1980-1990_melding_4271", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1980-1990_melding_5172", "label": NaN, "to": "1980-1990_melding_4271", "weight": NaN, "width": 1.0}]);

        // adding nodes and edges to the graph
        data = { nodes: nodes, edges: edges };

        var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "nodes",
            "edges"
        ]
    },
    "edges": {
        "color": {
            "inherit": false
        },
        "smooth": {
            "enabled": false,
            "type": "continuous"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": false,
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

        

        
        // if this network requires displaying the configure window,
        // put it in its div
        options.configure["container"] = document.getElementById("config");
        

        network = new vis.Network(container, data, options);

        


        

        return network;

    }

        drawGraph();


        let nodesInTimePeriod = new Set();
        let edgesInTimePeriod = new Set();
        let edgesBelowWeight = new Set();
        let nodesInGrouping = new Set();
        let edgesInGrouping = new Set();
        let edgesToBeShown = new Set();
        let nodesToBeShown = new Set();

        edges.forEach(function (edge) {
            edgesBelowWeight.add(edge.id);
            edgesInGrouping.add(edge.id);
            edgesInTimePeriod.add(edge.id);
            edgesToBeShown.add(edge.id);
        })

        nodes.forEach(function (node) {
            nodesInTimePeriod.add(node.id);
            nodesInGrouping.add(node.id);
            nodesToBeShown.add(node.id);
        })


        function showEdges() {
            edgesToBeShown.forEach(function (edge) {
                edge.hidden = false;
                edges.update(edge);
            })
        }

        //Missing the loading icon
        //slider code from pyvis filter example
        // Handler event when slider changes

        let slider = document.getElementById('slider');
        let sliderMin = document.getElementById('slider-min');
        let sliderDisplay = document.getElementById('sliderValueDisplay');
        let sliderMinDisplay = document.getElementById('sliderValueDisplayMin');

        sliderDisplay.innerHTML = "4";
        sliderMinDisplay.innerHTML = "1";

        function weightFilter() {
            console.log("weight filter got called");
            // Get the value of the slider
            let sliderValue = slider.value;
            let sliderMinValue = sliderMin.value;

            // Display the selected value next to slider
            sliderDisplay.innerHTML = sliderValue;
            sliderMinDisplay.innerHTML = sliderMinValue;

            // Loop through the edges
            edges.forEach(function (edge) {
                // Check if the edge should be displayed based on its weight
                if (edge.weight <= sliderValue && edge.weight >= sliderMinValue) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        edgesBelowWeight.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    }
                    // Edge should be displayed
                    // Unhide edge if it's hidden and update DataSet

                } else if (isNaN(edge.weight)) {
                    //console.log("its NaN")
                } else {

                    // Edge should not be displayed
                    // Hide edge if not already hidden and update DataSet
                    if (!edge.hidden) {
                        edgesBelowWeight.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }
                }
            });


            calcMean();
        }



        //code for node date filter
        let dates = [];
        nodes.forEach(function (node) {
            date = node.date;
            if (!dates.includes(date)) {
                dates.push(date);
            }
        });
        dates.sort();


        //code for date slider
        let minDate = 10000;
        let maxDate = 0;

        let minPicker = document.getElementById('minPicker');
        let maxPicker = document.getElementById('maxPicker');

        if (!minPicker.hasChildNodes()) {
            dates.forEach(function (date) {
                if (Number(date) < minDate) {
                    minDate = Number(date);
                }
                if (Number(date) > maxDate) {
                    maxDate = Number(date);
                }


                let option = document.createElement('option');
                option.text = date;
                option.value = date;

                let option2 = document.createElement('option');
                option2.text = date;
                option2.value = date;

                minPicker.append(option);
                maxPicker.append(option2);

            })
        } else {
            minDate = Number(dates[0]);
            maxDate = Number(dates[dates.length-1]);
        }
        maxPicker.selectedIndex = dates.length - 1;



        function showSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'visible';
                resolve();
            });
        }

        function hideSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'hidden';
                resolve();
            });
        }



        const loadingIcon = document.querySelector('.loading-icon');
        const select = document.querySelector('.select-load');

        select.addEventListener('change', function () {
            showSelectLoad();
            setTimeout(selectGroup, 1000);


            setTimeout(hideSelectLoad, 1000);


        });

        //const slider_load = document.querySelector('.slider-load');

         slider.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

         sliderMin.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

        let groupPicker = document.getElementById('groupPicker');
        groupPicker.selectedIndex = 0;
        let minValue = minPicker.value;
        let maxValue = maxPicker.value;

        function selectGroup() {
            return new Promise(function (resolve, reject) {
                let selectValue = document.getElementById('groupPicker').value;

                console.log("grouping value: " + selectValue);

                if (selectValue == 1) {
                    nodes.forEach(function (node) {


                        if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else if (selectValue == 2) {
                    nodes.forEach(function (node) {
                        if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else {
                    nodes.forEach(function (node) {
                        if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                }
                loadingIcon.style.visibility = 'hidden';

                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        if (showNaNEdges && !nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {

                            edge.hidden = false;
                            edges.update(edge);
                        } else {
                            edge.hidden = true;
                            edge.hidden = true;
                            edges.update(edge);
                        }
                    } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && !isNaN(edge.weight)) {
                        edgesInGrouping.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    } else {
                        edgesInGrouping.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }


                })
                loadingIcon.style.visibility = 'hidden';
                calcMean();
                updateClusterDistribution();
                resolve();
            });

        }

        function dateFilter() {
            showSelectLoad();
            setTimeout(pickDates, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function pickDates() {
            loadingIcon.style.visibility = 'visible';

            let selectValue = document.getElementById('groupPicker').value;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            //console.log("showing dates between " + minValue + " and " + maxValue);

            if (selectValue == 1) {
                nodes.forEach(function (node) {


                    if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else if (selectValue == 2) {
                nodes.forEach(function (node) {
                    if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else {
                nodes.forEach(function (node) {
                    if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            }

            edges.forEach(function (edge) {


                if (isNaN(edge.weight) && !showNaNEdges) {

                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && isNaN(edge.weight)){
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && edge.weight >= sliderMin.value && edge.weight <= slider.value) {
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else {
                    edgesInTimePeriod.delete(edge.id);
                    edge.hidden = true;
                    edges.update(edge);
                }


            })
            loadingIcon.style.visibility = 'hidden'


            calcMean();
            updateClusterDistribution();

        }

        let showNaNEdges = true;

        function filterNaN() {
            showSelectLoad();
            setTimeout(selectNaN, 1000);


            setTimeout(hideSelectLoad, 1000);

        };

        const checkboxNaN = document.getElementById("checkboxNaN");

        function selectNaN() {
            if (checkboxNaN.checked) {

                showNaNEdges = true;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = false;
                        edges.update(edge);
                        pickDates();
                    }
                });
            } else {
                showNaNEdges = false;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = true;
                        edges.update(edge);
                    }
                });
            }


        }


        const checkboxNoiseLabels = document.getElementById("checkboxNoiseLabels");

        document.getElementById("checkboxNaN").checked = true;
        document.getElementById("checkboxNoiseLabels").checked = true;

        let showNoiseLabels = true;

        function filterNoiseLabels() {
            showSelectLoad();
            setTimeout(selectNoiseLabels, 1000);


            setTimeout(hideSelectLoad, 1000);
        }

        function selectNoiseLabels() {
            if (checkboxNoiseLabels.checked) {

                showNoiseLabels = true;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {
                        node.hidden = false;
                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        if (isNaN(edge.weight) && !showNaNEdges) {
                            edge.hidden = true;
                            edges.update(edge);

                        } else {
                            edge.hidden = false;
                            edges.update(edge);
                        }
                    }
                })

            } else {

                showNoiseLabels = false;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {

                        node.hidden = true;

                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (nodes.get(edge.to).hidden || nodes.get(edge.from).hidden || (isNaN(edge.weight) && !showNaNEdges)) {

                        edge.hidden = true;
                        edges.update(edge);

                    }
                })

            }
            updateClusterDistribution();
        }


        let fillMean = document.getElementById("fillMean");
        let fillSD = document.getElementById("fillSD");


        function calcMean() {
            let edgeValues = [];
            edges.forEach(function (edge) {
                if (!edge.hidden) {
                    let label = parseFloat(edge.weight);
                    if (!isNaN(label)) {
                        edgeValues.push(label);
                    }
                }
            })

            let mean = edgeValues.reduce((a, b) => a + b, 0) / edgeValues.length;
            let sd = dev(edgeValues, mean);
            if (isNaN(mean)) {
                mean = 0;
            }
            if (isNaN(sd)) {
                sd = 0;
            }
            mean = mean.toFixed(5);
            sd = sd.toFixed(5);

            fillMean.innerHTML = "Edge weight mean: ";
            fillSD.innerHTML = "Edge weight standard deviation: "

            fillMean.append(mean);
            fillSD.append(sd);

        }


        // Javascript program to calculate the standard deviation of an array

        function dev(arr, mean) {

            // Assigning (value - mean) ^ 2 to every array item
            arr = arr.map((k) => {
                return (k - mean) ** 2
            })


            // Calculating the sum of updated array
            let sum = arr.reduce((acc, curr) => acc + curr, 0);


            // Returning the standard deviation
            return Math.sqrt(sum / arr.length)
        }

        calcMean();


        let heading = document.getElementById("heading").innerHTML;
        let onlyLemma = heading.replace(/ .*/, '');

        //NEW

        // set up flag variables to track which scripts have been loaded successfully
        let statsLoaded = false;
        let statsGroupingsLoaded = false;
        let statsAgreementLoaded = false;
        let statsPlottingLoaded = false;
        let statsDataJointLoaded = false;

        let filteredStats = [];
        let filteredStatsGroupings = [];
        let filteredStatsAgreement = [];
        let filteredStatsPlotting = [];
        let filteredStatsDataJoint = [];

        let clusteringMethod;
        let cluster_freq_dist;
        let cluster_prob_dist;
        let noise_cluster_count;
        let clusterInfo;
        let statisticsDiv;
        let nodePosition;


        // create event listeners for each script to set the corresponding flag when loaded
        document.addEventListener('statsLoaded', function () {
            console.log('stats.js is fully loaded!');
            statsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsGroupingsLoaded', function () {
            console.log('stats_groupings.js is fully loaded!');
            statsGroupingsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsAgreementLoaded', function () {
            console.log('stats_agreement.js is fully loaded!');
            statsAgreementLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsPlottingLoaded', function () {
            console.log('stats_plotting.js is fully loaded!');
            statsPlottingLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsDataJointLoaded', function () {
            console.log('data_joint.js is fully loaded!');
            statsDataJointLoaded = true;
            checkAllScriptsLoaded();
        });

        // load each script with the same function
        function loadScript(scriptUrl, eventName) {
            const script = document.createElement('script');
            script.src = scriptUrl;
            script.type = 'text/javascript';

            script.addEventListener('load', function () {
                console.log(scriptUrl + ' loaded successfully');
                document.dispatchEvent(new Event(eventName));
            });

            script.addEventListener('error', function () {
                console.log('Failed to load ' + scriptUrl);
                checkAllScriptsLoaded();
            });

            document.body.appendChild(script);
        }

        // call the loadScript function for each script you want to load
        loadScript('../stats.js', 'statsLoaded');
        loadScript('../stats_groupings.js', 'statsGroupingsLoaded');
        loadScript('../stats_agreement.js', 'statsAgreementLoaded');
        loadScript('../stats_plotting.js', 'statsPlottingLoaded');
        loadScript('../data_joint.js', 'statsDataJointLoaded');

        // check if all scripts have been loaded, and execute the code that depends on them if they have
        function checkAllScriptsLoaded() {

            if (statsLoaded) {
                try {
                    filteredStats = stats.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats not found');
                }

                try {
                    generateTable(filteredStats, "stats");
                } catch (err) {
                    console.log('problem generating table with stats');
                }

                try {
                    clusteringMethod = filteredStats[0].algorithm;
                } catch (err) {
                    console.log('filteredStats[0] not found');
                }



            }

            if (statsGroupingsLoaded) {
                try {
                    filteredStatsGroupings = stats_groupings.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_groupings not found');
                }

                try {
                    generateTable(filteredStatsGroupings, "statsGroupings");
                } catch (err) {
                    console.log('problem generating table with stats_groupings');
                }

                cluster_freq_dist = filteredStatsGroupings[0].cluster_freq_dist;
                cluster_prob_dist = filteredStatsGroupings[0].cluster_prob_dist;
            }

            if (statsAgreementLoaded) {
                try {
                    filteredStatsAgreement = stats_agreement.filter(row => row.data === onlyLemma);
                } catch (err) {
                    console.log('stats_agreement not found');
                }

                try {
                    generateTable(filteredStatsAgreement, "statsAgreement");
                } catch (err) {
                    console.log('problem generating table with stats_agreement');
                }


            }

            if (statsPlottingLoaded) {
                try {
                    filteredStatsPlotting = stats_plotting.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_plotting not found');
                }

                try {
                    generateTable(filteredStatsPlotting, "statsPlotting");
                } catch (err) {
                    console.log('problem generating table with stats_plotting');
                }

                nodePosition = filteredStatsPlotting[0].node_position;
            }

            if (statsDataJointLoaded) {
                try {
                    filteredStatsDataJoint = data_joint.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_data_joint not found');
                }

                try {
                    generateDetails(filteredStatsDataJoint, "statsDataJoint");
                } catch (err) {
                    console.log('problem generating table with statsDataJoint');
                }

                if(!annotatorsContainer.hasChildNodes()){
                    fillAnnotatorsContainer(filteredStatsDataJoint);
                }
            }

            noise_cluster_count = 0;
            nodes.forEach(function (node) {
                if (Number(node.label) == -1) {
                    noise_cluster_count += 1;
                }
            });

            clusterInfo = document.getElementById("clusterInfo");
            statisticsDiv = document.getElementById("statistics");

            clusterInfo.innerHTML = `
            <p>Node position: ${nodePosition}</p>
            <p>Clustering method: ${clusteringMethod}</p>`;

            statisticsDiv.innerHTML = `
            <p id="clusterFreqDist">Cluster frequency distribution: ${cluster_freq_dist}</p>
            <p id="clusterProbDist">Cluster probability distribution: ${cluster_prob_dist}</p>
            <p id="noiseClusterCount">Noise Cluster: [${noise_cluster_count}]</p>`;

        }


        function generateTable(jsonData, id) {
            if (!jsonData || jsonData.length === 0) {
                console.error(`Error: Invalid JSON data in generateTable function for id '${id}'`);
                return;
            }

            let div = document.createElement('div');


            let keys = Object.keys(jsonData[0]);
            keys.forEach(function (key) {
                let details = document.createElement('details');
                details.classList.add('shifted');
                let summary = document.createElement('summary');
                summary.innerText = key;
                details.appendChild(summary);
                let content = document.createElement('div');
                content.innerText = jsonData[0][key];
                details.appendChild(content);
                div.appendChild(details);

            })

            document.getElementById(id).append(div);
        }

        function generateDetails(jsonData, id) {
            let div = document.createElement('div');

            for (let i = 0; i < jsonData.length; i++) {
                let surroundingDetails = document.createElement('details');
                surroundingDetails.classList.add('shifted');
                let surroundingSummary = document.createElement('summary');
                surroundingSummary.innerText = i.toString();
                surroundingDetails.appendChild(surroundingSummary);
                div.appendChild(surroundingDetails);
                let keys = Object.keys(jsonData[i]);
                keys.forEach(function (key) {
                    let details = document.createElement('details');
                    details.classList.add('shifted');
                    let summary = document.createElement('summary');
                    summary.innerText = key;
                    details.appendChild(summary);
                    let content = document.createElement('div');
                    content.innerText = jsonData[i][key];
                    details.appendChild(content);
                    surroundingDetails.appendChild(details);

                })
            }

            document.getElementById(id).append(div);
        }




        function updateClusterDistribution() {
            let clusterFreqDist = [];
            let clusterProbDist = [];
            let noiseClusterCount = 0;
            let temp = [];
            let numberOfNodes = 0;

            nodes.forEach(function (node) {
                if (!node.hidden) {
                    temp.push(Number(node.label));
                }


            })

            temp.sort();

            let biggestLabel = temp[temp.length - 1];

            for (let i = 0; i <= biggestLabel; i++) {
                clusterFreqDist.push(0);
                clusterProbDist.push(0);
            }

            temp.forEach(function (item) {
                if (!(item == -1)) {
                    numberOfNodes += 1;
                    clusterFreqDist[item] += 1;
                } else {
                    noiseClusterCount += 1;
                }
            })

            for (let j = 0; j < clusterFreqDist.length; j++) {
                if (clusterFreqDist[j] > 0) {

                    clusterProbDist[j] = (clusterFreqDist[j] / numberOfNodes);

                    let parts = clusterProbDist[j].toString().split('.');

                    // Check the length of the decimal part
                    if (parts[1] && parts[1].length > 5) {
                        // Round the value to 5 decimal places if the decimal part is longer than 5 digits
                        clusterProbDist[j] = clusterProbDist[j].toFixed(5);
                    }
                }
            }

            document.getElementById("clusterFreqDist").innerHTML = "Cluster frequency distribution: [" + clusterFreqDist.toString() + "]";
            document.getElementById("clusterProbDist").innerHTML = "Cluster probability distribution: [" + clusterProbDist.toString() + "]";
            document.getElementById("noiseClusterCount").innerHTML = "Noise cluster: [" + noiseClusterCount.toString() + "]";
        }


        let annotatorsContainer = document.getElementById("annotatorsContainer");
        let annotators = [];

        function fillAnnotatorsContainer(jsonData) {
            let div = document.createElement('div');
            let h4 = document.createElement('h4');
            h4.innerHTML = "Annotator filter (resets all other filters): ";
            div.appendChild(h4);

            for (let i = 0; i < jsonData.length; i++) {

                let annotator = jsonData[i]["annotator"]
                if (!annotators.includes(annotator)) {
                    annotators.push(annotator);
                }
            }

            annotators.sort();

            for (let j = 0; j < annotators.length; j++) {
                let label = document.createElement('label');
                label.innerHTML = annotators[j];
                label.for = annotators[j];
                let checkbox = document.createElement('input');
                checkbox.type = "checkbox";
                checkbox.checked = true;
                checkbox.id = annotators[j];
                div.appendChild(label);
                div.appendChild(checkbox);
            }

            let button = document.createElement('button');
            button.innerHTML = "Show graph";
            button.onclick = annotatorsFilter;
            div.appendChild(button);
            let br = document.createElement('br')
            let br2 = document.createElement('br')
            div.appendChild(br);
            div.appendChild(br2);

            annotatorsContainer.append(div);
        }



        function annotatorsFilter() {
            showSelectLoad();
            setTimeout(calculateSubGraph, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function calculateSubGraph() {
            loadingIcon.style.visibility = 'visible';
            let onlyCheckedAnnotators = [];
            for (let i = 0; i < annotators.length; i++) {
                let checkAnnotator = document.getElementById(annotators[i]);
                if (checkAnnotator.checked) {
                    onlyCheckedAnnotators.push(annotators[i]);
                }
            }


            let filteredForAnnotators = filteredStatsDataJoint.filter(row => onlyCheckedAnnotators.includes(row.annotator));


            groupPicker.selectedIndex = 0;
            sliderMin.value = 1;
            slider.value = 4;
            sliderDisplay.innerHTML = "4";
            sliderMinDisplay.innerHTML = "1";
            checkboxNoiseLabels.checked = true;
            checkboxNaN.checked = true;
            maxPicker.selectedIndex = dates.length - 1;
            minPicker.selectedIndex = 0;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            nodes.forEach(function (node){
                if(node.hidden){
                    node.hidden = false;
                    nodes.update(node);
                }
            })

            /*edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;

                let from = nodes.get(edge.from);
                let from_id = from.id;

                let edgeAnnotations = [];

                for (let k = 0; k < filteredForAnnotators.length; k++) {
                    let item = filteredForAnnotators[k];
                    let identifier1 = item.identifier1;
                    let identifier2 = item.identifier2;
                    let weight = Number(item.judgment);

                    if((identifier1 == to_id && identifier2 == from_id) || (identifier1 == from_id && identifier2 == to_id)){

                        if(0 < weight < 5){
                            //console.log("there is a corresponding annotation thats not NaN");
                            edgeAnnotations.push(weight);
                        }
                    }
                }

                if (edgeAnnotations.length !== 0){
                let median;
                let filteredArray = edgeAnnotations;
                filteredArray.sort((a, b) => a - b);
                let middle = Math.floor(filteredArray.length / 2);
                if (filteredArray.length % 2 === 0) {
                    median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                } else {
                    median = filteredArray[middle];
                }

                    console.log("the median for this edge is: " + median);

                    if (median == 0){
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                    edges.update(edge);

                    } else {
                    edge.hidden = true;
                    edges.update(edge);
                }







            })
            */


            // Create a map to store the filteredForAnnotators array
            let annotationsMap = new Map();
            filteredForAnnotators.forEach(function (item) {
                let identifier1 = item.identifier1;
                let identifier2 = item.identifier2;
                let weight = Number(item.judgment);
                if (weight >= 0 && weight < 5) {
                    // Only store annotations with weight between 0 and 5
                    let key = [identifier1, identifier2].sort().join('-');
                    let annotations = annotationsMap.get(key) || [];
                    annotations.push(weight);
                    annotationsMap.set(key, annotations);
                }
            });

            // Iterate over the edges and get the annotations from the map
            edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;
                let from = nodes.get(edge.from);
                let from_id = from.id;
                let key = [to_id, from_id].sort().join('-');
                let edgeAnnotations = annotationsMap.get(key) || [];


                    //console.log("edge annos: " + edgeAnnotations);

                if (edgeAnnotations.length !== 0) {
                    let median;
                    let filteredArray = edgeAnnotations.filter(a => a > 0);
                    filteredArray.sort((a, b) => a - b);

                    if (filteredArray.length === 0) {
                        median = 0;
                    } else {
                        let middle = Math.floor(filteredArray.length / 2);
                        if (filteredArray.length % 2 === 0) {
                            median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                        } else {
                            median = filteredArray[middle];
                        }
                    }


                    //console.log("the median for this edge is: " + median);

                    if (median == 0) {
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                } else {
                    edge.hidden = true;
                }

                edges.update(edge);
            });



            loadingIcon.style.visibility = 'hidden';

            calcMean();
            updateClusterDistribution();
        }


        sliderMin.value = 1;
        slider.value = 4;


    </script>
</body>

</html>