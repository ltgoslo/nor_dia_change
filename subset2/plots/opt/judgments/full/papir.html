<html xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
    <center>
        <h1 id="heading">papir (full)</h1>
    </center>


    <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->

    <style type="text/css">
       #mynetwork {
            width: 65%;
            height: 90%;

            margin-right: 2%;

            height: {
                    {
                    height
                }
            }

            ;

            background-color: {
                    {
                    bgcolor
                }
            }

            ;
            border: 1px solid lightgray;
            position: relative;
            float: left;
        }

            {
            % if nodes|length>100 and physics_enabled %
        }

        #loadingBar {
            position: absolute;
            top: 0px;
            left: 0px;

            width: {
                    {
                    width
                }
            }

            ;

            height: {
                    {
                    height
                }
            }

            ;
            background-color:rgba(200, 200, 200, 0.8);
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -ms-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
            opacity:1;
        }

        #bar {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 20px;
            height: 20px;
            margin: auto auto auto auto;
            border-radius: 11px;
            border: 2px solid rgba(30, 30, 30, 0.05);
            background: rgb(0, 173, 246);
            /* Old browsers */
            box-shadow: 2px 0px 4px rgba(0, 0, 0, 0.4);
        }

        #border {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 500px;
            height: 23px;
            margin: auto auto auto auto;
            box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        #text {
            position: absolute;
            top: 8px;
            left: 530px;
            width: 30px;
            height: 50px;
            margin: auto auto auto auto;
            font-size: 22px;
            color: #000000;
        }

        div.outerBorder {
            position: relative;
            top: 400px;
            width: 600px;
            height: 44px;
            margin: auto auto auto auto;
            border: 8px solid rgba(0, 0, 0, 0.1);
            background: rgb(252, 252, 252);
            /* Old browsers */
            background: -moz-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(252, 252, 252, 1)), color-stop(100%, rgba(237, 237, 237, 1)));
            /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Opera 11.10+ */
            background: -ms-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* IE10+ */
            background: linear-gradient(to bottom, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fcfcfc', endColorstr='#ededed', GradientType=0);
            /* IE6-9 */
            border-radius: 72px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }

            {
            % endif %
        }

            {
            % if conf %
        }

        #config {
            float: left;
            width: 400px;
            height: 600px;
        }

            {
            % endif %
        }

            {
            % if tooltip_link %
        }

        /* position absolute is important and the container has to be relative or absolute as well. */
        div.popup {
            position: absolute;
            top: 0px;
            left: 0px;
            display: none;
            background-color: #f5f4ed;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            border: 1px solid #808074;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
        }



        /* hide the original tooltip */


        .vis-tooltip {
            position: absolute;
        }

        #config {
            display: none;

        }

            {
            % endif %
        }

        #custom_wugs {
            height: 90%;
            width: 30%;
            overflow: scroll;
        }

        #custom_wugs>* {
            padding: 1%;
            margin-left: 2%;
        }






        .help-tip {
            position: absolute;
            top: 18px;
            right: 18px;
            text-align: center;
            background-color: #E55B0A;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 26px;
            cursor: default;
        }

        .help-tip:before {
            content: '?';
            font-weight: bold;
            color: #fff;
        }

        .help-tip:hover p {
            display: block;
            transform-origin: 100% 0%;

            -webkit-animation: fadeIn 0.3s ease-in-out;
            animation: fadeIn 0.3s ease-in-out;

        }

        .help-tip p {
            /* The tooltip */
            display: none;
            text-align: left;
            background-color: #1E2021;
            padding: 20px;
            width: 800px;
            position: absolute;
            border-radius: 3px;
            box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
            right: 16px;
            color: #FFF;
            font-size: 13px;
            line-height: 1.4;
        }

        .help-tip p:before {
            /* The pointer of the tooltip */
            position: absolute;
            content: '';
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-bottom-color: #1E2021;
            right: 10px;
            top: -12px;
        }

        .help-tip p:after {
            /* Prevents the tooltip from being hidden */
            width: 100%;
            height: 40px;
            content: '';
            position: absolute;
            top: -40px;
            left: 0;
        }


        /* CSS animation */

        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.6);
            }

            100% {
                opacity: 100%;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading-icon {
            position: absolute;
            top: 40%;
            left: 30%;
            transform: translate(-50%, -50%);
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid red;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            visibility: hidden;
        }

        #custom_wugs {
            font-size: smaller;
        }

        .shifted {
            margin-left: 3%;
        }

        .bold {
            font-weight: bold;
        }

        #fillSD {
            margin-bottom: 0;
            padding-bottom: 0;
        }

    </style>

</head>

<body>
     <div id="loader" style="display: none"></div>

    <div id="mynetwork"></div>
    
    

    <div id="custom_wugs">



        <div class="help-tip">
            <p><em>General</em><br />
           Firefox is the recommended browser for this application. For large graphs, loading time may vary. This application is under development. Feedback is appreciated. The code, from which you can generate your own graphs, can be found here:  <a href="https://github.com/Garrafao/WUGs/" target="_blank" style="color: white">WUGs repository</a><br /><br /><br />
                <em>Statistics</em><br />
            The statistics section gets updated as the filters are used. For in-depth stats, refer to the stats dropdowns on the bottom.<br /><br /><br />
                <em>Edge & node filters</em><br />
            Edge weights are calculated as the mean of all annotations of the node pair.
            Nodes with noisy data appear black and have -1 as their label. Both the noisy nodes and edges with wrongly calculated weights can be filtered out.
            Edge and node filters are interlinked and should show the desired selection. While one filter is being calculated, the page will prevent you from selecting another filter.<br /><br /><br />
                <em>Annotators filter</em><br />
            The annotators filter resets all other filters and shows the initial graph, but only edges the selected annotators have annotated.</p>
        </div>

        <div class="infoContainer">
            <h4>Info: </h4>
            <div id="clusterInfo"></div>
            <h4>Statistics:</h4>
            <div id="statistics"></div>
            <p id="fillMean">Edge weight mean: </p>
            <p id="fillSD">Edge weight standard deviation: </p>
        </div>
        <div class ="edgeFilterContainer">
            <h4>Edge filters: </h4>

            <label for="checkboxNaN">Show NaN edges </label>
            <input type="checkbox" id="checkboxNaN" onclick="filterNaN()">
            <br><br>
            <div class="slideContainer" style="display: block; clear: both">
                <label for="slider-min" style="display: block">Min weight: <span id="sliderValueDisplayMin" style="display: inline-block">1</span></label>
                <input type="range" min="1" max="4" value="1" class="slider-load" id="slider-min">
                <label for="slider" style="display: block">Max weight: <span id="sliderValueDisplay" style="display: inline-block">4</span></label>
                <input type="range" min="1" max="4" value="4" class="slider-load" id="slider">
            </div>
        </div>




        <div class="nodeFilterContainer">
            <h4>Node filters: </h4>

            <label for="checkboxNoiseLabels">Show noise cluster</label>
            <input type="checkbox" id="checkboxNoiseLabels" onclick="filterNoiseLabels()">
            <br><br>
            <form onsubmit="dateFilter();return false">
                <label for="minPicker">From date: </label>
                <select class="picker" id="minPicker"></select>
                <label for="maxPicker">to date: </label>
                <select class="picker" id="maxPicker"></select>
                <input type="submit" value="Filter">
            </form>

            <label for="groupPicker">Grouping: </label>
            <select  class="select-load" id="groupPicker">
                <option>All</option>
                <option>1</option>
                <option>2</option>
            </select>
            <div class="loading-icon"></div>
        </div>

        <div id="annotatorsContainer"></div>

        <div class="detailsContainer">
            <details id="stats">
                <summary class="bold">Stats</summary>
                <table id="stats-table"></table>
            </details>
            <details id="statsGroupings">
                <summary class="bold">Grouping stats</summary>
                <table id="stats-groupings-table"></table>
            </details>
            <details id="statsAgreement">
                <summary class="bold">Agreement stats</summary>
                <table id="stats-agreement-table"></table>
            </details>
            <details id="statsPlotting">
                <summary class="bold">Plotting stats</summary>
                <table id="stats-plotting-table"></table>
            </details>
            <details id="statsDataJoint">
                <summary class="bold">Annotator data</summary>
            </details>
        </div>

    </div>

    <div id="config">

    </div>

    
     <!--<script type="text/javascript" src="../stats.js"></script>
     <script type="text/javascript" src="../stats_agreement.js"></script>
     <script type="text/javascript" src="../stats_groupings.js"></script>
     <script type="text/javascript" src="../stats_plotting.js"></script>
     <script type="text/javascript" src="../data_joint.js"></script>-->

    <script type="text/javascript">
        // initialize global variables.
        var edges;
        var nodes;
        var network;
        var container;
        var options, data;


        // This method is responsible for drawing the graph, returns the drawn network
        function drawGraph() {
            var container = document.getElementById('mynetwork');

            

            // parsing and collecting nodes and edges from the python
            nodes = new vis.DataSet([{"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_471", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet vil bli mye \u003cb\u003epapir\u003c/b\u003e og en brysom ordning i\u003cbr\u003epraksis.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_471\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1787.9075125114884, "y": 877.2254808233545}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_329", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI Norge synes betegnelsen \u00e5 bli anvendt p\u00e5 mindre\u003cbr\u003e\u003cb\u003epapirer\u003c/b\u003e beregnet p\u00e5 utfylling: Tegningsblankett,\u003cbr\u003epostgiroblankett, kvitteringsblankett, festblankett, fakturablankett,\u003cbr\u003eoppkravsblankett, sjekkblankett, blankett for fraktbrev, RTV-blankett,\u003cbr\u003eosv.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_329\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -538.6182335620717, "y": -1037.1617101732286}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_141", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eLandets 2 papirkonservatorer m\u00e5 ansees som en dr\u00e5pe i havet i\u003cbr\u003ebetraktning av de rent tallmessige forhold: Halvparten av den\u003cbr\u003eregistrerte gjenstandsmasse utgj\u00f8res av kunst p\u00e5 \u003cb\u003epapir\u003c/b\u003e. f)\u003cbr\u003eKUNSTINDUSTRI Ved landets tre kunstindustrimuseer, Kunstindustrimuseet\u003cbr\u003ei Oslo, Vestlandske Kunstindustrimuseum i Bergen og Nordenfjeldske\u003cbr\u003eKunstindustrimuseum i Trondheim best\u00e5r samlingene av utvalg i\u003cbr\u003egjenstander, spesielt etter estetiske kriterier, etter representasjon\u003cbr\u003ei stil og etter den kvalitet i tilvirkningen som er bygd inn i\u003cbr\u003egjenstanden. Samlingene er store og meget verdifulle.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_141\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1180.4687478656913, "y": 146.2693950365653}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_18", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI siste halvdel av forrige \u00e5rhundre \u00e5pner ny teknologi og\u003cbr\u003ebilligere \u003cb\u003epapir\u003c/b\u003e for stadig flere avisdannelser, noe som \u00f8ker\u003cbr\u003ekonkurransen p\u00e5 eksisterende utgivelsessted, og som i neste omgang\u003cbr\u003ef\u00f8lges av en tiltakende spredning av avisproduksjonen fra sentrum mot\u003cbr\u003eutkanten.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_18\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -195.9362474388998, "y": 233.73221435537545}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_285", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet ble vedtatt \u00e5 gi den konstituerte disponenten prokura, og\u003cbr\u003en\u00f8dvendige \u003cb\u003epapirer\u003c/b\u003e og underskrifter for dette ble ordnet av\u003cbr\u003estyret.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_285\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1999.9999999999998, "y": -179.97132621654677}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_419", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMidt mellom de to omstridte jorder, Vestflotten og \u00d8stflotten,\u003cbr\u003esatt nemlig den h\u00f8ye \u00f8vrighet ved et gult klaffebord og med g\u00e5sepenner\u003cbr\u003ei hendene, og p\u00e5 snippen av klaffebordet med protokoller og\u003cbr\u003e\u003cb\u003epapirer\u003c/b\u003e i s\u00f8mmelig avstand l\u00e5 en bibel i brunt laerbind med\u003cbr\u003etykke, gule messingbeslag og spenner.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_419\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1000.2595816150828, "y": -1963.731474913719}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_201", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDirektoratet for naturforvaltning, Riksantikvaren,\u003cbr\u003eHelsedirektoratet og Kommunenes sentralforbund Milj\u00f8byen 2005 er trykt\u003cbr\u003eav Tangen-Trykk p\u00e5 \u003cb\u003epapir\u003c/b\u003e framstilt uten bruk av klor.\u003cbr\u003eProduksjon: Grafisk Service Knut Gr\u00f8nli a.s.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_201\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -371.8463687008079, "y": 971.2421605016522}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_368", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eOmsider uttaler han: \"Jeg skal fortelle Dem hvordan det henger\u003cbr\u003esammen. Jeg r\u00f8k uklar med en mann i den byen i California hvor jeg\u003cbr\u003ebodde, og han skrev ut et \u003cb\u003epapir\u003c/b\u003e s\u00e5 jeg havnet p\u00e5\u003cbr\u003esinnssykeanstalt.\" Jeg spurte om De hadde h\u00f8rt stemmer? \"Ja, det var\u003cbr\u003estemmene!\" Hvordan det? \"Det papiret.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_368\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1599.3506921857322, "y": -1353.474809099746}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_484", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eTonn/W FIGUR 5.2. FORBRUK AV TRELAST I ULIKE BYGGTYPER PR. m 2\u003cbr\u003eGULVFLATE. 1970-1982. m3/ m 2 Av det totale forbruket av cellulose og\u003cbr\u003etremasse i Norge, g\u00e5r henholdsvis ca. 95 og 99 prosent til\u003cbr\u003eframstilling av \u003cb\u003epapir\u003c/b\u003e og papp.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_484\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 366.5107837951752, "y": -167.74113756664175}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_351", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEn vesentlig del av \u00f8kningen i humanistenes utstyrsbehov er\u003cbr\u003enettopp knyttet til behovet for bedre penn og \u003cb\u003epapir\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_351\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1656.7285516747086, "y": 976.0157127237318}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_papir_267", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eUt over det som er nevnt foran, spesielt det forhold at\u003cbr\u003eforliksklagen skal avfattes som prosesskrift, stilles det ingen\u003cbr\u003espesielle krav til den form f orUksklagen skal ha \u2014 muligens bortsett\u003cbr\u003efra et rundskriv av 12. juU 1928 pkt. II om \u003cb\u003epapirets\u003c/b\u003e format. I\u003cbr\u003epraksis er det imidlertid som kjent meget vanlig \u00e5 benytte trykte\u003cbr\u003eskjemaer n\u00e5r forliksklage utferdiges.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_papir_267\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 393.7649008830764, "y": 664.3209112902315}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_10033", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHan er 211 centimeter h\u00f8y, 19 \u00e5r gammel og ranket som nummer\u003cbr\u003e204 i verden. Dermed blir det p\u00e5 \u003cb\u003epapiret\u003c/b\u003e en jevn kamp mot en\u003cbr\u003eservekjempe fra USA for 226.-plasserte Ruud.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_10033\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 48.85591897950326, "y": -1816.404081620677}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_3548", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eAftenposten og Hjemmet st\u00f8rst p\u00e5 \u003cb\u003epapir\u003c/b\u003e FOTO:\u003cbr\u003eScanpix\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_3548\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1636.658688486919, "y": -687.4850460573856}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_9076", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHan mener det ikke nytter \u00e5 si at unge minoriteter st\u00e5r bak\u003cbr\u003evold, fordi de ikke har hatt de samme mulighetene til \u00e5 lykkes. Fakta:\u003cbr\u003eHva er et Si ;D-innlegg? \u2013 Si ;D er Aftenpostens debattsider for\u003cbr\u003eungdom mellom 13 og 21 \u00e5r \u2013 Vi publiserer cirka 20 innlegg i uken b\u00e5de\u003cbr\u003ep\u00e5 \u003cb\u003epapir\u003c/b\u003e og nett \u2013 M\u00e5let er \u00e5 l\u00f8fte frem unge stemmer i\u003cbr\u003esamfunnsdebatten \u2013 Har du noe p\u00e5 hjertet?\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_9076\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1139.233185629433, "y": 909.5058716326774}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_11156", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eJeg leser Aftenposten p\u00e5 \u003cb\u003epapir\u003c/b\u003e og ser litt p\u00e5 frokost-TV\u003cbr\u003emens jeg drikker kaffe sammen med mannen min. Etterp\u00e5 g\u00e5r jeg opp til\u003cbr\u003ekontoret mitt. Det tar bare fire minutter. Janne M\u00f8ller-Hansen\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_11156\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1932.867302777315, "y": 292.22190394483266}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_4288", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eFlyveblader produserte jeg ved hjelp av \u003cb\u003epapir\u003c/b\u003e jeg stjal\u003cbr\u003efra en kopibutikk, og under konsertene satt jeg i d\u00f8ren og tok mot\u003cbr\u003edonasjoner til bandet, samtidig som jeg tok opp opptredenene p\u00e5 en\u003cbr\u003efirespors opptager.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_4288\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 71.87901914762139, "y": 1624.642985626749}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_11713", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eSkjeggkreene spiser helst d\u00f8de insekter og annen proteinrik\u003cbr\u003emat, men kan ogs\u00e5 gnage p\u00e5 \u003cb\u003epapir\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_11713\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -481.1355434546944, "y": 1591.0772378651884}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_4752", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- Dette er et stort \u00f8yeblikk for klubben, sa Arsenal-manager\u003cbr\u003eArsene Wenger etter at penn hadde m\u00f8tt \u003cb\u003epapir\u003c/b\u003e i London.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_4752\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -814.6541178585737, "y": -249.05042956029973}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_10365", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eSp\u00e5r avisd\u00f8d i Tyrkia Mange aviser kan komme til \u00e5 g\u00e5 dukken\u003cbr\u003edersom ikke tyrkiske myndigheter gir dem en hjelpende h\u00e5nd, if\u00f8lge de\u003cbr\u003etyrkiske journalistenes fagforeninger. \u2013 Mange aviser kommer til \u00e5\u003cbr\u003eforsvinner dersom ikke myndighetene fjerner skatten p\u00e5 avisene, meldte\u003cbr\u003ejournalistenes fagforening i en uttalelse mandag if\u00f8lge dokuz8, et\u003cbr\u003euavhengig nyhetsnettsted. Journalistenes fagforening skriver at etter\u003cbr\u003eat den nasjonale papirfabrikken SEKA ble privatisert, s\u00e5 har prisen p\u00e5\u003cbr\u003e\u003cb\u003epapir\u003c/b\u003e blitt tre ganger s\u00e5 h\u00f8y.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_10365\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 774.7345589536272, "y": 1673.307916262471}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_2764", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDersom de aksepterer deltakelsen i prosjektet, sender politiet\u003cbr\u003e\u003cb\u003epapirene\u003c/b\u003e over til oss.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_2764\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1788.1900788264081, "y": -640.4642810783512}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_3965", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEn rekke lokalaviser g\u00e5r mot str\u00f8mmen og \u00f8ker lesertallene p\u00e5\u003cbr\u003e\u003cb\u003epapir\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_3965\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 933.645739894305, "y": -585.3971387065269}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_papir_7437", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- P\u00e5 \u003cb\u003epapiret\u003c/b\u003e er det mulig; indiske myndigheter m\u00e5 jobbe\u003cbr\u003efor \u00e5 fjerne byr\u00e5krati og gjennomf\u00f8re prosjekter raskt.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_papir_7437\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 442.5509780663909, "y": -1278.6803550697507}]);
        edges = new vis.DataSet([{"color": "black", "from": "1980-1990_papir_471", "label": "4/4/3", "to": "2012-2019_papir_2764", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "3/-/-", "to": "1980-1990_papir_141", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "4/-/3", "to": "1980-1990_papir_419", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "3/3/-", "to": "2012-2019_papir_9076", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "3/4/-", "to": "1980-1990_papir_201", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "3/3/-", "to": "2012-2019_papir_3965", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "4/3/-", "to": "2012-2019_papir_4752", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "3/-/-", "to": "1980-1990_papir_18", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "4/3/-", "to": "2012-2019_papir_10033", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "3/3/3", "to": "2012-2019_papir_11156", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "-/3/-", "to": "1980-1990_papir_329", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "-/3/-", "to": "1980-1990_papir_267", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "-/3/4", "to": "2012-2019_papir_11713", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "-/3/4", "to": "2012-2019_papir_4288", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "-/3/4", "to": "2012-2019_papir_10365", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "-/-/4", "to": "1980-1990_papir_484", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "-/-/4", "to": "1980-1990_papir_285", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_471", "label": "-/-/3", "to": "1980-1990_papir_368", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "4/4/3", "to": "2012-2019_papir_7437", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "3/4/-", "to": "2012-2019_papir_3548", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "3/-/3", "to": "1980-1990_papir_141", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "3/4/-", "to": "2012-2019_papir_4288", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "4/4/-", "to": "2012-2019_papir_2764", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "4/4/-", "to": "1980-1990_papir_267", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "3/-/-", "to": "1980-1990_papir_484", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "3/-/3", "to": "1980-1990_papir_18", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "4/4/3", "to": "2012-2019_papir_4752", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "4/3/-", "to": "1980-1990_papir_368", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "4/-/4", "to": "1980-1990_papir_419", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "3/-/3", "to": "2012-2019_papir_11713", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "-/4/3", "to": "2012-2019_papir_10365", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "-/4/3", "to": "2012-2019_papir_9076", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_329", "label": "-/-/4", "to": "1980-1990_papir_285", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "4/-/3", "to": "2012-2019_papir_10365", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "4/-/4", "to": "2012-2019_papir_11713", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "4/4/3", "to": "2012-2019_papir_3965", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "4/4/3", "to": "1980-1990_papir_267", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "4/4/-", "to": "2012-2019_papir_9076", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "3/-/3", "to": "1980-1990_papir_368", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "4/4/-", "to": "2012-2019_papir_3548", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "3/-/3", "to": "1980-1990_papir_285", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "3/-/-", "to": "2012-2019_papir_4752", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "3/-/3", "to": "1980-1990_papir_419", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "3/-/-", "to": "2012-2019_papir_10033", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "-/4/3", "to": "2012-2019_papir_7437", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "-/4/-", "to": "1980-1990_papir_484", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "-/4/4", "to": "2012-2019_papir_4288", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "-/4/3", "to": "2012-2019_papir_11156", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "-/4/-", "to": "1980-1990_papir_351", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "-/4/-", "to": "1980-1990_papir_201", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_141", "label": "-/3/3", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "4/4/-", "to": "2012-2019_papir_11156", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "3/-/-", "to": "2012-2019_papir_10033", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "4/-/3", "to": "2012-2019_papir_3548", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "3/-/-", "to": "1980-1990_papir_285", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "4/4/4", "to": "1980-1990_papir_201", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "4/-/-", "to": "1980-1990_papir_484", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "3/4/3", "to": "2012-2019_papir_4752", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "3/-/3", "to": "1980-1990_papir_419", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "3/-/-", "to": "1980-1990_papir_368", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "3/-/-", "to": "2012-2019_papir_3965", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "-/4/-", "to": "2012-2019_papir_7437", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "-/4/-", "to": "2012-2019_papir_10365", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "-/4/4", "to": "2012-2019_papir_4288", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "-/4/3", "to": "1980-1990_papir_351", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "-/-/3", "to": "1980-1990_papir_267", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "-/-/4", "to": "2012-2019_papir_11713", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_18", "label": "-/-/3", "to": "2012-2019_papir_9076", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "4/-/-", "to": "1980-1990_papir_419", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "4/3/3", "to": "2012-2019_papir_4752", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "3/-/-", "to": "2012-2019_papir_4288", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "3/3/-", "to": "2012-2019_papir_9076", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "3/3/3", "to": "1980-1990_papir_351", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "4/4/4", "to": "2012-2019_papir_2764", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "4/-/3", "to": "2012-2019_papir_7437", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "3/3/3", "to": "1980-1990_papir_484", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "3/3/3", "to": "1980-1990_papir_267", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "4/-/-", "to": "1980-1990_papir_368", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "3/-/3", "to": "2012-2019_papir_3965", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "-/3/3", "to": "2012-2019_papir_3548", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "-/3/3", "to": "2012-2019_papir_11156", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "-/3/-", "to": "2012-2019_papir_11713", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "-/-/3", "to": "2012-2019_papir_10365", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_285", "label": "-/-/3", "to": "1980-1990_papir_201", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "4/-/-", "to": "2012-2019_papir_10033", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "3/4/3", "to": "2012-2019_papir_11713", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "4/-/4", "to": "2012-2019_papir_2764", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "4/-/4", "to": "1980-1990_papir_368", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "3/3/3", "to": "1980-1990_papir_351", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "3/3/3", "to": "2012-2019_papir_4288", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "-/4/-", "to": "2012-2019_papir_7437", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "-/3/3", "to": "1980-1990_papir_484", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "-/3/3", "to": "2012-2019_papir_3548", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "-/3/3", "to": "2012-2019_papir_11156", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "-/3/3", "to": "2012-2019_papir_3965", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "-/3/-", "to": "1980-1990_papir_267", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_419", "label": "-/-/3", "to": "2012-2019_papir_9076", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "4/-/4", "to": "2012-2019_papir_11713", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "3/4/-", "to": "2012-2019_papir_10033", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "4/-/4", "to": "2012-2019_papir_10365", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "4/-/3", "to": "2012-2019_papir_3965", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "4/4/4", "to": "2012-2019_papir_4288", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "3/-/-", "to": "2012-2019_papir_7437", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "3/4/3", "to": "2012-2019_papir_4752", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "-/4/3", "to": "2012-2019_papir_2764", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "-/4/-", "to": "1980-1990_papir_484", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "-/4/3", "to": "1980-1990_papir_351", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "-/4/3", "to": "2012-2019_papir_3548", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "-/4/-", "to": "1980-1990_papir_267", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "-/-/3", "to": "2012-2019_papir_9076", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_201", "label": "-/-/4", "to": "2012-2019_papir_11156", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "3/-/3", "to": "1980-1990_papir_267", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "3/-/3", "to": "2012-2019_papir_11156", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "3/-/-", "to": "1980-1990_papir_351", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "4/3/-", "to": "2012-2019_papir_10033", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "4/4/-", "to": "2012-2019_papir_2764", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "3/3/-", "to": "2012-2019_papir_10365", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "-/4/3", "to": "2012-2019_papir_7437", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "-/4/3", "to": "2012-2019_papir_4288", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "-/-/3", "to": "2012-2019_papir_9076", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "-/-/3", "to": "1980-1990_papir_484", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "-/-/3", "to": "2012-2019_papir_3548", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_368", "label": "-/-/3", "to": "2012-2019_papir_11713", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "4/4/4", "to": "2012-2019_papir_11713", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "4/-/4", "to": "2012-2019_papir_10365", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "4/-/3", "to": "2012-2019_papir_9076", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "4/4/-", "to": "1980-1990_papir_351", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "4/4/3", "to": "2012-2019_papir_11156", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "4/4/3", "to": "1980-1990_papir_267", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "4/4/-", "to": "2012-2019_papir_3548", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "-/4/-", "to": "2012-2019_papir_7437", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "-/4/-", "to": "2012-2019_papir_10033", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "-/4/3", "to": "2012-2019_papir_4752", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_484", "label": "-/3/-", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "4/-/3", "to": "2012-2019_papir_3548", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "4/4/-", "to": "2012-2019_papir_9076", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "4/-/3", "to": "2012-2019_papir_4288", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "3/4/-", "to": "2012-2019_papir_10033", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "4/4/-", "to": "2012-2019_papir_10365", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "3/4/3", "to": "2012-2019_papir_4752", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "3/4/-", "to": "2012-2019_papir_7437", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "3/-/-", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "4/4/3", "to": "2012-2019_papir_11713", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "-/4/-", "to": "2012-2019_papir_11156", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_351", "label": "-/-/3", "to": "2012-2019_papir_3965", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "3/3/-", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "4/4/-", "to": "2012-2019_papir_3548", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "3/4/-", "to": "2012-2019_papir_4752", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "4/4/3", "to": "2012-2019_papir_11713", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "3/4/-", "to": "2012-2019_papir_7437", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "-/4/-", "to": "2012-2019_papir_10365", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "-/4/-", "to": "2012-2019_papir_4288", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "-/4/-", "to": "2012-2019_papir_9076", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "-/4/3", "to": "2012-2019_papir_3965", "weight": 3.5, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "-/-/3", "to": "2012-2019_papir_11156", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_papir_267", "label": "-/-/3", "to": "2012-2019_papir_10033", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10033", "label": "3/-/-", "to": "2012-2019_papir_4288", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10033", "label": "3/-/3", "to": "2012-2019_papir_10365", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10033", "label": "-/4/-", "to": "2012-2019_papir_4752", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10033", "label": "-/4/-", "to": "2012-2019_papir_3965", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10033", "label": "-/-/3", "to": "2012-2019_papir_11156", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10033", "label": "-/-/3", "to": "2012-2019_papir_9076", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10033", "label": "-/-/3", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10033", "label": "-/-/3", "to": "2012-2019_papir_11713", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10033", "label": "-/-/3", "to": "2012-2019_papir_3548", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_3548", "label": "3/4/3", "to": "2012-2019_papir_4752", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_3548", "label": "4/4/4", "to": "2012-2019_papir_9076", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_3548", "label": "-/4/3", "to": "2012-2019_papir_10365", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_papir_3548", "label": "-/4/-", "to": "2012-2019_papir_11156", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_3548", "label": "-/4/3", "to": "2012-2019_papir_4288", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_papir_3548", "label": "-/-/4", "to": "2012-2019_papir_3965", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_3548", "label": "-/-/3", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_3548", "label": "-/-/3", "to": "2012-2019_papir_7437", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_9076", "label": "3/-/-", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_9076", "label": "3/4/3", "to": "2012-2019_papir_7437", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_9076", "label": "4/-/-", "to": "2012-2019_papir_11156", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_9076", "label": "4/4/3", "to": "2012-2019_papir_10365", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_9076", "label": "4/4/3", "to": "2012-2019_papir_11713", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_9076", "label": "-/4/3", "to": "2012-2019_papir_4752", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_papir_9076", "label": "-/4/3", "to": "2012-2019_papir_4288", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_papir_9076", "label": "-/-/4", "to": "2012-2019_papir_3965", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_11156", "label": "4/4/-", "to": "2012-2019_papir_4288", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_11156", "label": "3/3/-", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_11156", "label": "-/4/4", "to": "2012-2019_papir_3965", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_11156", "label": "-/-/3", "to": "2012-2019_papir_10365", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_11156", "label": "-/-/3", "to": "2012-2019_papir_7437", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_11156", "label": "-/-/3", "to": "2012-2019_papir_11713", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_4288", "label": "3/4/-", "to": "2012-2019_papir_3965", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_papir_4288", "label": "3/-/3", "to": "2012-2019_papir_7437", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_4288", "label": "3/3/-", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_4288", "label": "4/-/4", "to": "2012-2019_papir_11713", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_4288", "label": "3/-/3", "to": "2012-2019_papir_4752", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_4288", "label": "-/-/4", "to": "2012-2019_papir_10365", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_11713", "label": "4/0/4", "to": "2012-2019_papir_10365", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_11713", "label": "-/4/-", "to": "2012-2019_papir_4752", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_11713", "label": "-/4/3", "to": "2012-2019_papir_3965", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_papir_11713", "label": "-/-/3", "to": "2012-2019_papir_7437", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_4752", "label": "4/-/-", "to": "2012-2019_papir_3965", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_4752", "label": "4/-/-", "to": "2012-2019_papir_7437", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_4752", "label": "3/-/-", "to": "2012-2019_papir_10365", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_4752", "label": "-/3/-", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10365", "label": "3/-/-", "to": "2012-2019_papir_7437", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10365", "label": "3/3/-", "to": "2012-2019_papir_2764", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_10365", "label": "-/4/-", "to": "2012-2019_papir_3965", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_2764", "label": "3/-/-", "to": "2012-2019_papir_3965", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_papir_2764", "label": "-/4/3", "to": "2012-2019_papir_7437", "weight": 3.5, "width": 4}, {"color": "black", "from": "2012-2019_papir_3965", "label": "3/-/3", "to": "2012-2019_papir_7437", "weight": 3.0, "width": 4}, {"color": "lightgray", "from": "1980-1990_papir_419", "label": "-/1/3", "to": "2012-2019_papir_4752", "weight": 2.0, "width": 2}]);

        // adding nodes and edges to the graph
        data = { nodes: nodes, edges: edges };

        var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "nodes",
            "edges"
        ]
    },
    "edges": {
        "color": {
            "inherit": false
        },
        "smooth": {
            "enabled": false,
            "type": "continuous"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": false,
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

        

        
        // if this network requires displaying the configure window,
        // put it in its div
        options.configure["container"] = document.getElementById("config");
        

        network = new vis.Network(container, data, options);

        


        

        return network;

    }

        drawGraph();


        let nodesInTimePeriod = new Set();
        let edgesInTimePeriod = new Set();
        let edgesBelowWeight = new Set();
        let nodesInGrouping = new Set();
        let edgesInGrouping = new Set();
        let edgesToBeShown = new Set();
        let nodesToBeShown = new Set();

        edges.forEach(function (edge) {
            edgesBelowWeight.add(edge.id);
            edgesInGrouping.add(edge.id);
            edgesInTimePeriod.add(edge.id);
            edgesToBeShown.add(edge.id);
        })

        nodes.forEach(function (node) {
            nodesInTimePeriod.add(node.id);
            nodesInGrouping.add(node.id);
            nodesToBeShown.add(node.id);
        })


        function showEdges() {
            edgesToBeShown.forEach(function (edge) {
                edge.hidden = false;
                edges.update(edge);
            })
        }

        //Missing the loading icon
        //slider code from pyvis filter example
        // Handler event when slider changes

        let slider = document.getElementById('slider');
        let sliderMin = document.getElementById('slider-min');
        let sliderDisplay = document.getElementById('sliderValueDisplay');
        let sliderMinDisplay = document.getElementById('sliderValueDisplayMin');

        sliderDisplay.innerHTML = "4";
        sliderMinDisplay.innerHTML = "1";

        function weightFilter() {
            console.log("weight filter got called");
            // Get the value of the slider
            let sliderValue = slider.value;
            let sliderMinValue = sliderMin.value;

            // Display the selected value next to slider
            sliderDisplay.innerHTML = sliderValue;
            sliderMinDisplay.innerHTML = sliderMinValue;

            // Loop through the edges
            edges.forEach(function (edge) {
                // Check if the edge should be displayed based on its weight
                if (edge.weight <= sliderValue && edge.weight >= sliderMinValue) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        edgesBelowWeight.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    }
                    // Edge should be displayed
                    // Unhide edge if it's hidden and update DataSet

                } else if (isNaN(edge.weight)) {
                    //console.log("its NaN")
                } else {

                    // Edge should not be displayed
                    // Hide edge if not already hidden and update DataSet
                    if (!edge.hidden) {
                        edgesBelowWeight.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }
                }
            });


            calcMean();
        }



        //code for node date filter
        let dates = [];
        nodes.forEach(function (node) {
            date = node.date;
            if (!dates.includes(date)) {
                dates.push(date);
            }
        });
        dates.sort();


        //code for date slider
        let minDate = 10000;
        let maxDate = 0;

        let minPicker = document.getElementById('minPicker');
        let maxPicker = document.getElementById('maxPicker');

        if (!minPicker.hasChildNodes()) {
            dates.forEach(function (date) {
                if (Number(date) < minDate) {
                    minDate = Number(date);
                }
                if (Number(date) > maxDate) {
                    maxDate = Number(date);
                }


                let option = document.createElement('option');
                option.text = date;
                option.value = date;

                let option2 = document.createElement('option');
                option2.text = date;
                option2.value = date;

                minPicker.append(option);
                maxPicker.append(option2);

            })
        } else {
            minDate = Number(dates[0]);
            maxDate = Number(dates[dates.length-1]);
        }
        maxPicker.selectedIndex = dates.length - 1;



        function showSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'visible';
                resolve();
            });
        }

        function hideSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'hidden';
                resolve();
            });
        }



        const loadingIcon = document.querySelector('.loading-icon');
        const select = document.querySelector('.select-load');

        select.addEventListener('change', function () {
            showSelectLoad();
            setTimeout(selectGroup, 1000);


            setTimeout(hideSelectLoad, 1000);


        });

        //const slider_load = document.querySelector('.slider-load');

         slider.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

         sliderMin.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

        let groupPicker = document.getElementById('groupPicker');
        groupPicker.selectedIndex = 0;
        let minValue = minPicker.value;
        let maxValue = maxPicker.value;

        function selectGroup() {
            return new Promise(function (resolve, reject) {
                let selectValue = document.getElementById('groupPicker').value;

                console.log("grouping value: " + selectValue);

                if (selectValue == 1) {
                    nodes.forEach(function (node) {


                        if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else if (selectValue == 2) {
                    nodes.forEach(function (node) {
                        if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else {
                    nodes.forEach(function (node) {
                        if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                }
                loadingIcon.style.visibility = 'hidden';

                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        if (showNaNEdges && !nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {

                            edge.hidden = false;
                            edges.update(edge);
                        } else {
                            edge.hidden = true;
                            edge.hidden = true;
                            edges.update(edge);
                        }
                    } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && !isNaN(edge.weight)) {
                        edgesInGrouping.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    } else {
                        edgesInGrouping.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }


                })
                loadingIcon.style.visibility = 'hidden';
                calcMean();
                updateClusterDistribution();
                resolve();
            });

        }

        function dateFilter() {
            showSelectLoad();
            setTimeout(pickDates, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function pickDates() {
            loadingIcon.style.visibility = 'visible';

            let selectValue = document.getElementById('groupPicker').value;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            //console.log("showing dates between " + minValue + " and " + maxValue);

            if (selectValue == 1) {
                nodes.forEach(function (node) {


                    if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else if (selectValue == 2) {
                nodes.forEach(function (node) {
                    if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else {
                nodes.forEach(function (node) {
                    if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            }

            edges.forEach(function (edge) {


                if (isNaN(edge.weight) && !showNaNEdges) {

                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && isNaN(edge.weight)){
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && edge.weight >= sliderMin.value && edge.weight <= slider.value) {
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else {
                    edgesInTimePeriod.delete(edge.id);
                    edge.hidden = true;
                    edges.update(edge);
                }


            })
            loadingIcon.style.visibility = 'hidden'


            calcMean();
            updateClusterDistribution();

        }

        let showNaNEdges = true;

        function filterNaN() {
            showSelectLoad();
            setTimeout(selectNaN, 1000);


            setTimeout(hideSelectLoad, 1000);

        };

        const checkboxNaN = document.getElementById("checkboxNaN");

        function selectNaN() {
            if (checkboxNaN.checked) {

                showNaNEdges = true;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = false;
                        edges.update(edge);
                        pickDates();
                    }
                });
            } else {
                showNaNEdges = false;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = true;
                        edges.update(edge);
                    }
                });
            }


        }


        const checkboxNoiseLabels = document.getElementById("checkboxNoiseLabels");

        document.getElementById("checkboxNaN").checked = true;
        document.getElementById("checkboxNoiseLabels").checked = true;

        let showNoiseLabels = true;

        function filterNoiseLabels() {
            showSelectLoad();
            setTimeout(selectNoiseLabels, 1000);


            setTimeout(hideSelectLoad, 1000);
        }

        function selectNoiseLabels() {
            if (checkboxNoiseLabels.checked) {

                showNoiseLabels = true;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {
                        node.hidden = false;
                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        if (isNaN(edge.weight) && !showNaNEdges) {
                            edge.hidden = true;
                            edges.update(edge);

                        } else {
                            edge.hidden = false;
                            edges.update(edge);
                        }
                    }
                })

            } else {

                showNoiseLabels = false;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {

                        node.hidden = true;

                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (nodes.get(edge.to).hidden || nodes.get(edge.from).hidden || (isNaN(edge.weight) && !showNaNEdges)) {

                        edge.hidden = true;
                        edges.update(edge);

                    }
                })

            }
            updateClusterDistribution();
        }


        let fillMean = document.getElementById("fillMean");
        let fillSD = document.getElementById("fillSD");


        function calcMean() {
            let edgeValues = [];
            edges.forEach(function (edge) {
                if (!edge.hidden) {
                    let label = parseFloat(edge.weight);
                    if (!isNaN(label)) {
                        edgeValues.push(label);
                    }
                }
            })

            let mean = edgeValues.reduce((a, b) => a + b, 0) / edgeValues.length;
            let sd = dev(edgeValues, mean);
            if (isNaN(mean)) {
                mean = 0;
            }
            if (isNaN(sd)) {
                sd = 0;
            }
            mean = mean.toFixed(5);
            sd = sd.toFixed(5);

            fillMean.innerHTML = "Edge weight mean: ";
            fillSD.innerHTML = "Edge weight standard deviation: "

            fillMean.append(mean);
            fillSD.append(sd);

        }


        // Javascript program to calculate the standard deviation of an array

        function dev(arr, mean) {

            // Assigning (value - mean) ^ 2 to every array item
            arr = arr.map((k) => {
                return (k - mean) ** 2
            })


            // Calculating the sum of updated array
            let sum = arr.reduce((acc, curr) => acc + curr, 0);


            // Returning the standard deviation
            return Math.sqrt(sum / arr.length)
        }

        calcMean();


        let heading = document.getElementById("heading").innerHTML;
        let onlyLemma = heading.replace(/ .*/, '');

        //NEW

        // set up flag variables to track which scripts have been loaded successfully
        let statsLoaded = false;
        let statsGroupingsLoaded = false;
        let statsAgreementLoaded = false;
        let statsPlottingLoaded = false;
        let statsDataJointLoaded = false;

        let filteredStats = [];
        let filteredStatsGroupings = [];
        let filteredStatsAgreement = [];
        let filteredStatsPlotting = [];
        let filteredStatsDataJoint = [];

        let clusteringMethod;
        let cluster_freq_dist;
        let cluster_prob_dist;
        let noise_cluster_count;
        let clusterInfo;
        let statisticsDiv;
        let nodePosition;


        // create event listeners for each script to set the corresponding flag when loaded
        document.addEventListener('statsLoaded', function () {
            console.log('stats.js is fully loaded!');
            statsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsGroupingsLoaded', function () {
            console.log('stats_groupings.js is fully loaded!');
            statsGroupingsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsAgreementLoaded', function () {
            console.log('stats_agreement.js is fully loaded!');
            statsAgreementLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsPlottingLoaded', function () {
            console.log('stats_plotting.js is fully loaded!');
            statsPlottingLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsDataJointLoaded', function () {
            console.log('data_joint.js is fully loaded!');
            statsDataJointLoaded = true;
            checkAllScriptsLoaded();
        });

        // load each script with the same function
        function loadScript(scriptUrl, eventName) {
            const script = document.createElement('script');
            script.src = scriptUrl;
            script.type = 'text/javascript';

            script.addEventListener('load', function () {
                console.log(scriptUrl + ' loaded successfully');
                document.dispatchEvent(new Event(eventName));
            });

            script.addEventListener('error', function () {
                console.log('Failed to load ' + scriptUrl);
                checkAllScriptsLoaded();
            });

            document.body.appendChild(script);
        }

        // call the loadScript function for each script you want to load
        loadScript('../stats.js', 'statsLoaded');
        loadScript('../stats_groupings.js', 'statsGroupingsLoaded');
        loadScript('../stats_agreement.js', 'statsAgreementLoaded');
        loadScript('../stats_plotting.js', 'statsPlottingLoaded');
        loadScript('../data_joint.js', 'statsDataJointLoaded');

        // check if all scripts have been loaded, and execute the code that depends on them if they have
        function checkAllScriptsLoaded() {

            if (statsLoaded) {
                try {
                    filteredStats = stats.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats not found');
                }

                try {
                    generateTable(filteredStats, "stats");
                } catch (err) {
                    console.log('problem generating table with stats');
                }

                try {
                    clusteringMethod = filteredStats[0].algorithm;
                } catch (err) {
                    console.log('filteredStats[0] not found');
                }



            }

            if (statsGroupingsLoaded) {
                try {
                    filteredStatsGroupings = stats_groupings.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_groupings not found');
                }

                try {
                    generateTable(filteredStatsGroupings, "statsGroupings");
                } catch (err) {
                    console.log('problem generating table with stats_groupings');
                }

                cluster_freq_dist = filteredStatsGroupings[0].cluster_freq_dist;
                cluster_prob_dist = filteredStatsGroupings[0].cluster_prob_dist;
            }

            if (statsAgreementLoaded) {
                try {
                    filteredStatsAgreement = stats_agreement.filter(row => row.data === onlyLemma);
                } catch (err) {
                    console.log('stats_agreement not found');
                }

                try {
                    generateTable(filteredStatsAgreement, "statsAgreement");
                } catch (err) {
                    console.log('problem generating table with stats_agreement');
                }


            }

            if (statsPlottingLoaded) {
                try {
                    filteredStatsPlotting = stats_plotting.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_plotting not found');
                }

                try {
                    generateTable(filteredStatsPlotting, "statsPlotting");
                } catch (err) {
                    console.log('problem generating table with stats_plotting');
                }

                nodePosition = filteredStatsPlotting[0].node_position;
            }

            if (statsDataJointLoaded) {
                try {
                    filteredStatsDataJoint = data_joint.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_data_joint not found');
                }

                try {
                    generateDetails(filteredStatsDataJoint, "statsDataJoint");
                } catch (err) {
                    console.log('problem generating table with statsDataJoint');
                }

                if(!annotatorsContainer.hasChildNodes()){
                    fillAnnotatorsContainer(filteredStatsDataJoint);
                }
            }

            noise_cluster_count = 0;
            nodes.forEach(function (node) {
                if (Number(node.label) == -1) {
                    noise_cluster_count += 1;
                }
            });

            clusterInfo = document.getElementById("clusterInfo");
            statisticsDiv = document.getElementById("statistics");

            clusterInfo.innerHTML = `
            <p>Node position: ${nodePosition}</p>
            <p>Clustering method: ${clusteringMethod}</p>`;

            statisticsDiv.innerHTML = `
            <p id="clusterFreqDist">Cluster frequency distribution: ${cluster_freq_dist}</p>
            <p id="clusterProbDist">Cluster probability distribution: ${cluster_prob_dist}</p>
            <p id="noiseClusterCount">Noise Cluster: [${noise_cluster_count}]</p>`;

        }


        function generateTable(jsonData, id) {
            if (!jsonData || jsonData.length === 0) {
                console.error(`Error: Invalid JSON data in generateTable function for id '${id}'`);
                return;
            }

            let div = document.createElement('div');


            let keys = Object.keys(jsonData[0]);
            keys.forEach(function (key) {
                let details = document.createElement('details');
                details.classList.add('shifted');
                let summary = document.createElement('summary');
                summary.innerText = key;
                details.appendChild(summary);
                let content = document.createElement('div');
                content.innerText = jsonData[0][key];
                details.appendChild(content);
                div.appendChild(details);

            })

            document.getElementById(id).append(div);
        }

        function generateDetails(jsonData, id) {
            let div = document.createElement('div');

            for (let i = 0; i < jsonData.length; i++) {
                let surroundingDetails = document.createElement('details');
                surroundingDetails.classList.add('shifted');
                let surroundingSummary = document.createElement('summary');
                surroundingSummary.innerText = i.toString();
                surroundingDetails.appendChild(surroundingSummary);
                div.appendChild(surroundingDetails);
                let keys = Object.keys(jsonData[i]);
                keys.forEach(function (key) {
                    let details = document.createElement('details');
                    details.classList.add('shifted');
                    let summary = document.createElement('summary');
                    summary.innerText = key;
                    details.appendChild(summary);
                    let content = document.createElement('div');
                    content.innerText = jsonData[i][key];
                    details.appendChild(content);
                    surroundingDetails.appendChild(details);

                })
            }

            document.getElementById(id).append(div);
        }




        function updateClusterDistribution() {
            let clusterFreqDist = [];
            let clusterProbDist = [];
            let noiseClusterCount = 0;
            let temp = [];
            let numberOfNodes = 0;

            nodes.forEach(function (node) {
                if (!node.hidden) {
                    temp.push(Number(node.label));
                }


            })

            temp.sort();

            let biggestLabel = temp[temp.length - 1];

            for (let i = 0; i <= biggestLabel; i++) {
                clusterFreqDist.push(0);
                clusterProbDist.push(0);
            }

            temp.forEach(function (item) {
                if (!(item == -1)) {
                    numberOfNodes += 1;
                    clusterFreqDist[item] += 1;
                } else {
                    noiseClusterCount += 1;
                }
            })

            for (let j = 0; j < clusterFreqDist.length; j++) {
                if (clusterFreqDist[j] > 0) {

                    clusterProbDist[j] = (clusterFreqDist[j] / numberOfNodes);

                    let parts = clusterProbDist[j].toString().split('.');

                    // Check the length of the decimal part
                    if (parts[1] && parts[1].length > 5) {
                        // Round the value to 5 decimal places if the decimal part is longer than 5 digits
                        clusterProbDist[j] = clusterProbDist[j].toFixed(5);
                    }
                }
            }

            document.getElementById("clusterFreqDist").innerHTML = "Cluster frequency distribution: [" + clusterFreqDist.toString() + "]";
            document.getElementById("clusterProbDist").innerHTML = "Cluster probability distribution: [" + clusterProbDist.toString() + "]";
            document.getElementById("noiseClusterCount").innerHTML = "Noise cluster: [" + noiseClusterCount.toString() + "]";
        }


        let annotatorsContainer = document.getElementById("annotatorsContainer");
        let annotators = [];

        function fillAnnotatorsContainer(jsonData) {
            let div = document.createElement('div');
            let h4 = document.createElement('h4');
            h4.innerHTML = "Annotator filter (resets all other filters): ";
            div.appendChild(h4);

            for (let i = 0; i < jsonData.length; i++) {

                let annotator = jsonData[i]["annotator"]
                if (!annotators.includes(annotator)) {
                    annotators.push(annotator);
                }
            }

            annotators.sort();

            for (let j = 0; j < annotators.length; j++) {
                let label = document.createElement('label');
                label.innerHTML = annotators[j];
                label.for = annotators[j];
                let checkbox = document.createElement('input');
                checkbox.type = "checkbox";
                checkbox.checked = true;
                checkbox.id = annotators[j];
                div.appendChild(label);
                div.appendChild(checkbox);
            }

            let button = document.createElement('button');
            button.innerHTML = "Show graph";
            button.onclick = annotatorsFilter;
            div.appendChild(button);
            let br = document.createElement('br')
            let br2 = document.createElement('br')
            div.appendChild(br);
            div.appendChild(br2);

            annotatorsContainer.append(div);
        }



        function annotatorsFilter() {
            showSelectLoad();
            setTimeout(calculateSubGraph, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function calculateSubGraph() {
            loadingIcon.style.visibility = 'visible';
            let onlyCheckedAnnotators = [];
            for (let i = 0; i < annotators.length; i++) {
                let checkAnnotator = document.getElementById(annotators[i]);
                if (checkAnnotator.checked) {
                    onlyCheckedAnnotators.push(annotators[i]);
                }
            }


            let filteredForAnnotators = filteredStatsDataJoint.filter(row => onlyCheckedAnnotators.includes(row.annotator));


            groupPicker.selectedIndex = 0;
            sliderMin.value = 1;
            slider.value = 4;
            sliderDisplay.innerHTML = "4";
            sliderMinDisplay.innerHTML = "1";
            checkboxNoiseLabels.checked = true;
            checkboxNaN.checked = true;
            maxPicker.selectedIndex = dates.length - 1;
            minPicker.selectedIndex = 0;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            nodes.forEach(function (node){
                if(node.hidden){
                    node.hidden = false;
                    nodes.update(node);
                }
            })

            /*edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;

                let from = nodes.get(edge.from);
                let from_id = from.id;

                let edgeAnnotations = [];

                for (let k = 0; k < filteredForAnnotators.length; k++) {
                    let item = filteredForAnnotators[k];
                    let identifier1 = item.identifier1;
                    let identifier2 = item.identifier2;
                    let weight = Number(item.judgment);

                    if((identifier1 == to_id && identifier2 == from_id) || (identifier1 == from_id && identifier2 == to_id)){

                        if(0 < weight < 5){
                            //console.log("there is a corresponding annotation thats not NaN");
                            edgeAnnotations.push(weight);
                        }
                    }
                }

                if (edgeAnnotations.length !== 0){
                let median;
                let filteredArray = edgeAnnotations;
                filteredArray.sort((a, b) => a - b);
                let middle = Math.floor(filteredArray.length / 2);
                if (filteredArray.length % 2 === 0) {
                    median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                } else {
                    median = filteredArray[middle];
                }

                    console.log("the median for this edge is: " + median);

                    if (median == 0){
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                    edges.update(edge);

                    } else {
                    edge.hidden = true;
                    edges.update(edge);
                }







            })
            */


            // Create a map to store the filteredForAnnotators array
            let annotationsMap = new Map();
            filteredForAnnotators.forEach(function (item) {
                let identifier1 = item.identifier1;
                let identifier2 = item.identifier2;
                let weight = Number(item.judgment);
                if (weight >= 0 && weight < 5) {
                    // Only store annotations with weight between 0 and 5
                    let key = [identifier1, identifier2].sort().join('-');
                    let annotations = annotationsMap.get(key) || [];
                    annotations.push(weight);
                    annotationsMap.set(key, annotations);
                }
            });

            // Iterate over the edges and get the annotations from the map
            edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;
                let from = nodes.get(edge.from);
                let from_id = from.id;
                let key = [to_id, from_id].sort().join('-');
                let edgeAnnotations = annotationsMap.get(key) || [];


                    //console.log("edge annos: " + edgeAnnotations);

                if (edgeAnnotations.length !== 0) {
                    let median;
                    let filteredArray = edgeAnnotations.filter(a => a > 0);
                    filteredArray.sort((a, b) => a - b);

                    if (filteredArray.length === 0) {
                        median = 0;
                    } else {
                        let middle = Math.floor(filteredArray.length / 2);
                        if (filteredArray.length % 2 === 0) {
                            median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                        } else {
                            median = filteredArray[middle];
                        }
                    }


                    //console.log("the median for this edge is: " + median);

                    if (median == 0) {
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                } else {
                    edge.hidden = true;
                }

                edges.update(edge);
            });



            loadingIcon.style.visibility = 'hidden';

            calcMean();
            updateClusterDistribution();
        }


        sliderMin.value = 1;
        slider.value = 4;


    </script>
</body>

</html>