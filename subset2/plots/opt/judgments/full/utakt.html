<html xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
    <center>
        <h1 id="heading">utakt (full)</h1>
    </center>


    <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->

    <style type="text/css">
       #mynetwork {
            width: 65%;
            height: 90%;

            margin-right: 2%;

            height: {
                    {
                    height
                }
            }

            ;

            background-color: {
                    {
                    bgcolor
                }
            }

            ;
            border: 1px solid lightgray;
            position: relative;
            float: left;
        }

            {
            % if nodes|length>100 and physics_enabled %
        }

        #loadingBar {
            position: absolute;
            top: 0px;
            left: 0px;

            width: {
                    {
                    width
                }
            }

            ;

            height: {
                    {
                    height
                }
            }

            ;
            background-color:rgba(200, 200, 200, 0.8);
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -ms-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
            opacity:1;
        }

        #bar {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 20px;
            height: 20px;
            margin: auto auto auto auto;
            border-radius: 11px;
            border: 2px solid rgba(30, 30, 30, 0.05);
            background: rgb(0, 173, 246);
            /* Old browsers */
            box-shadow: 2px 0px 4px rgba(0, 0, 0, 0.4);
        }

        #border {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 500px;
            height: 23px;
            margin: auto auto auto auto;
            box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        #text {
            position: absolute;
            top: 8px;
            left: 530px;
            width: 30px;
            height: 50px;
            margin: auto auto auto auto;
            font-size: 22px;
            color: #000000;
        }

        div.outerBorder {
            position: relative;
            top: 400px;
            width: 600px;
            height: 44px;
            margin: auto auto auto auto;
            border: 8px solid rgba(0, 0, 0, 0.1);
            background: rgb(252, 252, 252);
            /* Old browsers */
            background: -moz-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(252, 252, 252, 1)), color-stop(100%, rgba(237, 237, 237, 1)));
            /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Opera 11.10+ */
            background: -ms-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* IE10+ */
            background: linear-gradient(to bottom, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fcfcfc', endColorstr='#ededed', GradientType=0);
            /* IE6-9 */
            border-radius: 72px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }

            {
            % endif %
        }

            {
            % if conf %
        }

        #config {
            float: left;
            width: 400px;
            height: 600px;
        }

            {
            % endif %
        }

            {
            % if tooltip_link %
        }

        /* position absolute is important and the container has to be relative or absolute as well. */
        div.popup {
            position: absolute;
            top: 0px;
            left: 0px;
            display: none;
            background-color: #f5f4ed;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            border: 1px solid #808074;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
        }



        /* hide the original tooltip */


        .vis-tooltip {
            position: absolute;
        }

        #config {
            display: none;

        }

            {
            % endif %
        }

        #custom_wugs {
            height: 90%;
            width: 30%;
            overflow: scroll;
        }

        #custom_wugs>* {
            padding: 1%;
            margin-left: 2%;
        }






        .help-tip {
            position: absolute;
            top: 18px;
            right: 18px;
            text-align: center;
            background-color: #E55B0A;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 26px;
            cursor: default;
        }

        .help-tip:before {
            content: '?';
            font-weight: bold;
            color: #fff;
        }

        .help-tip:hover p {
            display: block;
            transform-origin: 100% 0%;

            -webkit-animation: fadeIn 0.3s ease-in-out;
            animation: fadeIn 0.3s ease-in-out;

        }

        .help-tip p {
            /* The tooltip */
            display: none;
            text-align: left;
            background-color: #1E2021;
            padding: 20px;
            width: 800px;
            position: absolute;
            border-radius: 3px;
            box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
            right: 16px;
            color: #FFF;
            font-size: 13px;
            line-height: 1.4;
        }

        .help-tip p:before {
            /* The pointer of the tooltip */
            position: absolute;
            content: '';
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-bottom-color: #1E2021;
            right: 10px;
            top: -12px;
        }

        .help-tip p:after {
            /* Prevents the tooltip from being hidden */
            width: 100%;
            height: 40px;
            content: '';
            position: absolute;
            top: -40px;
            left: 0;
        }


        /* CSS animation */

        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.6);
            }

            100% {
                opacity: 100%;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading-icon {
            position: absolute;
            top: 40%;
            left: 30%;
            transform: translate(-50%, -50%);
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid red;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            visibility: hidden;
        }

        #custom_wugs {
            font-size: smaller;
        }

        .shifted {
            margin-left: 3%;
        }

        .bold {
            font-weight: bold;
        }

        #fillSD {
            margin-bottom: 0;
            padding-bottom: 0;
        }

    </style>

</head>

<body>
     <div id="loader" style="display: none"></div>

    <div id="mynetwork"></div>
    
    

    <div id="custom_wugs">



        <div class="help-tip">
            <p><em>General</em><br />
           Firefox is the recommended browser for this application. For large graphs, loading time may vary. This application is under development. Feedback is appreciated. The code, from which you can generate your own graphs, can be found here:  <a href="https://github.com/Garrafao/WUGs/" target="_blank" style="color: white">WUGs repository</a><br /><br /><br />
                <em>Statistics</em><br />
            The statistics section gets updated as the filters are used. For in-depth stats, refer to the stats dropdowns on the bottom.<br /><br /><br />
                <em>Edge & node filters</em><br />
            Edge weights are calculated as the mean of all annotations of the node pair.
            Nodes with noisy data appear black and have -1 as their label. Both the noisy nodes and edges with wrongly calculated weights can be filtered out.
            Edge and node filters are interlinked and should show the desired selection. While one filter is being calculated, the page will prevent you from selecting another filter.<br /><br /><br />
                <em>Annotators filter</em><br />
            The annotators filter resets all other filters and shows the initial graph, but only edges the selected annotators have annotated.</p>
        </div>

        <div class="infoContainer">
            <h4>Info: </h4>
            <div id="clusterInfo"></div>
            <h4>Statistics:</h4>
            <div id="statistics"></div>
            <p id="fillMean">Edge weight mean: </p>
            <p id="fillSD">Edge weight standard deviation: </p>
        </div>
        <div class ="edgeFilterContainer">
            <h4>Edge filters: </h4>

            <label for="checkboxNaN">Show NaN edges </label>
            <input type="checkbox" id="checkboxNaN" onclick="filterNaN()">
            <br><br>
            <div class="slideContainer" style="display: block; clear: both">
                <label for="slider-min" style="display: block">Min weight: <span id="sliderValueDisplayMin" style="display: inline-block">1</span></label>
                <input type="range" min="1" max="4" value="1" class="slider-load" id="slider-min">
                <label for="slider" style="display: block">Max weight: <span id="sliderValueDisplay" style="display: inline-block">4</span></label>
                <input type="range" min="1" max="4" value="4" class="slider-load" id="slider">
            </div>
        </div>




        <div class="nodeFilterContainer">
            <h4>Node filters: </h4>

            <label for="checkboxNoiseLabels">Show noise cluster</label>
            <input type="checkbox" id="checkboxNoiseLabels" onclick="filterNoiseLabels()">
            <br><br>
            <form onsubmit="dateFilter();return false">
                <label for="minPicker">From date: </label>
                <select class="picker" id="minPicker"></select>
                <label for="maxPicker">to date: </label>
                <select class="picker" id="maxPicker"></select>
                <input type="submit" value="Filter">
            </form>

            <label for="groupPicker">Grouping: </label>
            <select  class="select-load" id="groupPicker">
                <option>All</option>
                <option>1</option>
                <option>2</option>
            </select>
            <div class="loading-icon"></div>
        </div>

        <div id="annotatorsContainer"></div>

        <div class="detailsContainer">
            <details id="stats">
                <summary class="bold">Stats</summary>
                <table id="stats-table"></table>
            </details>
            <details id="statsGroupings">
                <summary class="bold">Grouping stats</summary>
                <table id="stats-groupings-table"></table>
            </details>
            <details id="statsAgreement">
                <summary class="bold">Agreement stats</summary>
                <table id="stats-agreement-table"></table>
            </details>
            <details id="statsPlotting">
                <summary class="bold">Plotting stats</summary>
                <table id="stats-plotting-table"></table>
            </details>
            <details id="statsDataJoint">
                <summary class="bold">Annotator data</summary>
            </details>
        </div>

    </div>

    <div id="config">

    </div>

    
     <!--<script type="text/javascript" src="../stats.js"></script>
     <script type="text/javascript" src="../stats_agreement.js"></script>
     <script type="text/javascript" src="../stats_groupings.js"></script>
     <script type="text/javascript" src="../stats_plotting.js"></script>
     <script type="text/javascript" src="../data_joint.js"></script>-->

    <script type="text/javascript">
        // initialize global variables.
        var edges;
        var nodes;
        var network;
        var container;
        var options, data;


        // This method is responsible for drawing the graph, returns the drawn network
        function drawGraph() {
            var container = document.getElementById('mynetwork');

            

            // parsing and collecting nodes and edges from the python
            nodes = new vis.DataSet([{"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_44", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEt helt annet eksempel, hentet f ra investeringsanalyse, er \u00e5\u003cbr\u003espre sine investeringer p\u00e5 objekter med avkastning som varierer i\u003cbr\u003e\u003cb\u003eutakt\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_44\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1690.2834958822402, "y": -377.14924118556587}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_18", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eLangtidsprogrammet gir uttrykk for at mye taler for at\u003cbr\u003earbeidstidene b\u00f8r bli mer varierte og \u00e5pningstidene mer fleksible, og\u003cbr\u003eat de som i dag har avvikende arbeidstider, p\u00e5 den m\u00e5ten vil kunne\u003cbr\u003ekomme mindre i \u003cb\u003eutakt\u003c/b\u003e med tidsm\u00f8nstrene i samfunnet for \u00f8vrig.\u003cbr\u003eDet nevnes imidlertid at en slik utvikling ogs\u00e5 vil kunne innebaere\u003cbr\u003eulemper for en del arbeidstakergrupper.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_18\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 520.0827391893581, "y": 805.638058138279}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_40", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eUngdom med tilh\u00f8righet i hippie-kulturen og i \u003cb\u003eutakt\u003c/b\u003e med\u003cbr\u003esitt bakgrunnsmilj\u00f8 og dets forventninger utgjorde et sterkt innslag i\u003cbr\u003emisbrukergruppen i 1968-1970.1 denne gruppen var det en overvekt av\u003cbr\u003emenn. Stoffene ble introdusert gjennom geografiske og\u003cbr\u003ebefolkningsmessige sentra og deretter gradvis spredt til sm\u00e5byer og\u003cbr\u003ebygdesamfunn.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_40\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 860.9839347908951, "y": -1.4973170062754957}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_11", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eLovene er n\u00e5 tilnaermet identiske i oppbygging og innhold, og\u003cbr\u003ebygger i hovedtrekk p\u00e5 en organisasjonsstruktur som har ligget fast\u003cbr\u003esiden 1921. Kommuneloven og Fylkeskommuneloven er etter hvert kommet i\u003cbr\u003e\u003cb\u003eutakt\u003c/b\u003e med samfunnsutviklingen.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_11\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 736.5042708623268, "y": -456.9099660469367}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_25", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u00c5 arbeide i \u003cb\u003eutakt\u003c/b\u003e med de fleste andre gj\u00f8r det vanskelig\u003cbr\u003e\u00e5 delta i organisasjonsliv, fritidsaktiviteter og sosialt liv. Det er\u003cbr\u003eimidlertid ikke bare de mest awikende arbeidstidsordningene som kan\u003cbr\u003ef\u00f8re til problemer for arbeidstakeren.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_25\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -77.99233072110326, "y": -510.90048007537945}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_41", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eBehandling av slike detaljsaker er imidlertid i \u003cb\u003eutakt\u003c/b\u003e\u003cbr\u003emed retningslinjene som er trukket opp for modernisering av\u003cbr\u003estatsforvaltningen.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_41\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -850.528109079027, "y": -181.95022594977732}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_20", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMedisinsk og sosialvitenskapelig forskning har vist at\u003cbr\u003earbeidstider som bryter med biologiske rytmer, ofte medf\u00f8rer\u003cbr\u003ehelseproblemer. Dessuten veit vi at det \u00e5 arbeide i \u003cb\u003eutakt\u003c/b\u003e med\u003cbr\u003ede fleste andre, gj\u00f8r det vanskelig \u00e5 delta i organisasjonsliv,\u003cbr\u003eorganiserte fritidsaktiviteter og \u00e5 ha vanlig sosial omgang. Saerlig\u003cbr\u003es\u00e5rbart er familielivet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_20\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 190.91283410395891, "y": 1228.5703624383834}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_6", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet er sannsynlig, men ikke sikkert, at v\u00e5re domstoler vil gi\u003cbr\u003ede folkerettslige regler p\u00e5 dette omr\u00e5det fortrinnet i en eventuell\u003cbr\u003ekonflikt med norske rettsregler. Norge har tidligere, saerlig i\u003cbr\u003emellomkrigstiden, vaert i sterk \u003cb\u003eutakt\u003c/b\u003e med en internasjonal\u003cbr\u003erettsutvikling til vern om minoritetskulturer.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_6\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -520.0921601214205, "y": -743.0675482073854}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_31", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet har medf\u00f8rt at praksis har vaert i \u003cb\u003eutakt\u003c/b\u003e med regler\u003cbr\u003efor innr\u00f8mmelse av folketrygdrettigheter og sj\u00f8mannsskatt for de samme\u003cbr\u003enorske ansatte.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_31\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -760.7373897446324, "y": 511.9143846208084}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_28", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEn vet ogs\u00e5 at det \u00e5 arbeide i \u003cb\u003eutakt\u003c/b\u003e med de fleste andre\u003cbr\u003egj\u00f8r det vanskelig \u00e5 delta i organiserte fritidsaktiviteter og \u00e5 ha\u003cbr\u003evanlig sosial omgang (NOU 1979:56).\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_28\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 308.4896412657387, "y": -673.2180940352006}, {"color": "#377eb8", "date": "1980", "id": "1980-1990_utakt_43", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEn del av de mindre lokal- avisene kunne ogs\u00e5 tenke seg \u00e5 bruke\u003cbr\u003ehjemvendte FK-ere til \u00e5 kommentere aktuelle hendelser i landene de har\u003cbr\u003earbeidet i. En del journalister og redaksjonssjefer er oppmerksomme p\u00e5\u003cbr\u003eat deres medier er i \u003cb\u003eutakt\u003c/b\u003e med publikums interesser for\u003cbr\u003eu-landsstoff.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1980\u003cbr\u003egrouping: 1980-1990\u003cbr\u003eidentifier: 1980-1990_utakt_43\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -362.2517479170088, "y": 1075.2779925949226}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_312", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI prioriteringen av likestilling er politikerne n\u00e5 i\u003cbr\u003e\u003cb\u003eutakt\u003c/b\u003e med velgerne. Hvis ikke noen griper sjansen, gj\u00f8r kanskje\u003cbr\u003enoen andre som i Sverige.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_312\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 588.2919351209438, "y": -895.7357312241146}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_224", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- Hvem av dere er mest i \u003cb\u003eutakt\u003c/b\u003e med hva velgerne p\u00e5\u003cbr\u003ehjemstedet deres mener?\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_224\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -246.20404070521195, "y": 738.0881208288662}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_757", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI \u003cb\u003eutakt\u003c/b\u003e med tiden Kj\u00f8reegenskapene med de ekstra\u003cbr\u003ehestekreftene skal sikres ved stivere stag i motorrommet, samt\u003cbr\u003eomprogrammert servostyring og differensial. Enda st\u00f8rre bremser kan\u003cbr\u003eleveres som ekstrautstyr.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_757\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1207.0818951100641, "y": 615.3189347732944}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_254", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- For meg er dette et eksempel p\u00e5 hvor vanlig det er i moderne\u003cbr\u003efotball at styret er i \u003cb\u003eutakt\u003c/b\u003e med fansen, og heller er opptatt\u003cbr\u003eav andre ting enn supporterne.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_254\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 747.7959360863421, "y": 408.7677642376801}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_543", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u2013 Men n\u00e5r Ap og LO st\u00e5r p\u00e5 sitt mens motstanden \u00f8ker, er dere i\u003cbr\u003e\u003cb\u003eutakt\u003c/b\u003e med folk? \u2013 N\u00e5 er LO og Ap folkelige bevegelser som tar\u003cbr\u003ebeslutninger basert p\u00e5 demokratiske prosesser.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_543\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 324.5898557479959, "y": 466.06140127157795}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_120", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- Det \u00e5 ha en utvikling hvor man er i \u003cb\u003eutakt\u003c/b\u003e med\u003cbr\u003eomgivelsene over en lang periode er en fare, sier Juel. To forhold\u003cbr\u003eIf\u00f8lge Juel er det idag saerlig to forhold som truer det positive\u003cbr\u003ebildet som tegnes av utviklingen i norsk \u00f8konomi fremover. B\u00e5de en\u003cbr\u003eforverret situasjon i eurosonen og andre faktorer som kan presse\u003cbr\u003eoljeprisen nedover, vil kunne f\u00e5 dramatiske f\u00f8lger i Norge. - F\u00e5r du\u003cbr\u003een fullstendig kollaps i eurosonen, vil det ramme ettersp\u00f8rselen fra\u003cbr\u003ev\u00e5re handelspartnere hardt, p\u00e5peker han. Juel holder muligheten for\u003cbr\u003esammenbrudd i eurosonen \u00e5pen, men tror dette vil unng\u00e5s med tiltak som\u003cbr\u003ekrisehjelp, gjennomf\u00f8ring av reformer og mer samarbeid om \u00f8konomisk\u003cbr\u003epolitikk sentralt sett i eurosonen.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_120\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1511.1008098260577, "y": -49.0061513848235}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_581", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u2013 Men det mest ekstreme eksempelet p\u00e5 \u00e5 vaere i \u003cb\u003eutakt\u003c/b\u003e\u003cbr\u003emed sine velgere, er det H\u00f8yre som st\u00e5r for. V\u00e5r gjennomgang viser at\u003cbr\u003edet bare er Elin R. Agdestein i H\u00f8yres stortingsgruppe som er mot EU-\u003cbr\u003emedlemskap. 45 er mot og to har svart at de ikke vet eller vet ikke. \u2013\u003cbr\u003eN\u00e5r 60 prosent av H\u00f8yre-velgerne er mot EU-medlemskap, er det et parti\u003cbr\u003esom s\u00e5 til de grader er i utakt med sine velgere, at b\u00e5de velgerne og\u003cbr\u003epartiet er tjent med at det kommer inn flere i H\u00f8yres stortingsgruppe\u003cbr\u003esom er enig med velgerne sine i EU-sp\u00f8rsm\u00e5let.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_581\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -514.8263359882282, "y": -332.6906472014266}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_230", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMan kan si at luftforurensingen i nord gjorde at den nordlige\u003cbr\u003eog s\u00f8rlige halvkule kom i \u003cb\u003eutakt\u003c/b\u003e klimamessig p\u00e5 1960- og\u003cbr\u003e1970-tallet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_230\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -267.58254277925965, "y": 177.12625104076253}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_36", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet ljomer under hvelvingene n\u00e5r barn fra Gyldenpris barnehage\u003cbr\u003etr\u00e5r til med pepperkakebakesangen sammen med ordf\u00f8rer Trude Drevland.\u003cbr\u003eBak en s\u00f8yle durer akkompagnementet fra en cd-spiller, og de er litt i\u003cbr\u003e\u003cb\u003eutakt\u003c/b\u003e.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_36\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -687.3915480329819, "y": -2000.0}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_197", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eBenedikt har ledet moderkirken i \u003cb\u003eutakt\u003c/b\u003e med moderne\u003cbr\u003evestlige verdier - og delvis i strid med seg selv. Opposisjonen har\u003cbr\u003emarkert seg, blant annet i en krets rundt den \u00f8sterrikske presten\u003cbr\u003eHelmut Sch\u00fcller, som sammen med 400 kolleger har tatt til orde for\u003cbr\u003eordinering av kvinnelige prester, opphevelse av s\u00f8libatet og \u00e5pning\u003cbr\u003efor at skilte skal kunne motta nadverd.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_197\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 181.2946377916521, "y": -71.24689548042439}, {"color": "#377eb8", "date": "2012", "id": "2012-2019_utakt_266", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet eneste vi finner er at de som har lang humanistisk og\u003cbr\u003esamfunnsvitenskapelig utdannelse, er litt i \u003cb\u003eutakt\u003c/b\u003e med folk\u003cbr\u003eflest.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 2012\u003cbr\u003egrouping: 2012-2019\u003cbr\u003eidentifier: 2012-2019_utakt_266\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1199.2387889242198, "y": 266.6090278526666}]);
        edges = new vis.DataSet([{"color": "black", "from": "1980-1990_utakt_44", "label": "4/4/-", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "4/4/1", "to": "1980-1990_utakt_41", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "4/-/-", "to": "1980-1990_utakt_6", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "4/4/-", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "4/4/-", "to": "1980-1990_utakt_25", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "3/3/-", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "4/4/1", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "4/4/-", "to": "2012-2019_utakt_224", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "-/4/1", "to": "2012-2019_utakt_543", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "-/4/1", "to": "1980-1990_utakt_18", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "-/4/1", "to": "2012-2019_utakt_757", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "-/4/-", "to": "1980-1990_utakt_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "-/4/-", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "-/4/1", "to": "2012-2019_utakt_120", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_44", "label": "-/4/1", "to": "1980-1990_utakt_20", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "4/4/-", "to": "1980-1990_utakt_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "3/-/-", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "4/4/1", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "4/-/-", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "4/-/-", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "4/-/4", "to": "1980-1990_utakt_25", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "4/4/4", "to": "1980-1990_utakt_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "4/-/1", "to": "2012-2019_utakt_266", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/4/4", "to": "1980-1990_utakt_41", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/4/4", "to": "2012-2019_utakt_757", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/4/-", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/4/-", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/4/-", "to": "2012-2019_utakt_224", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/-/4", "to": "1980-1990_utakt_43", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/-/4", "to": "2012-2019_utakt_312", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/-/4", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/-/4", "to": "1980-1990_utakt_20", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_18", "label": "-/-/4", "to": "1980-1990_utakt_6", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "4/4/-", "to": "1980-1990_utakt_20", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "4/4/4", "to": "2012-2019_utakt_224", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "4/4/4", "to": "1980-1990_utakt_11", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "4/4/-", "to": "1980-1990_utakt_43", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "4/4/-", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "4/-/4", "to": "1980-1990_utakt_41", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "4/4/-", "to": "2012-2019_utakt_312", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "-/4/-", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "-/4/4", "to": "1980-1990_utakt_6", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "-/4/-", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "-/4/4", "to": "2012-2019_utakt_757", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "-/4/-", "to": "1980-1990_utakt_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "-/4/-", "to": "1980-1990_utakt_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "-/4/-", "to": "1980-1990_utakt_25", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "-/4/-", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_40", "label": "-/4/4", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/-/-", "to": "1980-1990_utakt_25", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/-/4", "to": "1980-1990_utakt_6", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/4/4", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/4/4", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/4/-", "to": "1980-1990_utakt_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/4/4", "to": "1980-1990_utakt_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/4/4", "to": "2012-2019_utakt_224", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/-/-", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/4/-", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "3/-/-", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "4/4/-", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "-/4/4", "to": "2012-2019_utakt_757", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "-/4/-", "to": "2012-2019_utakt_312", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "-/-/4", "to": "1980-1990_utakt_43", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_11", "label": "-/-/4", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/-", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/-/4", "to": "2012-2019_utakt_757", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/-", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/-", "to": "1980-1990_utakt_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/4", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/-", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "3/4/1", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/-", "to": "1980-1990_utakt_41", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/-", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/1", "to": "1980-1990_utakt_43", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/-/4", "to": "2012-2019_utakt_312", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/-", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "4/4/4", "to": "1980-1990_utakt_20", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "-/4/4", "to": "1980-1990_utakt_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "-/4/-", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_25", "label": "-/-/4", "to": "1980-1990_utakt_6", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "4/-/4", "to": "1980-1990_utakt_20", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "4/4/4", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "4/4/-", "to": "1980-1990_utakt_43", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "4/4/-", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "4/4/-", "to": "2012-2019_utakt_312", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "4/4/-", "to": "1980-1990_utakt_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "-/4/-", "to": "2012-2019_utakt_224", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "-/4/-", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "-/4/-", "to": "2012-2019_utakt_36", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "-/4/-", "to": "1980-1990_utakt_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "-/4/-", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "-/4/4", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "-/-/4", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_41", "label": "-/-/4", "to": "1980-1990_utakt_6", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "4/4/1", "to": "1980-1990_utakt_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "4/-/-", "to": "2012-2019_utakt_224", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "4/-/-", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "4/4/-", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "4/-/4", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "4/4/4", "to": "1980-1990_utakt_43", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "4/4/-", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "3/4/1", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "-/4/1", "to": "2012-2019_utakt_543", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "-/4/-", "to": "2012-2019_utakt_757", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "-/4/-", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "-/4/-", "to": "1980-1990_utakt_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_20", "label": "-/4/-", "to": "1980-1990_utakt_6", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "4/4/-", "to": "1980-1990_utakt_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "4/-/-", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "4/4/1", "to": "2012-2019_utakt_36", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "4/-/4", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "4/-/-", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "4/-/-", "to": "1980-1990_utakt_43", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "4/4/-", "to": "2012-2019_utakt_312", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "4/-/-", "to": "1980-1990_utakt_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "-/4/1", "to": "2012-2019_utakt_120", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "-/4/4", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "-/4/-", "to": "2012-2019_utakt_224", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "-/4/-", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_6", "label": "-/-/4", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "4/4/4", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "4/4/4", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "3/3/-", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "4/4/4", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "4/-/4", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "4/-/4", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "-/4/4", "to": "1980-1990_utakt_43", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "-/4/4", "to": "2012-2019_utakt_224", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "-/-/4", "to": "1980-1990_utakt_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "-/-/4", "to": "2012-2019_utakt_312", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_31", "label": "-/-/4", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "3/-/-", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "4/4/1", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "4/4/-", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "4/-/1", "to": "2012-2019_utakt_543", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "4/-/1", "to": "2012-2019_utakt_230", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "4/-/-", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "4/4/-", "to": "2012-2019_utakt_312", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "4/4/-", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "4/4/4", "to": "2012-2019_utakt_757", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "-/4/1", "to": "1980-1990_utakt_43", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "-/4/1", "to": "2012-2019_utakt_224", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_28", "label": "-/-/4", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "4/4/-", "to": "2012-2019_utakt_224", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "4/-/-", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "4/4/-", "to": "2012-2019_utakt_757", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "4/-/-", "to": "2012-2019_utakt_312", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "4/-/-", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "4/4/4", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "-/4/1", "to": "2012-2019_utakt_120", "weight": 2.5, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "-/4/-", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "-/4/4", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "1980-1990_utakt_43", "label": "-/4/4", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_312", "label": "4/-/4", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_312", "label": "4/-/4", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_312", "label": "4/4/4", "to": "2012-2019_utakt_757", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_312", "label": "4/4/4", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_312", "label": "4/4/-", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_312", "label": "4/4/-", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_312", "label": "4/4/-", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_312", "label": "4/-/4", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_224", "label": "4/-/4", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_224", "label": "4/4/4", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_224", "label": "4/4/4", "to": "2012-2019_utakt_757", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_224", "label": "4/4/-", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_224", "label": "-/4/4", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_224", "label": "-/4/4", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_224", "label": "-/4/-", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_224", "label": "-/-/4", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_757", "label": "3/4/1", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_757", "label": "4/4/-", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_757", "label": "-/4/4", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_757", "label": "-/4/4", "to": "2012-2019_utakt_543", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_757", "label": "-/4/-", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_757", "label": "-/-/4", "to": "2012-2019_utakt_254", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_757", "label": "-/-/4", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_254", "label": "4/-/-", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_254", "label": "4/4/4", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_254", "label": "4/4/3", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_254", "label": "4/-/4", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_254", "label": "-/3/-", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_254", "label": "-/-/4", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_543", "label": "4/4/-", "to": "2012-2019_utakt_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_543", "label": "4/4/4", "to": "2012-2019_utakt_581", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_543", "label": "-/-/4", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_120", "label": "3/3/-", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_120", "label": "4/-/1", "to": "2012-2019_utakt_581", "weight": 2.5, "width": 4}, {"color": "black", "from": "2012-2019_utakt_120", "label": "4/-/-", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_120", "label": "-/4/1", "to": "2012-2019_utakt_266", "weight": 2.5, "width": 4}, {"color": "black", "from": "2012-2019_utakt_120", "label": "-/4/4", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_581", "label": "3/3/1", "to": "2012-2019_utakt_36", "weight": 3.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_581", "label": "4/4/4", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_581", "label": "4/4/4", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_581", "label": "4/-/-", "to": "2012-2019_utakt_230", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_230", "label": "4/-/-", "to": "2012-2019_utakt_197", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_230", "label": "-/4/-", "to": "2012-2019_utakt_266", "weight": 4.0, "width": 4}, {"color": "black", "from": "2012-2019_utakt_36", "label": "3/3/-", "to": "2012-2019_utakt_197", "weight": 3.0, "width": 4}, {"color": "lightgray", "from": "1980-1990_utakt_44", "label": "-/-/1", "to": "1980-1990_utakt_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_utakt_44", "label": "-/-/1", "to": "1980-1990_utakt_43", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_utakt_18", "label": "-/-/1", "to": "1980-1990_utakt_11", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_utakt_18", "label": "-/-/1", "to": "1980-1990_utakt_40", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_utakt_40", "label": "3/-/1", "to": "2012-2019_utakt_36", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1980-1990_utakt_20", "label": "-/-/1", "to": "2012-2019_utakt_312", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_utakt_312", "label": "3/-/1", "to": "2012-2019_utakt_36", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_utakt_224", "label": "-/-/1", "to": "2012-2019_utakt_36", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_utakt_543", "label": "-/-/1", "to": "2012-2019_utakt_36", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_utakt_230", "label": "-/-/1", "to": "2012-2019_utakt_36", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "2012-2019_utakt_36", "label": "-/3/1", "to": "2012-2019_utakt_266", "weight": 2.0, "width": 2}]);

        // adding nodes and edges to the graph
        data = { nodes: nodes, edges: edges };

        var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "nodes",
            "edges"
        ]
    },
    "edges": {
        "color": {
            "inherit": false
        },
        "smooth": {
            "enabled": false,
            "type": "continuous"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": false,
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

        

        
        // if this network requires displaying the configure window,
        // put it in its div
        options.configure["container"] = document.getElementById("config");
        

        network = new vis.Network(container, data, options);

        


        

        return network;

    }

        drawGraph();


        let nodesInTimePeriod = new Set();
        let edgesInTimePeriod = new Set();
        let edgesBelowWeight = new Set();
        let nodesInGrouping = new Set();
        let edgesInGrouping = new Set();
        let edgesToBeShown = new Set();
        let nodesToBeShown = new Set();

        edges.forEach(function (edge) {
            edgesBelowWeight.add(edge.id);
            edgesInGrouping.add(edge.id);
            edgesInTimePeriod.add(edge.id);
            edgesToBeShown.add(edge.id);
        })

        nodes.forEach(function (node) {
            nodesInTimePeriod.add(node.id);
            nodesInGrouping.add(node.id);
            nodesToBeShown.add(node.id);
        })


        function showEdges() {
            edgesToBeShown.forEach(function (edge) {
                edge.hidden = false;
                edges.update(edge);
            })
        }

        //Missing the loading icon
        //slider code from pyvis filter example
        // Handler event when slider changes

        let slider = document.getElementById('slider');
        let sliderMin = document.getElementById('slider-min');
        let sliderDisplay = document.getElementById('sliderValueDisplay');
        let sliderMinDisplay = document.getElementById('sliderValueDisplayMin');

        sliderDisplay.innerHTML = "4";
        sliderMinDisplay.innerHTML = "1";

        function weightFilter() {
            console.log("weight filter got called");
            // Get the value of the slider
            let sliderValue = slider.value;
            let sliderMinValue = sliderMin.value;

            // Display the selected value next to slider
            sliderDisplay.innerHTML = sliderValue;
            sliderMinDisplay.innerHTML = sliderMinValue;

            // Loop through the edges
            edges.forEach(function (edge) {
                // Check if the edge should be displayed based on its weight
                if (edge.weight <= sliderValue && edge.weight >= sliderMinValue) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        edgesBelowWeight.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    }
                    // Edge should be displayed
                    // Unhide edge if it's hidden and update DataSet

                } else if (isNaN(edge.weight)) {
                    //console.log("its NaN")
                } else {

                    // Edge should not be displayed
                    // Hide edge if not already hidden and update DataSet
                    if (!edge.hidden) {
                        edgesBelowWeight.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }
                }
            });


            calcMean();
        }



        //code for node date filter
        let dates = [];
        nodes.forEach(function (node) {
            date = node.date;
            if (!dates.includes(date)) {
                dates.push(date);
            }
        });
        dates.sort();


        //code for date slider
        let minDate = 10000;
        let maxDate = 0;

        let minPicker = document.getElementById('minPicker');
        let maxPicker = document.getElementById('maxPicker');

        if (!minPicker.hasChildNodes()) {
            dates.forEach(function (date) {
                if (Number(date) < minDate) {
                    minDate = Number(date);
                }
                if (Number(date) > maxDate) {
                    maxDate = Number(date);
                }


                let option = document.createElement('option');
                option.text = date;
                option.value = date;

                let option2 = document.createElement('option');
                option2.text = date;
                option2.value = date;

                minPicker.append(option);
                maxPicker.append(option2);

            })
        } else {
            minDate = Number(dates[0]);
            maxDate = Number(dates[dates.length-1]);
        }
        maxPicker.selectedIndex = dates.length - 1;



        function showSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'visible';
                resolve();
            });
        }

        function hideSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'hidden';
                resolve();
            });
        }



        const loadingIcon = document.querySelector('.loading-icon');
        const select = document.querySelector('.select-load');

        select.addEventListener('change', function () {
            showSelectLoad();
            setTimeout(selectGroup, 1000);


            setTimeout(hideSelectLoad, 1000);


        });

        //const slider_load = document.querySelector('.slider-load');

         slider.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

         sliderMin.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

        let groupPicker = document.getElementById('groupPicker');
        groupPicker.selectedIndex = 0;
        let minValue = minPicker.value;
        let maxValue = maxPicker.value;

        function selectGroup() {
            return new Promise(function (resolve, reject) {
                let selectValue = document.getElementById('groupPicker').value;

                console.log("grouping value: " + selectValue);

                if (selectValue == 1) {
                    nodes.forEach(function (node) {


                        if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else if (selectValue == 2) {
                    nodes.forEach(function (node) {
                        if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else {
                    nodes.forEach(function (node) {
                        if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                }
                loadingIcon.style.visibility = 'hidden';

                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        if (showNaNEdges && !nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {

                            edge.hidden = false;
                            edges.update(edge);
                        } else {
                            edge.hidden = true;
                            edge.hidden = true;
                            edges.update(edge);
                        }
                    } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && !isNaN(edge.weight)) {
                        edgesInGrouping.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    } else {
                        edgesInGrouping.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }


                })
                loadingIcon.style.visibility = 'hidden';
                calcMean();
                updateClusterDistribution();
                resolve();
            });

        }

        function dateFilter() {
            showSelectLoad();
            setTimeout(pickDates, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function pickDates() {
            loadingIcon.style.visibility = 'visible';

            let selectValue = document.getElementById('groupPicker').value;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            //console.log("showing dates between " + minValue + " and " + maxValue);

            if (selectValue == 1) {
                nodes.forEach(function (node) {


                    if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else if (selectValue == 2) {
                nodes.forEach(function (node) {
                    if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else {
                nodes.forEach(function (node) {
                    if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            }

            edges.forEach(function (edge) {


                if (isNaN(edge.weight) && !showNaNEdges) {

                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && isNaN(edge.weight)){
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && edge.weight >= sliderMin.value && edge.weight <= slider.value) {
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else {
                    edgesInTimePeriod.delete(edge.id);
                    edge.hidden = true;
                    edges.update(edge);
                }


            })
            loadingIcon.style.visibility = 'hidden'


            calcMean();
            updateClusterDistribution();

        }

        let showNaNEdges = true;

        function filterNaN() {
            showSelectLoad();
            setTimeout(selectNaN, 1000);


            setTimeout(hideSelectLoad, 1000);

        };

        const checkboxNaN = document.getElementById("checkboxNaN");

        function selectNaN() {
            if (checkboxNaN.checked) {

                showNaNEdges = true;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = false;
                        edges.update(edge);
                        pickDates();
                    }
                });
            } else {
                showNaNEdges = false;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = true;
                        edges.update(edge);
                    }
                });
            }


        }


        const checkboxNoiseLabels = document.getElementById("checkboxNoiseLabels");

        document.getElementById("checkboxNaN").checked = true;
        document.getElementById("checkboxNoiseLabels").checked = true;

        let showNoiseLabels = true;

        function filterNoiseLabels() {
            showSelectLoad();
            setTimeout(selectNoiseLabels, 1000);


            setTimeout(hideSelectLoad, 1000);
        }

        function selectNoiseLabels() {
            if (checkboxNoiseLabels.checked) {

                showNoiseLabels = true;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {
                        node.hidden = false;
                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        if (isNaN(edge.weight) && !showNaNEdges) {
                            edge.hidden = true;
                            edges.update(edge);

                        } else {
                            edge.hidden = false;
                            edges.update(edge);
                        }
                    }
                })

            } else {

                showNoiseLabels = false;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {

                        node.hidden = true;

                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (nodes.get(edge.to).hidden || nodes.get(edge.from).hidden || (isNaN(edge.weight) && !showNaNEdges)) {

                        edge.hidden = true;
                        edges.update(edge);

                    }
                })

            }
            updateClusterDistribution();
        }


        let fillMean = document.getElementById("fillMean");
        let fillSD = document.getElementById("fillSD");


        function calcMean() {
            let edgeValues = [];
            edges.forEach(function (edge) {
                if (!edge.hidden) {
                    let label = parseFloat(edge.weight);
                    if (!isNaN(label)) {
                        edgeValues.push(label);
                    }
                }
            })

            let mean = edgeValues.reduce((a, b) => a + b, 0) / edgeValues.length;
            let sd = dev(edgeValues, mean);
            if (isNaN(mean)) {
                mean = 0;
            }
            if (isNaN(sd)) {
                sd = 0;
            }
            mean = mean.toFixed(5);
            sd = sd.toFixed(5);

            fillMean.innerHTML = "Edge weight mean: ";
            fillSD.innerHTML = "Edge weight standard deviation: "

            fillMean.append(mean);
            fillSD.append(sd);

        }


        // Javascript program to calculate the standard deviation of an array

        function dev(arr, mean) {

            // Assigning (value - mean) ^ 2 to every array item
            arr = arr.map((k) => {
                return (k - mean) ** 2
            })


            // Calculating the sum of updated array
            let sum = arr.reduce((acc, curr) => acc + curr, 0);


            // Returning the standard deviation
            return Math.sqrt(sum / arr.length)
        }

        calcMean();


        let heading = document.getElementById("heading").innerHTML;
        let onlyLemma = heading.replace(/ .*/, '');

        //NEW

        // set up flag variables to track which scripts have been loaded successfully
        let statsLoaded = false;
        let statsGroupingsLoaded = false;
        let statsAgreementLoaded = false;
        let statsPlottingLoaded = false;
        let statsDataJointLoaded = false;

        let filteredStats = [];
        let filteredStatsGroupings = [];
        let filteredStatsAgreement = [];
        let filteredStatsPlotting = [];
        let filteredStatsDataJoint = [];

        let clusteringMethod;
        let cluster_freq_dist;
        let cluster_prob_dist;
        let noise_cluster_count;
        let clusterInfo;
        let statisticsDiv;
        let nodePosition;


        // create event listeners for each script to set the corresponding flag when loaded
        document.addEventListener('statsLoaded', function () {
            console.log('stats.js is fully loaded!');
            statsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsGroupingsLoaded', function () {
            console.log('stats_groupings.js is fully loaded!');
            statsGroupingsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsAgreementLoaded', function () {
            console.log('stats_agreement.js is fully loaded!');
            statsAgreementLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsPlottingLoaded', function () {
            console.log('stats_plotting.js is fully loaded!');
            statsPlottingLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsDataJointLoaded', function () {
            console.log('data_joint.js is fully loaded!');
            statsDataJointLoaded = true;
            checkAllScriptsLoaded();
        });

        // load each script with the same function
        function loadScript(scriptUrl, eventName) {
            const script = document.createElement('script');
            script.src = scriptUrl;
            script.type = 'text/javascript';

            script.addEventListener('load', function () {
                console.log(scriptUrl + ' loaded successfully');
                document.dispatchEvent(new Event(eventName));
            });

            script.addEventListener('error', function () {
                console.log('Failed to load ' + scriptUrl);
                checkAllScriptsLoaded();
            });

            document.body.appendChild(script);
        }

        // call the loadScript function for each script you want to load
        loadScript('../stats.js', 'statsLoaded');
        loadScript('../stats_groupings.js', 'statsGroupingsLoaded');
        loadScript('../stats_agreement.js', 'statsAgreementLoaded');
        loadScript('../stats_plotting.js', 'statsPlottingLoaded');
        loadScript('../data_joint.js', 'statsDataJointLoaded');

        // check if all scripts have been loaded, and execute the code that depends on them if they have
        function checkAllScriptsLoaded() {

            if (statsLoaded) {
                try {
                    filteredStats = stats.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats not found');
                }

                try {
                    generateTable(filteredStats, "stats");
                } catch (err) {
                    console.log('problem generating table with stats');
                }

                try {
                    clusteringMethod = filteredStats[0].algorithm;
                } catch (err) {
                    console.log('filteredStats[0] not found');
                }



            }

            if (statsGroupingsLoaded) {
                try {
                    filteredStatsGroupings = stats_groupings.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_groupings not found');
                }

                try {
                    generateTable(filteredStatsGroupings, "statsGroupings");
                } catch (err) {
                    console.log('problem generating table with stats_groupings');
                }

                cluster_freq_dist = filteredStatsGroupings[0].cluster_freq_dist;
                cluster_prob_dist = filteredStatsGroupings[0].cluster_prob_dist;
            }

            if (statsAgreementLoaded) {
                try {
                    filteredStatsAgreement = stats_agreement.filter(row => row.data === onlyLemma);
                } catch (err) {
                    console.log('stats_agreement not found');
                }

                try {
                    generateTable(filteredStatsAgreement, "statsAgreement");
                } catch (err) {
                    console.log('problem generating table with stats_agreement');
                }


            }

            if (statsPlottingLoaded) {
                try {
                    filteredStatsPlotting = stats_plotting.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_plotting not found');
                }

                try {
                    generateTable(filteredStatsPlotting, "statsPlotting");
                } catch (err) {
                    console.log('problem generating table with stats_plotting');
                }

                nodePosition = filteredStatsPlotting[0].node_position;
            }

            if (statsDataJointLoaded) {
                try {
                    filteredStatsDataJoint = data_joint.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_data_joint not found');
                }

                try {
                    generateDetails(filteredStatsDataJoint, "statsDataJoint");
                } catch (err) {
                    console.log('problem generating table with statsDataJoint');
                }

                if(!annotatorsContainer.hasChildNodes()){
                    fillAnnotatorsContainer(filteredStatsDataJoint);
                }
            }

            noise_cluster_count = 0;
            nodes.forEach(function (node) {
                if (Number(node.label) == -1) {
                    noise_cluster_count += 1;
                }
            });

            clusterInfo = document.getElementById("clusterInfo");
            statisticsDiv = document.getElementById("statistics");

            clusterInfo.innerHTML = `
            <p>Node position: ${nodePosition}</p>
            <p>Clustering method: ${clusteringMethod}</p>`;

            statisticsDiv.innerHTML = `
            <p id="clusterFreqDist">Cluster frequency distribution: ${cluster_freq_dist}</p>
            <p id="clusterProbDist">Cluster probability distribution: ${cluster_prob_dist}</p>
            <p id="noiseClusterCount">Noise Cluster: [${noise_cluster_count}]</p>`;

        }


        function generateTable(jsonData, id) {
            if (!jsonData || jsonData.length === 0) {
                console.error(`Error: Invalid JSON data in generateTable function for id '${id}'`);
                return;
            }

            let div = document.createElement('div');


            let keys = Object.keys(jsonData[0]);
            keys.forEach(function (key) {
                let details = document.createElement('details');
                details.classList.add('shifted');
                let summary = document.createElement('summary');
                summary.innerText = key;
                details.appendChild(summary);
                let content = document.createElement('div');
                content.innerText = jsonData[0][key];
                details.appendChild(content);
                div.appendChild(details);

            })

            document.getElementById(id).append(div);
        }

        function generateDetails(jsonData, id) {
            let div = document.createElement('div');

            for (let i = 0; i < jsonData.length; i++) {
                let surroundingDetails = document.createElement('details');
                surroundingDetails.classList.add('shifted');
                let surroundingSummary = document.createElement('summary');
                surroundingSummary.innerText = i.toString();
                surroundingDetails.appendChild(surroundingSummary);
                div.appendChild(surroundingDetails);
                let keys = Object.keys(jsonData[i]);
                keys.forEach(function (key) {
                    let details = document.createElement('details');
                    details.classList.add('shifted');
                    let summary = document.createElement('summary');
                    summary.innerText = key;
                    details.appendChild(summary);
                    let content = document.createElement('div');
                    content.innerText = jsonData[i][key];
                    details.appendChild(content);
                    surroundingDetails.appendChild(details);

                })
            }

            document.getElementById(id).append(div);
        }




        function updateClusterDistribution() {
            let clusterFreqDist = [];
            let clusterProbDist = [];
            let noiseClusterCount = 0;
            let temp = [];
            let numberOfNodes = 0;

            nodes.forEach(function (node) {
                if (!node.hidden) {
                    temp.push(Number(node.label));
                }


            })

            temp.sort();

            let biggestLabel = temp[temp.length - 1];

            for (let i = 0; i <= biggestLabel; i++) {
                clusterFreqDist.push(0);
                clusterProbDist.push(0);
            }

            temp.forEach(function (item) {
                if (!(item == -1)) {
                    numberOfNodes += 1;
                    clusterFreqDist[item] += 1;
                } else {
                    noiseClusterCount += 1;
                }
            })

            for (let j = 0; j < clusterFreqDist.length; j++) {
                if (clusterFreqDist[j] > 0) {

                    clusterProbDist[j] = (clusterFreqDist[j] / numberOfNodes);

                    let parts = clusterProbDist[j].toString().split('.');

                    // Check the length of the decimal part
                    if (parts[1] && parts[1].length > 5) {
                        // Round the value to 5 decimal places if the decimal part is longer than 5 digits
                        clusterProbDist[j] = clusterProbDist[j].toFixed(5);
                    }
                }
            }

            document.getElementById("clusterFreqDist").innerHTML = "Cluster frequency distribution: [" + clusterFreqDist.toString() + "]";
            document.getElementById("clusterProbDist").innerHTML = "Cluster probability distribution: [" + clusterProbDist.toString() + "]";
            document.getElementById("noiseClusterCount").innerHTML = "Noise cluster: [" + noiseClusterCount.toString() + "]";
        }


        let annotatorsContainer = document.getElementById("annotatorsContainer");
        let annotators = [];

        function fillAnnotatorsContainer(jsonData) {
            let div = document.createElement('div');
            let h4 = document.createElement('h4');
            h4.innerHTML = "Annotator filter (resets all other filters): ";
            div.appendChild(h4);

            for (let i = 0; i < jsonData.length; i++) {

                let annotator = jsonData[i]["annotator"]
                if (!annotators.includes(annotator)) {
                    annotators.push(annotator);
                }
            }

            annotators.sort();

            for (let j = 0; j < annotators.length; j++) {
                let label = document.createElement('label');
                label.innerHTML = annotators[j];
                label.for = annotators[j];
                let checkbox = document.createElement('input');
                checkbox.type = "checkbox";
                checkbox.checked = true;
                checkbox.id = annotators[j];
                div.appendChild(label);
                div.appendChild(checkbox);
            }

            let button = document.createElement('button');
            button.innerHTML = "Show graph";
            button.onclick = annotatorsFilter;
            div.appendChild(button);
            let br = document.createElement('br')
            let br2 = document.createElement('br')
            div.appendChild(br);
            div.appendChild(br2);

            annotatorsContainer.append(div);
        }



        function annotatorsFilter() {
            showSelectLoad();
            setTimeout(calculateSubGraph, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function calculateSubGraph() {
            loadingIcon.style.visibility = 'visible';
            let onlyCheckedAnnotators = [];
            for (let i = 0; i < annotators.length; i++) {
                let checkAnnotator = document.getElementById(annotators[i]);
                if (checkAnnotator.checked) {
                    onlyCheckedAnnotators.push(annotators[i]);
                }
            }


            let filteredForAnnotators = filteredStatsDataJoint.filter(row => onlyCheckedAnnotators.includes(row.annotator));


            groupPicker.selectedIndex = 0;
            sliderMin.value = 1;
            slider.value = 4;
            sliderDisplay.innerHTML = "4";
            sliderMinDisplay.innerHTML = "1";
            checkboxNoiseLabels.checked = true;
            checkboxNaN.checked = true;
            maxPicker.selectedIndex = dates.length - 1;
            minPicker.selectedIndex = 0;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            nodes.forEach(function (node){
                if(node.hidden){
                    node.hidden = false;
                    nodes.update(node);
                }
            })

            /*edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;

                let from = nodes.get(edge.from);
                let from_id = from.id;

                let edgeAnnotations = [];

                for (let k = 0; k < filteredForAnnotators.length; k++) {
                    let item = filteredForAnnotators[k];
                    let identifier1 = item.identifier1;
                    let identifier2 = item.identifier2;
                    let weight = Number(item.judgment);

                    if((identifier1 == to_id && identifier2 == from_id) || (identifier1 == from_id && identifier2 == to_id)){

                        if(0 < weight < 5){
                            //console.log("there is a corresponding annotation thats not NaN");
                            edgeAnnotations.push(weight);
                        }
                    }
                }

                if (edgeAnnotations.length !== 0){
                let median;
                let filteredArray = edgeAnnotations;
                filteredArray.sort((a, b) => a - b);
                let middle = Math.floor(filteredArray.length / 2);
                if (filteredArray.length % 2 === 0) {
                    median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                } else {
                    median = filteredArray[middle];
                }

                    console.log("the median for this edge is: " + median);

                    if (median == 0){
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                    edges.update(edge);

                    } else {
                    edge.hidden = true;
                    edges.update(edge);
                }







            })
            */


            // Create a map to store the filteredForAnnotators array
            let annotationsMap = new Map();
            filteredForAnnotators.forEach(function (item) {
                let identifier1 = item.identifier1;
                let identifier2 = item.identifier2;
                let weight = Number(item.judgment);
                if (weight >= 0 && weight < 5) {
                    // Only store annotations with weight between 0 and 5
                    let key = [identifier1, identifier2].sort().join('-');
                    let annotations = annotationsMap.get(key) || [];
                    annotations.push(weight);
                    annotationsMap.set(key, annotations);
                }
            });

            // Iterate over the edges and get the annotations from the map
            edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;
                let from = nodes.get(edge.from);
                let from_id = from.id;
                let key = [to_id, from_id].sort().join('-');
                let edgeAnnotations = annotationsMap.get(key) || [];


                    //console.log("edge annos: " + edgeAnnotations);

                if (edgeAnnotations.length !== 0) {
                    let median;
                    let filteredArray = edgeAnnotations.filter(a => a > 0);
                    filteredArray.sort((a, b) => a - b);

                    if (filteredArray.length === 0) {
                        median = 0;
                    } else {
                        let middle = Math.floor(filteredArray.length / 2);
                        if (filteredArray.length % 2 === 0) {
                            median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                        } else {
                            median = filteredArray[middle];
                        }
                    }


                    //console.log("the median for this edge is: " + median);

                    if (median == 0) {
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                } else {
                    edge.hidden = true;
                }

                edges.update(edge);
            });



            loadingIcon.style.visibility = 'hidden';

            calcMean();
            updateClusterDistribution();
        }


        sliderMin.value = 1;
        slider.value = 4;


    </script>
</body>

</html>