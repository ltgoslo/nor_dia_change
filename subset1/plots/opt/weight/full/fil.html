<html xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
    <center>
        <h1 id="heading">fil (full)</h1>
    </center>


    <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->

    <style type="text/css">
       #mynetwork {
            width: 65%;
            height: 90%;

            margin-right: 2%;

            height: {
                    {
                    height
                }
            }

            ;

            background-color: {
                    {
                    bgcolor
                }
            }

            ;
            border: 1px solid lightgray;
            position: relative;
            float: left;
        }

            {
            % if nodes|length>100 and physics_enabled %
        }

        #loadingBar {
            position: absolute;
            top: 0px;
            left: 0px;

            width: {
                    {
                    width
                }
            }

            ;

            height: {
                    {
                    height
                }
            }

            ;
            background-color:rgba(200, 200, 200, 0.8);
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -ms-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
            opacity:1;
        }

        #bar {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 20px;
            height: 20px;
            margin: auto auto auto auto;
            border-radius: 11px;
            border: 2px solid rgba(30, 30, 30, 0.05);
            background: rgb(0, 173, 246);
            /* Old browsers */
            box-shadow: 2px 0px 4px rgba(0, 0, 0, 0.4);
        }

        #border {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 500px;
            height: 23px;
            margin: auto auto auto auto;
            box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        #text {
            position: absolute;
            top: 8px;
            left: 530px;
            width: 30px;
            height: 50px;
            margin: auto auto auto auto;
            font-size: 22px;
            color: #000000;
        }

        div.outerBorder {
            position: relative;
            top: 400px;
            width: 600px;
            height: 44px;
            margin: auto auto auto auto;
            border: 8px solid rgba(0, 0, 0, 0.1);
            background: rgb(252, 252, 252);
            /* Old browsers */
            background: -moz-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(252, 252, 252, 1)), color-stop(100%, rgba(237, 237, 237, 1)));
            /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Opera 11.10+ */
            background: -ms-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* IE10+ */
            background: linear-gradient(to bottom, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fcfcfc', endColorstr='#ededed', GradientType=0);
            /* IE6-9 */
            border-radius: 72px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }

            {
            % endif %
        }

            {
            % if conf %
        }

        #config {
            float: left;
            width: 400px;
            height: 600px;
        }

            {
            % endif %
        }

            {
            % if tooltip_link %
        }

        /* position absolute is important and the container has to be relative or absolute as well. */
        div.popup {
            position: absolute;
            top: 0px;
            left: 0px;
            display: none;
            background-color: #f5f4ed;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            border: 1px solid #808074;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
        }



        /* hide the original tooltip */


        .vis-tooltip {
            position: absolute;
        }

        #config {
            display: none;

        }

            {
            % endif %
        }

        #custom_wugs {
            height: 90%;
            width: 30%;
            overflow: scroll;
        }

        #custom_wugs>* {
            padding: 1%;
            margin-left: 2%;
        }






        .help-tip {
            position: absolute;
            top: 18px;
            right: 18px;
            text-align: center;
            background-color: #E55B0A;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 26px;
            cursor: default;
        }

        .help-tip:before {
            content: '?';
            font-weight: bold;
            color: #fff;
        }

        .help-tip:hover p {
            display: block;
            transform-origin: 100% 0%;

            -webkit-animation: fadeIn 0.3s ease-in-out;
            animation: fadeIn 0.3s ease-in-out;

        }

        .help-tip p {
            /* The tooltip */
            display: none;
            text-align: left;
            background-color: #1E2021;
            padding: 20px;
            width: 800px;
            position: absolute;
            border-radius: 3px;
            box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
            right: 16px;
            color: #FFF;
            font-size: 13px;
            line-height: 1.4;
        }

        .help-tip p:before {
            /* The pointer of the tooltip */
            position: absolute;
            content: '';
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-bottom-color: #1E2021;
            right: 10px;
            top: -12px;
        }

        .help-tip p:after {
            /* Prevents the tooltip from being hidden */
            width: 100%;
            height: 40px;
            content: '';
            position: absolute;
            top: -40px;
            left: 0;
        }


        /* CSS animation */

        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.6);
            }

            100% {
                opacity: 100%;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading-icon {
            position: absolute;
            top: 40%;
            left: 30%;
            transform: translate(-50%, -50%);
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid red;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            visibility: hidden;
        }

        #custom_wugs {
            font-size: smaller;
        }

        .shifted {
            margin-left: 3%;
        }

        .bold {
            font-weight: bold;
        }

        #fillSD {
            margin-bottom: 0;
            padding-bottom: 0;
        }

    </style>

</head>

<body>
     <div id="loader" style="display: none"></div>

    <div id="mynetwork"></div>
    
    

    <div id="custom_wugs">



        <div class="help-tip">
            <p><em>General</em><br />
           Firefox is the recommended browser for this application. For large graphs, loading time may vary. This application is under development. Feedback is appreciated. The code, from which you can generate your own graphs, can be found here:  <a href="https://github.com/Garrafao/WUGs/" target="_blank" style="color: white">WUGs repository</a><br /><br /><br />
                <em>Statistics</em><br />
            The statistics section gets updated as the filters are used. For in-depth stats, refer to the stats dropdowns on the bottom.<br /><br /><br />
                <em>Edge & node filters</em><br />
            Edge weights are calculated as the mean of all annotations of the node pair.
            Nodes with noisy data appear black and have -1 as their label. Both the noisy nodes and edges with wrongly calculated weights can be filtered out.
            Edge and node filters are interlinked and should show the desired selection. While one filter is being calculated, the page will prevent you from selecting another filter.<br /><br /><br />
                <em>Annotators filter</em><br />
            The annotators filter resets all other filters and shows the initial graph, but only edges the selected annotators have annotated.</p>
        </div>

        <div class="infoContainer">
            <h4>Info: </h4>
            <div id="clusterInfo"></div>
            <h4>Statistics:</h4>
            <div id="statistics"></div>
            <p id="fillMean">Edge weight mean: </p>
            <p id="fillSD">Edge weight standard deviation: </p>
        </div>
        <div class ="edgeFilterContainer">
            <h4>Edge filters: </h4>

            <label for="checkboxNaN">Show NaN edges </label>
            <input type="checkbox" id="checkboxNaN" onclick="filterNaN()">
            <br><br>
            <div class="slideContainer" style="display: block; clear: both">
                <label for="slider-min" style="display: block">Min weight: <span id="sliderValueDisplayMin" style="display: inline-block">1</span></label>
                <input type="range" min="1" max="4" value="1" class="slider-load" id="slider-min">
                <label for="slider" style="display: block">Max weight: <span id="sliderValueDisplay" style="display: inline-block">4</span></label>
                <input type="range" min="1" max="4" value="4" class="slider-load" id="slider">
            </div>
        </div>




        <div class="nodeFilterContainer">
            <h4>Node filters: </h4>

            <label for="checkboxNoiseLabels">Show noise cluster</label>
            <input type="checkbox" id="checkboxNoiseLabels" onclick="filterNoiseLabels()">
            <br><br>
            <form onsubmit="dateFilter();return false">
                <label for="minPicker">From date: </label>
                <select class="picker" id="minPicker"></select>
                <label for="maxPicker">to date: </label>
                <select class="picker" id="maxPicker"></select>
                <input type="submit" value="Filter">
            </form>

            <label for="groupPicker">Grouping: </label>
            <select  class="select-load" id="groupPicker">
                <option>All</option>
                <option>1</option>
                <option>2</option>
            </select>
            <div class="loading-icon"></div>
        </div>

        <div id="annotatorsContainer"></div>

        <div class="detailsContainer">
            <details id="stats">
                <summary class="bold">Stats</summary>
                <table id="stats-table"></table>
            </details>
            <details id="statsGroupings">
                <summary class="bold">Grouping stats</summary>
                <table id="stats-groupings-table"></table>
            </details>
            <details id="statsAgreement">
                <summary class="bold">Agreement stats</summary>
                <table id="stats-agreement-table"></table>
            </details>
            <details id="statsPlotting">
                <summary class="bold">Plotting stats</summary>
                <table id="stats-plotting-table"></table>
            </details>
            <details id="statsDataJoint">
                <summary class="bold">Annotator data</summary>
            </details>
        </div>

    </div>

    <div id="config">

    </div>

    
     <!--<script type="text/javascript" src="../stats.js"></script>
     <script type="text/javascript" src="../stats_agreement.js"></script>
     <script type="text/javascript" src="../stats_groupings.js"></script>
     <script type="text/javascript" src="../stats_plotting.js"></script>
     <script type="text/javascript" src="../data_joint.js"></script>-->

    <script type="text/javascript">
        // initialize global variables.
        var edges;
        var nodes;
        var network;
        var container;
        var options, data;


        // This method is responsible for drawing the graph, returns the drawn network
        function drawGraph() {
            var container = document.getElementById('mynetwork');

            

            // parsing and collecting nodes and edges from the python
            nodes = new vis.DataSet([{"color": "k", "date": "1929", "id": "1929-1965_fil_39", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMen ogs\u00e5 i loven selv finner dommeren adskillige fingerpek om\u003cbr\u003ehvilken interessevurdering han skal legge \u003cb\u003efil\u003c/b\u003e grunn, og hvilke\u003cbr\u003eforeteelser loven tenker sig b\u00f8r bekjempes gjennem generalklausulen.\u003cbr\u003eGanske visst lar det sig ikke gj\u00f8re \u00e5 opl\u00f8se klausulen \u00abi sine enkelte\u003cbr\u003efaktorer\u00bb, eller redusere den til et visst antall almindelige\u003cbr\u003erettssetninger, som helt skulde utt\u00f8mme dens virkefelt.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_39\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 198.20299909119487, "y": 108.05667954283581}, {"color": "k", "date": "1929", "id": "1929-1965_fil_17", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003ee fjes, et fjesing|en (fisk) fjeske fallert; fallitt fallrep\u003cbr\u003e[reip] falsett, en feid (skinn-), en fele, fela fiksjon fikte, \u00e5\u003cbr\u003efamil|ie; -iaer fanatjiker, -isme fanden felg (hjul-), en felle,\u003cbr\u003efelte, felt felle (muse-) [a] felle (reise-) en felles |bo, -skap\u003cbr\u003efelling (sammen-) felt, et, -er feltjen; -skjaer feltspat|en felaeger\u003cbr\u003e\u003cb\u003efil\u003c/b\u003e [-a]; file, -te Filefjell filetjen filial, filigran Filip;\u003cbr\u003efilipens\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_17\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 173.80471410088367, "y": 7.609735734123653}, {"color": "k", "date": "1929", "id": "1929-1965_fil_61", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eRiktig \u003cb\u003efil\u003c/b\u003e for for- skjellige arbeid.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_61\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 176.56267520924882, "y": 57.944675748061336}, {"color": "k", "date": "1929", "id": "1929-1965_fil_71", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eOm H. H.s kongsgaarde. i Maal og Minne 1913 s. 66\u201472, jfr.\u003cbr\u003eellers om HaraldskvaeSi samme forf. i Arkiv for nord. \u003cb\u003efil\u003c/b\u003e. XXXI\u003cbr\u003e381\u201482 og S. Bugge i Hist. Tidsskr.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_71\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -291.0279058499514, "y": -184.5217564476106}, {"color": "k", "date": "1929", "id": "1929-1965_fil_44", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e1 1 1 \u003cb\u003efil\u003c/b\u003e 60 fil 174.40 6 000.\u2014 Harstad\u003cbr\u003efolkeskole\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_44\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -255.17172395596216, "y": -165.30112520567178}, {"color": "k", "date": "1929", "id": "1929-1965_fil_47", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEiriki veitti enn seint atsoknin o: be \u003cb\u003efil\u003c/b\u003e fent af fit\u003cbr\u003eSlngreb, Flat. I, 491*; veita e-m at e-u o: en i eller meb noget: ef\u003cbr\u003epu vill eigi pat, p\u00e5 verum allir samt ok veitumst at m\u00e5lum pessum\u003cbr\u003eLjosv.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_47\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -2000.0, "y": 874.2681548242864}, {"color": "k", "date": "1929", "id": "1929-1965_fil_53", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eFra 1888 hadde Tanks skole ogs\u00e5 tatt seg av det behov som var\u003cbr\u003e\u003cb\u003efil\u003c/b\u003e stede for kortere handelskurser om aftenen og\u003cbr\u003eettermiddagen. I motsetning til aftenkurset ved Christiania\u003cbr\u003eHandelsgymnasium, var kursene ved Tanks skole \u00e5pne b\u00e5de for kvinner og\u003cbr\u003emenn.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_53\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 943.9896008795973, "y": 1671.9325503263437}, {"color": "k", "date": "1929", "id": "1929-1965_fil_63", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003ei Bergen fra 800 til : r av foranst it, er let en forskjell p\u00e5\u003cbr\u003eutgiftene i ,010 og i rest t. \u25a0 \u0026gt;sentlig \u003cb\u003efil\u003c/b\u003e av i n li ; ger\u003cbr\u003ei h\u00f8 l -r i Oslo til leder, assi. a;, rr i Oslo, de 8 i de 18 2 r \u0027 -\u003cbr\u003en av : ille :\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_63\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 942.8816315793268, "y": -279.4877461583186}, {"color": "k", "date": "1970", "id": "1970-2015_fil_262", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eJa \u003cb\u003efil\u003c/b\u003e NeiH 2 Vet ikke D\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_262\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -132.61277349321512, "y": -166.35713793862485}, {"color": "k", "date": "1970", "id": "1970-2015_fil_90", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eRepresentantskapet i forretningsbanker og finansieringsforetak\u003cbr\u003evelger flertallet av styrets medlemmer, jf. fbl. \u00a7 9 og \u003cb\u003efil\u003c/b\u003e. \u00a7\u003cbr\u003e3-9. Tilsvarende gjelder for forsikringsselskaper med mindre selskapet\u003cbr\u003ehar faerre enn 50 ansatte, jf. forsvl. \u00a7 5-4. Etter fbl. \u00a7 1 1 siste\u003cbr\u003eledd fastsetter representantskapet retningslinjer for bankens\u003cbr\u003evirksomhet i form av generelle instrukser for bankens styre og\u003cbr\u003eadministrasjon.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_90\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -237.62473127813942, "y": -127.57991682967068}, {"color": "k", "date": "1970", "id": "1970-2015_fil_272", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eTanken er at man sl\u00e5r sammen samlinger p\u00e5 nasjo- B J 2\u003cbr\u003e\u003cb\u003efil\u003c/b\u003e Uk nal niv\u00e5 i en Europeana Local portal, som i seg seiv\u003cbr\u003eleverer resultatene videre til Europeanas fellesportal.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_272\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 665.3647102102564, "y": -706.5599576446299}, {"color": "k", "date": "1970", "id": "1970-2015_fil_23", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eArbeider som er knyttet til disse fagfeltene, og som foreligger\u003cbr\u003ei forbindelse med konsesjonss\u00f8knader i Rauma, er: Bilag 2.\u003cbr\u003eIngeni\u00f8rtekniske vurderinger vedr\u00f8rende Rauma kraftverk av dr. ing.\u003cbr\u003eEinar Broch og \u003cb\u003efil\u003c/b\u003e. dr. Ragnar W. Dahl. Geologisk institutt NTH\u003cbr\u003eav 31.03.76. Bilag 3. Rapport utarbeidet av NGI: Nr 76403, Vurdering\u003cbr\u003eav sn\u00f8skredfare ved Remmen, Romsdal, datert 29.04.1976.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_23\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 236.68256716750614, "y": -535.9446843864138}, {"color": "#ff7f00", "date": "1929", "id": "1929-1965_fil_28", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eC. 26 524 m, 19,5 cm langt som har form naermest som raspen R.\u003cbr\u003e420, men har filingsrifler p\u00e5 alle 4 sider og ogs\u00e5 er blitt oppfattet\u003cbr\u003esom en \u003cb\u003efil\u003c/b\u003e. 4 I det kjente funn fra Grinningsdalskampen, V\u00e5g\u00e5,\u003cbr\u003eOpi., er det ogs\u00e5 2 filer :\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_28\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 149.38152060513053, "y": -7.274611023766639}, {"color": "#ff7f00", "date": "1929", "id": "1929-1965_fil_32", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eSaerlig i disse rike smedfunn er det ikke sjelden 2 eller av og\u003cbr\u003etil ogs\u00e5 3 redskaper, saerlig av hammerne, tengene eller filene. Mens\u003cbr\u003edet i de 27 funn, hvor hammer og tang forekommer sammen, bare er 2\u003cbr\u003eganger at det er 2 hammere i ett funn, er det i disse siste 10 funn\u003cbr\u003emed 5, 6 eller 7 redskaper, 5 ganger at det er 2 eller 3 hammere,\u003cbr\u003elikesom det i de samme funn forekommer 6 ganger at det e\u0027r 2 tenger.\u003cbr\u003eOgs\u00e5 i gruppen med 3 redskaper med kombinasjonen hammer, tang og\u003cbr\u003e\u003cb\u003efil\u003c/b\u003e er det i de 13 funn 4 ganger at det er 2 hammere.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_32\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 169.51477663279042, "y": -26.114716979514164}, {"color": "#ff7f00", "date": "1929", "id": "1929-1965_fil_31", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHer er det bare 2 kombinasjoner som forekommer i st\u00f8rre antall:\u003cbr\u003ehammer, tang og \u003cb\u003efil\u003c/b\u003e i 13 funn, og ambolt, hammer og tang i 8\u003cbr\u003efunn, vi har ogs\u00e5 her 8 andre kombinasjoner, men bare en eller i et\u003cbr\u003eenkelt tilfelle 2 av hver. Kombinasjonen med 4 forskjellige redskaper\u003cbr\u003eforekommer enn\u00e5 i 19 funn, den tallrikeste er her hammer, tang, fil og\u003cbr\u003eambolt i 6 funn, 3 funn har hammer, tang, fil og saumlo og hammer,\u003cbr\u003etang, fil og meisel.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_fil_31\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 150.76561511892987, "y": 17.255836545324986}, {"color": "#ff7f00", "date": "1970", "id": "1970-2015_fil_242", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMens man tidligere 7. Skar\u00f8ks var et viktig redskapfor\u003cbr\u003eb\u00e5tbyggeren. 2. En av t\u00f8mrnermannens \u00f8kser. 3, 4 og 5. Skrapere\u003cbr\u003e(skj\u00f8ver) ble brukt til \u00e5 huie ut og til dekorative ut- skjaeringer.\u003cbr\u003e6. Bor eller navar til \u00e5 bore hull med. 7. Vanlig \u00f8ks \u2014 t\u00f8mmermannens\u003cbr\u003eviktigste redskap. 8. Grov \u003cb\u003efil\u003c/b\u003e til arbeid i bein eller tre. 9.\u003cbr\u003eKniv \u2014 det beste verkt\u00f8yet for arbeid i tre. 10 og 11. Meisel og\u003cbr\u003estemjern ble brukt til \u00e5 huie ut, til \u00e5 lage hullerfor nagler og\u003cbr\u003etapper og mye annet. kan snakke om en tidligere husindustri, fikk man\u003cbr\u003emed sagen en industriell produksjon av planker og bord.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_242\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 136.27488579984214, "y": -24.640155883269745}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_fil_240", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHele settet skrives ut \u0026gt;p Bare bibliotek a\u0027s beholdning\u003cbr\u003eskrives ut: \u0026gt;p a Gitte referanser i settet kan skrives ut: \u0026gt; p\u003cbr\u003e1-10,15, 17-22 (Skriv bare tall, komma og bindestrek!) Normalt blir\u003cbr\u003ereferansene skrevet ut p\u00e5 terminalen. Vha defin-kommandoen (se ?d) kan\u003cbr\u003edette endres slik at referansene bare sendes til ei \u003cb\u003efil\u003c/b\u003e uten \u00e5\u003cbr\u003eskrives p\u00e5 terminalen. Slike \u0027print\u0027 filer som blir laget i l\u00f8pet av\u003cbr\u003een s\u00f8king kan etterp\u00e5 behandles videre (sendes til skriver, kopieres\u003cbr\u003etil brukerens egne filer) vha programmet (PE.U (dette er et sj\u003cbr\u003e\u00f8lforklarende program, og m\u00e5 kalles F\u00d8R @FIN !!!) MERK: \u00f8nskes\u003cbr\u003eutskrift fra et tidligere sett m\u00e5 dette gj\u00f8res til siste sett ved \u00e5\u003cbr\u003eskrive (f.eks.) \u0026gt;$4 f\u00f8r bruk av p-kommandoen! Kommando TRACE TRACE-\u003cbr\u003ekommando (forkortet t) gir systematisk tracing, dvs all klassifikasjon\u003cbr\u003eog alle emneord tilknyttet alle eksemplarer av siste referanse skrevet\u003cbr\u003eut vha bdata-kommandoen. Skriv -\u0026gt;t etter bdata! Kommando NABO NABO-\u003cbr\u003ekommandoen (forkortet n) gir ei liste over \u0027nabo- termer\u0027 til et\u003cbr\u003es\u00f8keord. \u0026gt;n \u0026lt;ord\u0026gt; gir ei liste over 4 indeksord f\u00f8r og 15\u003cbr\u003eindeksord etter \u0026lt;ord\u0026gt; i sortert rekkef\u00f8lge.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_240\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -166.26830926071148, "y": -60.88807345824437}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_fil_171", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI all hovedsak vil \u00e9n \u003cb\u003efil\u003c/b\u003e vaere lik ett betalingsoppdrag\u003cbr\u003e(batch).\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_171\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -191.5559660671022, "y": -95.70150368869437}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_fil_214", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEn arkivinformasjonssamling er en AIP, men en\u003cbr\u003earkivinformasjonssamling kan best\u00e5 av flere mindre\u003cbr\u003earkivinformasjonsenheter - Archival Information Units (AIU) - som vist\u003cbr\u003ei figur 4. Forskjellen mellom AIU og AIC er enkel: En AIU best\u00e5r av et\u003cbr\u003eenkelt innholdsinformasjonsobjekt, for eksempel et dokument eller en\u003cbr\u003e\u003cb\u003efil\u003c/b\u003e med opplysninger om en sak, som beskrives ved hjelp av ett\u003cbr\u003eenkelt sett av bevaringsbeskrivende informasjon.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_214\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -191.0117711462132, "y": -74.6324372644536}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_fil_81", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHver \u003cb\u003efil\u003c/b\u003e m\u00e5 innledes med navnet p\u00e5\u003cbr\u003eavdelingen/instituttet (kostnadsstedet) som dataene gjelder for samt\u003cbr\u003enavn, adresse og telefonnummer til kontaktperson.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_81\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -166.08746027622882, "y": -89.51947703956863}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_fil_165", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cb\u003eFilen\u003c/b\u003e med totalpopulasjonen er for stor til at det er\u003cbr\u003epraktisk mulig \u00e5 bruke den direkte i mikrosimuleringsmodellen. Vi tar\u003cbr\u003ederfor et 4 prosent tilfeldig utvalg av totalpopulasjonen som er\u003cbr\u003eforh\u00e5ndsstratifisert etter kj\u00f8nn og ekteskapelig status.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_165\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -148.6319024437058, "y": -77.8504947823909}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_fil_21", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e1987. ] I.ICI. [Tilf\u00f8y i listen over termer, under gruppen\u003cbr\u003egjenstander leke [Tilf\u00f8y under gruppen grafisk materiale:]\u003cbr\u003ekunstreproduks jon [\"maskinlesbar datafil\" endres til:] maskinlesbar\u003cbr\u003e\u003cb\u003efil\u003c/b\u003e 1.1C2. [F\u00f8rste eksempel skal vaere:]\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_fil_21\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -163.43315262347764, "y": -114.69383799013293}]);
        edges = new vis.DataSet([{"color": "black", "from": "1929-1965_fil_39", "label": 4, "to": "1929-1965_fil_61", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_17", "label": 4, "to": "1929-1965_fil_61", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_17", "label": 4, "to": "1929-1965_fil_32", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_17", "label": 4, "to": "1970-2015_fil_242", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_17", "label": 4, "to": "1929-1965_fil_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_17", "label": 4, "to": "1929-1965_fil_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_28", "label": 4, "to": "1929-1965_fil_32", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_28", "label": 4, "to": "1970-2015_fil_242", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_28", "label": 2.5, "to": "1929-1965_fil_61", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_fil_28", "label": 4, "to": "1929-1965_fil_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_61", "label": 4, "to": "1929-1965_fil_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_32", "label": 4, "to": "1929-1965_fil_31", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_32", "label": 4, "to": "1970-2015_fil_242", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_31", "label": 4, "to": "1970-2015_fil_242", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_71", "label": 2.5, "to": "1970-2015_fil_214", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_fil_71", "label": 4, "to": "1929-1965_fil_44", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_44", "label": 4, "to": "1970-2015_fil_90", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_fil_44", "label": 3, "to": "1970-2015_fil_21", "weight": 3.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_240", "label": 4, "to": "1970-2015_fil_81", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_240", "label": 4, "to": "1970-2015_fil_171", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_240", "label": 4, "to": "1970-2015_fil_21", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_240", "label": 3.5, "to": "1970-2015_fil_214", "weight": 3.5, "width": 4}, {"color": "black", "from": "1970-2015_fil_240", "label": 4, "to": "1970-2015_fil_165", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_171", "label": 4, "to": "1970-2015_fil_21", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_171", "label": 4, "to": "1970-2015_fil_214", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_171", "label": 4, "to": "1970-2015_fil_81", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_171", "label": 4, "to": "1970-2015_fil_165", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_171", "label": 4, "to": "1970-2015_fil_90", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_214", "label": 4, "to": "1970-2015_fil_21", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_214", "label": 4, "to": "1970-2015_fil_81", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_214", "label": 4, "to": "1970-2015_fil_165", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_81", "label": 2.5, "to": "1970-2015_fil_90", "weight": 2.5, "width": 4}, {"color": "black", "from": "1970-2015_fil_81", "label": 4, "to": "1970-2015_fil_165", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_81", "label": 4, "to": "1970-2015_fil_21", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_262", "label": 4, "to": "1970-2015_fil_21", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_fil_165", "label": 4, "to": "1970-2015_fil_21", "weight": 4.0, "width": 4}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1970-2015_fil_171", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1929-1965_fil_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1970-2015_fil_90", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1970-2015_fil_81", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1970-2015_fil_165", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1970-2015_fil_21", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1970-2015_fil_262", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1970-2015_fil_272", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1970-2015_fil_214", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": 1, "to": "1929-1965_fil_71", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1970-2015_fil_240", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1929-1965_fil_63", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1970-2015_fil_81", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1929-1965_fil_71", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1970-2015_fil_165", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1970-2015_fil_21", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1970-2015_fil_214", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1970-2015_fil_171", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1970-2015_fil_262", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1929-1965_fil_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": 1, "to": "1970-2015_fil_90", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1929-1965_fil_71", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1929-1965_fil_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1970-2015_fil_21", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1970-2015_fil_262", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1970-2015_fil_81", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1929-1965_fil_32", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1970-2015_fil_90", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1970-2015_fil_240", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1970-2015_fil_171", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": 1, "to": "1970-2015_fil_165", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1970-2015_fil_90", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1970-2015_fil_81", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1929-1965_fil_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1970-2015_fil_165", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1970-2015_fil_171", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1970-2015_fil_262", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1970-2015_fil_240", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1970-2015_fil_21", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1929-1965_fil_71", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": 1, "to": "1970-2015_fil_214", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_90", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_262", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1929-1965_fil_63", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1929-1965_fil_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_171", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_272", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_21", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_240", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_81", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_214", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1970-2015_fil_165", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": 1, "to": "1929-1965_fil_71", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": 1.5, "to": "1970-2015_fil_240", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": 1, "to": "1970-2015_fil_171", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": 1.5, "to": "1970-2015_fil_165", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": 2, "to": "1970-2015_fil_81", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": 1, "to": "1970-2015_fil_242", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": 1.5, "to": "1970-2015_fil_21", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": 1, "to": "1970-2015_fil_214", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": 1, "to": "1970-2015_fil_81", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": 1, "to": "1970-2015_fil_242", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": 1, "to": "1970-2015_fil_240", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": 1, "to": "1929-1965_fil_63", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": 1, "to": "1970-2015_fil_171", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_240", "label": 1, "to": "1970-2015_fil_262", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_240", "label": 2, "to": "1970-2015_fil_90", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_240", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_240", "label": 1, "to": "1970-2015_fil_242", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_171", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_171", "label": 1, "to": "1970-2015_fil_242", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_171", "label": 1, "to": "1970-2015_fil_262", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_214", "label": 1, "to": "1970-2015_fil_242", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_214", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_214", "label": 1, "to": "1970-2015_fil_90", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_214", "label": 1, "to": "1970-2015_fil_262", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_81", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_81", "label": 1, "to": "1970-2015_fil_262", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_81", "label": 1, "to": "1970-2015_fil_242", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_262", "label": 1, "to": "1970-2015_fil_90", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_262", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_262", "label": 1, "to": "1970-2015_fil_242", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_242", "label": 1, "to": "1970-2015_fil_90", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_242", "label": 1, "to": "1970-2015_fil_165", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_242", "label": 1, "to": "1970-2015_fil_272", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_242", "label": 1, "to": "1970-2015_fil_21", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_242", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_90", "label": 1, "to": "1970-2015_fil_165", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_90", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_90", "label": 2, "to": "1970-2015_fil_21", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_272", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_272", "label": 1, "to": "1970-2015_fil_165", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_165", "label": 1, "to": "1970-2015_fil_23", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_fil_23", "label": 1, "to": "1970-2015_fil_21", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_90", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_262", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1929-1965_fil_28", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_214", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1929-1965_fil_32", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_240", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_171", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1929-1965_fil_63", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_23", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1929-1965_fil_44", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1929-1965_fil_53", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_242", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_81", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1929-1965_fil_17", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_165", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1929-1965_fil_47", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1929-1965_fil_31", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1929-1965_fil_71", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_39", "label": NaN, "to": "1970-2015_fil_21", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": NaN, "to": "1929-1965_fil_63", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": NaN, "to": "1929-1965_fil_47", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": NaN, "to": "1929-1965_fil_53", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_17", "label": NaN, "to": "1970-2015_fil_240", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": NaN, "to": "1929-1965_fil_53", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": NaN, "to": "1929-1965_fil_47", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_28", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": NaN, "to": "1970-2015_fil_214", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": NaN, "to": "1929-1965_fil_53", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": NaN, "to": "1970-2015_fil_242", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": NaN, "to": "1929-1965_fil_63", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_61", "label": NaN, "to": "1929-1965_fil_47", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": NaN, "to": "1929-1965_fil_63", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": NaN, "to": "1929-1965_fil_53", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": NaN, "to": "1929-1965_fil_47", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_32", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": NaN, "to": "1929-1965_fil_53", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_31", "label": NaN, "to": "1929-1965_fil_47", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": NaN, "to": "1970-2015_fil_90", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": NaN, "to": "1970-2015_fil_262", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": NaN, "to": "1929-1965_fil_47", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": NaN, "to": "1929-1965_fil_63", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_71", "label": NaN, "to": "1929-1965_fil_53", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": NaN, "to": "1970-2015_fil_262", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": NaN, "to": "1929-1965_fil_47", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": NaN, "to": "1970-2015_fil_23", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": NaN, "to": "1970-2015_fil_165", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": NaN, "to": "1929-1965_fil_53", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_44", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_171", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_214", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_23", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_90", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1929-1965_fil_63", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_81", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_165", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_262", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_21", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_242", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1929-1965_fil_53", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_47", "label": NaN, "to": "1970-2015_fil_240", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_21", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_81", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_23", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_165", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_262", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1929-1965_fil_63", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_242", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_214", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_90", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_171", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_240", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_53", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_90", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_81", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_262", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_21", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_240", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_214", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_242", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_165", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_fil_63", "label": NaN, "to": "1970-2015_fil_171", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1970-2015_fil_240", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1970-2015_fil_171", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1970-2015_fil_214", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1970-2015_fil_81", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1970-2015_fil_262", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1970-2015_fil_262", "label": NaN, "to": "1970-2015_fil_165", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1970-2015_fil_90", "label": NaN, "to": "1970-2015_fil_272", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1970-2015_fil_272", "label": NaN, "to": "1970-2015_fil_21", "weight": NaN, "width": 1.0}]);

        // adding nodes and edges to the graph
        data = { nodes: nodes, edges: edges };

        var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "nodes",
            "edges"
        ]
    },
    "edges": {
        "color": {
            "inherit": false
        },
        "smooth": {
            "enabled": false,
            "type": "continuous"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": false,
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

        

        
        // if this network requires displaying the configure window,
        // put it in its div
        options.configure["container"] = document.getElementById("config");
        

        network = new vis.Network(container, data, options);

        


        

        return network;

    }

        drawGraph();


        let nodesInTimePeriod = new Set();
        let edgesInTimePeriod = new Set();
        let edgesBelowWeight = new Set();
        let nodesInGrouping = new Set();
        let edgesInGrouping = new Set();
        let edgesToBeShown = new Set();
        let nodesToBeShown = new Set();

        edges.forEach(function (edge) {
            edgesBelowWeight.add(edge.id);
            edgesInGrouping.add(edge.id);
            edgesInTimePeriod.add(edge.id);
            edgesToBeShown.add(edge.id);
        })

        nodes.forEach(function (node) {
            nodesInTimePeriod.add(node.id);
            nodesInGrouping.add(node.id);
            nodesToBeShown.add(node.id);
        })


        function showEdges() {
            edgesToBeShown.forEach(function (edge) {
                edge.hidden = false;
                edges.update(edge);
            })
        }

        //Missing the loading icon
        //slider code from pyvis filter example
        // Handler event when slider changes

        let slider = document.getElementById('slider');
        let sliderMin = document.getElementById('slider-min');
        let sliderDisplay = document.getElementById('sliderValueDisplay');
        let sliderMinDisplay = document.getElementById('sliderValueDisplayMin');

        sliderDisplay.innerHTML = "4";
        sliderMinDisplay.innerHTML = "1";

        function weightFilter() {
            console.log("weight filter got called");
            // Get the value of the slider
            let sliderValue = slider.value;
            let sliderMinValue = sliderMin.value;

            // Display the selected value next to slider
            sliderDisplay.innerHTML = sliderValue;
            sliderMinDisplay.innerHTML = sliderMinValue;

            // Loop through the edges
            edges.forEach(function (edge) {
                // Check if the edge should be displayed based on its weight
                if (edge.weight <= sliderValue && edge.weight >= sliderMinValue) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        edgesBelowWeight.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    }
                    // Edge should be displayed
                    // Unhide edge if it's hidden and update DataSet

                } else if (isNaN(edge.weight)) {
                    //console.log("its NaN")
                } else {

                    // Edge should not be displayed
                    // Hide edge if not already hidden and update DataSet
                    if (!edge.hidden) {
                        edgesBelowWeight.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }
                }
            });


            calcMean();
        }



        //code for node date filter
        let dates = [];
        nodes.forEach(function (node) {
            date = node.date;
            if (!dates.includes(date)) {
                dates.push(date);
            }
        });
        dates.sort();


        //code for date slider
        let minDate = 10000;
        let maxDate = 0;

        let minPicker = document.getElementById('minPicker');
        let maxPicker = document.getElementById('maxPicker');

        if (!minPicker.hasChildNodes()) {
            dates.forEach(function (date) {
                if (Number(date) < minDate) {
                    minDate = Number(date);
                }
                if (Number(date) > maxDate) {
                    maxDate = Number(date);
                }


                let option = document.createElement('option');
                option.text = date;
                option.value = date;

                let option2 = document.createElement('option');
                option2.text = date;
                option2.value = date;

                minPicker.append(option);
                maxPicker.append(option2);

            })
        } else {
            minDate = Number(dates[0]);
            maxDate = Number(dates[dates.length-1]);
        }
        maxPicker.selectedIndex = dates.length - 1;



        function showSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'visible';
                resolve();
            });
        }

        function hideSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'hidden';
                resolve();
            });
        }



        const loadingIcon = document.querySelector('.loading-icon');
        const select = document.querySelector('.select-load');

        select.addEventListener('change', function () {
            showSelectLoad();
            setTimeout(selectGroup, 1000);


            setTimeout(hideSelectLoad, 1000);


        });

        //const slider_load = document.querySelector('.slider-load');

         slider.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

         sliderMin.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

        let groupPicker = document.getElementById('groupPicker');
        groupPicker.selectedIndex = 0;
        let minValue = minPicker.value;
        let maxValue = maxPicker.value;

        function selectGroup() {
            return new Promise(function (resolve, reject) {
                let selectValue = document.getElementById('groupPicker').value;

                console.log("grouping value: " + selectValue);

                if (selectValue == 1) {
                    nodes.forEach(function (node) {


                        if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else if (selectValue == 2) {
                    nodes.forEach(function (node) {
                        if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else {
                    nodes.forEach(function (node) {
                        if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                }
                loadingIcon.style.visibility = 'hidden';

                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        if (showNaNEdges && !nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {

                            edge.hidden = false;
                            edges.update(edge);
                        } else {
                            edge.hidden = true;
                            edge.hidden = true;
                            edges.update(edge);
                        }
                    } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && !isNaN(edge.weight)) {
                        edgesInGrouping.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    } else {
                        edgesInGrouping.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }


                })
                loadingIcon.style.visibility = 'hidden';
                calcMean();
                updateClusterDistribution();
                resolve();
            });

        }

        function dateFilter() {
            showSelectLoad();
            setTimeout(pickDates, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function pickDates() {
            loadingIcon.style.visibility = 'visible';

            let selectValue = document.getElementById('groupPicker').value;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            //console.log("showing dates between " + minValue + " and " + maxValue);

            if (selectValue == 1) {
                nodes.forEach(function (node) {


                    if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else if (selectValue == 2) {
                nodes.forEach(function (node) {
                    if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else {
                nodes.forEach(function (node) {
                    if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            }

            edges.forEach(function (edge) {


                if (isNaN(edge.weight) && !showNaNEdges) {

                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && isNaN(edge.weight)){
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && edge.weight >= sliderMin.value && edge.weight <= slider.value) {
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else {
                    edgesInTimePeriod.delete(edge.id);
                    edge.hidden = true;
                    edges.update(edge);
                }


            })
            loadingIcon.style.visibility = 'hidden'


            calcMean();
            updateClusterDistribution();

        }

        let showNaNEdges = true;

        function filterNaN() {
            showSelectLoad();
            setTimeout(selectNaN, 1000);


            setTimeout(hideSelectLoad, 1000);

        };

        const checkboxNaN = document.getElementById("checkboxNaN");

        function selectNaN() {
            if (checkboxNaN.checked) {

                showNaNEdges = true;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = false;
                        edges.update(edge);
                        pickDates();
                    }
                });
            } else {
                showNaNEdges = false;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = true;
                        edges.update(edge);
                    }
                });
            }


        }


        const checkboxNoiseLabels = document.getElementById("checkboxNoiseLabels");

        document.getElementById("checkboxNaN").checked = true;
        document.getElementById("checkboxNoiseLabels").checked = true;

        let showNoiseLabels = true;

        function filterNoiseLabels() {
            showSelectLoad();
            setTimeout(selectNoiseLabels, 1000);


            setTimeout(hideSelectLoad, 1000);
        }

        function selectNoiseLabels() {
            if (checkboxNoiseLabels.checked) {

                showNoiseLabels = true;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {
                        node.hidden = false;
                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        if (isNaN(edge.weight) && !showNaNEdges) {
                            edge.hidden = true;
                            edges.update(edge);

                        } else {
                            edge.hidden = false;
                            edges.update(edge);
                        }
                    }
                })

            } else {

                showNoiseLabels = false;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {

                        node.hidden = true;

                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (nodes.get(edge.to).hidden || nodes.get(edge.from).hidden || (isNaN(edge.weight) && !showNaNEdges)) {

                        edge.hidden = true;
                        edges.update(edge);

                    }
                })

            }
            updateClusterDistribution();
        }


        let fillMean = document.getElementById("fillMean");
        let fillSD = document.getElementById("fillSD");


        function calcMean() {
            let edgeValues = [];
            edges.forEach(function (edge) {
                if (!edge.hidden) {
                    let label = parseFloat(edge.weight);
                    if (!isNaN(label)) {
                        edgeValues.push(label);
                    }
                }
            })

            let mean = edgeValues.reduce((a, b) => a + b, 0) / edgeValues.length;
            let sd = dev(edgeValues, mean);
            if (isNaN(mean)) {
                mean = 0;
            }
            if (isNaN(sd)) {
                sd = 0;
            }
            mean = mean.toFixed(5);
            sd = sd.toFixed(5);

            fillMean.innerHTML = "Edge weight mean: ";
            fillSD.innerHTML = "Edge weight standard deviation: "

            fillMean.append(mean);
            fillSD.append(sd);

        }


        // Javascript program to calculate the standard deviation of an array

        function dev(arr, mean) {

            // Assigning (value - mean) ^ 2 to every array item
            arr = arr.map((k) => {
                return (k - mean) ** 2
            })


            // Calculating the sum of updated array
            let sum = arr.reduce((acc, curr) => acc + curr, 0);


            // Returning the standard deviation
            return Math.sqrt(sum / arr.length)
        }

        calcMean();


        let heading = document.getElementById("heading").innerHTML;
        let onlyLemma = heading.replace(/ .*/, '');

        //NEW

        // set up flag variables to track which scripts have been loaded successfully
        let statsLoaded = false;
        let statsGroupingsLoaded = false;
        let statsAgreementLoaded = false;
        let statsPlottingLoaded = false;
        let statsDataJointLoaded = false;

        let filteredStats = [];
        let filteredStatsGroupings = [];
        let filteredStatsAgreement = [];
        let filteredStatsPlotting = [];
        let filteredStatsDataJoint = [];

        let clusteringMethod;
        let cluster_freq_dist;
        let cluster_prob_dist;
        let noise_cluster_count;
        let clusterInfo;
        let statisticsDiv;
        let nodePosition;


        // create event listeners for each script to set the corresponding flag when loaded
        document.addEventListener('statsLoaded', function () {
            console.log('stats.js is fully loaded!');
            statsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsGroupingsLoaded', function () {
            console.log('stats_groupings.js is fully loaded!');
            statsGroupingsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsAgreementLoaded', function () {
            console.log('stats_agreement.js is fully loaded!');
            statsAgreementLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsPlottingLoaded', function () {
            console.log('stats_plotting.js is fully loaded!');
            statsPlottingLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsDataJointLoaded', function () {
            console.log('data_joint.js is fully loaded!');
            statsDataJointLoaded = true;
            checkAllScriptsLoaded();
        });

        // load each script with the same function
        function loadScript(scriptUrl, eventName) {
            const script = document.createElement('script');
            script.src = scriptUrl;
            script.type = 'text/javascript';

            script.addEventListener('load', function () {
                console.log(scriptUrl + ' loaded successfully');
                document.dispatchEvent(new Event(eventName));
            });

            script.addEventListener('error', function () {
                console.log('Failed to load ' + scriptUrl);
                checkAllScriptsLoaded();
            });

            document.body.appendChild(script);
        }

        // call the loadScript function for each script you want to load
        loadScript('../stats.js', 'statsLoaded');
        loadScript('../stats_groupings.js', 'statsGroupingsLoaded');
        loadScript('../stats_agreement.js', 'statsAgreementLoaded');
        loadScript('../stats_plotting.js', 'statsPlottingLoaded');
        loadScript('../data_joint.js', 'statsDataJointLoaded');

        // check if all scripts have been loaded, and execute the code that depends on them if they have
        function checkAllScriptsLoaded() {

            if (statsLoaded) {
                try {
                    filteredStats = stats.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats not found');
                }

                try {
                    generateTable(filteredStats, "stats");
                } catch (err) {
                    console.log('problem generating table with stats');
                }

                try {
                    clusteringMethod = filteredStats[0].algorithm;
                } catch (err) {
                    console.log('filteredStats[0] not found');
                }



            }

            if (statsGroupingsLoaded) {
                try {
                    filteredStatsGroupings = stats_groupings.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_groupings not found');
                }

                try {
                    generateTable(filteredStatsGroupings, "statsGroupings");
                } catch (err) {
                    console.log('problem generating table with stats_groupings');
                }

                cluster_freq_dist = filteredStatsGroupings[0].cluster_freq_dist;
                cluster_prob_dist = filteredStatsGroupings[0].cluster_prob_dist;
            }

            if (statsAgreementLoaded) {
                try {
                    filteredStatsAgreement = stats_agreement.filter(row => row.data === onlyLemma);
                } catch (err) {
                    console.log('stats_agreement not found');
                }

                try {
                    generateTable(filteredStatsAgreement, "statsAgreement");
                } catch (err) {
                    console.log('problem generating table with stats_agreement');
                }


            }

            if (statsPlottingLoaded) {
                try {
                    filteredStatsPlotting = stats_plotting.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_plotting not found');
                }

                try {
                    generateTable(filteredStatsPlotting, "statsPlotting");
                } catch (err) {
                    console.log('problem generating table with stats_plotting');
                }

                nodePosition = filteredStatsPlotting[0].node_position;
            }

            if (statsDataJointLoaded) {
                try {
                    filteredStatsDataJoint = data_joint.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_data_joint not found');
                }

                try {
                    generateDetails(filteredStatsDataJoint, "statsDataJoint");
                } catch (err) {
                    console.log('problem generating table with statsDataJoint');
                }

                if(!annotatorsContainer.hasChildNodes()){
                    fillAnnotatorsContainer(filteredStatsDataJoint);
                }
            }

            noise_cluster_count = 0;
            nodes.forEach(function (node) {
                if (Number(node.label) == -1) {
                    noise_cluster_count += 1;
                }
            });

            clusterInfo = document.getElementById("clusterInfo");
            statisticsDiv = document.getElementById("statistics");

            clusterInfo.innerHTML = `
            <p>Node position: ${nodePosition}</p>
            <p>Clustering method: ${clusteringMethod}</p>`;

            statisticsDiv.innerHTML = `
            <p id="clusterFreqDist">Cluster frequency distribution: ${cluster_freq_dist}</p>
            <p id="clusterProbDist">Cluster probability distribution: ${cluster_prob_dist}</p>
            <p id="noiseClusterCount">Noise Cluster: [${noise_cluster_count}]</p>`;

        }


        function generateTable(jsonData, id) {
            if (!jsonData || jsonData.length === 0) {
                console.error(`Error: Invalid JSON data in generateTable function for id '${id}'`);
                return;
            }

            let div = document.createElement('div');


            let keys = Object.keys(jsonData[0]);
            keys.forEach(function (key) {
                let details = document.createElement('details');
                details.classList.add('shifted');
                let summary = document.createElement('summary');
                summary.innerText = key;
                details.appendChild(summary);
                let content = document.createElement('div');
                content.innerText = jsonData[0][key];
                details.appendChild(content);
                div.appendChild(details);

            })

            document.getElementById(id).append(div);
        }

        function generateDetails(jsonData, id) {
            let div = document.createElement('div');

            for (let i = 0; i < jsonData.length; i++) {
                let surroundingDetails = document.createElement('details');
                surroundingDetails.classList.add('shifted');
                let surroundingSummary = document.createElement('summary');
                surroundingSummary.innerText = i.toString();
                surroundingDetails.appendChild(surroundingSummary);
                div.appendChild(surroundingDetails);
                let keys = Object.keys(jsonData[i]);
                keys.forEach(function (key) {
                    let details = document.createElement('details');
                    details.classList.add('shifted');
                    let summary = document.createElement('summary');
                    summary.innerText = key;
                    details.appendChild(summary);
                    let content = document.createElement('div');
                    content.innerText = jsonData[i][key];
                    details.appendChild(content);
                    surroundingDetails.appendChild(details);

                })
            }

            document.getElementById(id).append(div);
        }




        function updateClusterDistribution() {
            let clusterFreqDist = [];
            let clusterProbDist = [];
            let noiseClusterCount = 0;
            let temp = [];
            let numberOfNodes = 0;

            nodes.forEach(function (node) {
                if (!node.hidden) {
                    temp.push(Number(node.label));
                }


            })

            temp.sort();

            let biggestLabel = temp[temp.length - 1];

            for (let i = 0; i <= biggestLabel; i++) {
                clusterFreqDist.push(0);
                clusterProbDist.push(0);
            }

            temp.forEach(function (item) {
                if (!(item == -1)) {
                    numberOfNodes += 1;
                    clusterFreqDist[item] += 1;
                } else {
                    noiseClusterCount += 1;
                }
            })

            for (let j = 0; j < clusterFreqDist.length; j++) {
                if (clusterFreqDist[j] > 0) {

                    clusterProbDist[j] = (clusterFreqDist[j] / numberOfNodes);

                    let parts = clusterProbDist[j].toString().split('.');

                    // Check the length of the decimal part
                    if (parts[1] && parts[1].length > 5) {
                        // Round the value to 5 decimal places if the decimal part is longer than 5 digits
                        clusterProbDist[j] = clusterProbDist[j].toFixed(5);
                    }
                }
            }

            document.getElementById("clusterFreqDist").innerHTML = "Cluster frequency distribution: [" + clusterFreqDist.toString() + "]";
            document.getElementById("clusterProbDist").innerHTML = "Cluster probability distribution: [" + clusterProbDist.toString() + "]";
            document.getElementById("noiseClusterCount").innerHTML = "Noise cluster: [" + noiseClusterCount.toString() + "]";
        }


        let annotatorsContainer = document.getElementById("annotatorsContainer");
        let annotators = [];

        function fillAnnotatorsContainer(jsonData) {
            let div = document.createElement('div');
            let h4 = document.createElement('h4');
            h4.innerHTML = "Annotator filter (resets all other filters): ";
            div.appendChild(h4);

            for (let i = 0; i < jsonData.length; i++) {

                let annotator = jsonData[i]["annotator"]
                if (!annotators.includes(annotator)) {
                    annotators.push(annotator);
                }
            }

            annotators.sort();

            for (let j = 0; j < annotators.length; j++) {
                let label = document.createElement('label');
                label.innerHTML = annotators[j];
                label.for = annotators[j];
                let checkbox = document.createElement('input');
                checkbox.type = "checkbox";
                checkbox.checked = true;
                checkbox.id = annotators[j];
                div.appendChild(label);
                div.appendChild(checkbox);
            }

            let button = document.createElement('button');
            button.innerHTML = "Show graph";
            button.onclick = annotatorsFilter;
            div.appendChild(button);
            let br = document.createElement('br')
            let br2 = document.createElement('br')
            div.appendChild(br);
            div.appendChild(br2);

            annotatorsContainer.append(div);
        }



        function annotatorsFilter() {
            showSelectLoad();
            setTimeout(calculateSubGraph, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function calculateSubGraph() {
            loadingIcon.style.visibility = 'visible';
            let onlyCheckedAnnotators = [];
            for (let i = 0; i < annotators.length; i++) {
                let checkAnnotator = document.getElementById(annotators[i]);
                if (checkAnnotator.checked) {
                    onlyCheckedAnnotators.push(annotators[i]);
                }
            }


            let filteredForAnnotators = filteredStatsDataJoint.filter(row => onlyCheckedAnnotators.includes(row.annotator));


            groupPicker.selectedIndex = 0;
            sliderMin.value = 1;
            slider.value = 4;
            sliderDisplay.innerHTML = "4";
            sliderMinDisplay.innerHTML = "1";
            checkboxNoiseLabels.checked = true;
            checkboxNaN.checked = true;
            maxPicker.selectedIndex = dates.length - 1;
            minPicker.selectedIndex = 0;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            nodes.forEach(function (node){
                if(node.hidden){
                    node.hidden = false;
                    nodes.update(node);
                }
            })

            /*edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;

                let from = nodes.get(edge.from);
                let from_id = from.id;

                let edgeAnnotations = [];

                for (let k = 0; k < filteredForAnnotators.length; k++) {
                    let item = filteredForAnnotators[k];
                    let identifier1 = item.identifier1;
                    let identifier2 = item.identifier2;
                    let weight = Number(item.judgment);

                    if((identifier1 == to_id && identifier2 == from_id) || (identifier1 == from_id && identifier2 == to_id)){

                        if(0 < weight < 5){
                            //console.log("there is a corresponding annotation thats not NaN");
                            edgeAnnotations.push(weight);
                        }
                    }
                }

                if (edgeAnnotations.length !== 0){
                let median;
                let filteredArray = edgeAnnotations;
                filteredArray.sort((a, b) => a - b);
                let middle = Math.floor(filteredArray.length / 2);
                if (filteredArray.length % 2 === 0) {
                    median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                } else {
                    median = filteredArray[middle];
                }

                    console.log("the median for this edge is: " + median);

                    if (median == 0){
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                    edges.update(edge);

                    } else {
                    edge.hidden = true;
                    edges.update(edge);
                }







            })
            */


            // Create a map to store the filteredForAnnotators array
            let annotationsMap = new Map();
            filteredForAnnotators.forEach(function (item) {
                let identifier1 = item.identifier1;
                let identifier2 = item.identifier2;
                let weight = Number(item.judgment);
                if (weight >= 0 && weight < 5) {
                    // Only store annotations with weight between 0 and 5
                    let key = [identifier1, identifier2].sort().join('-');
                    let annotations = annotationsMap.get(key) || [];
                    annotations.push(weight);
                    annotationsMap.set(key, annotations);
                }
            });

            // Iterate over the edges and get the annotations from the map
            edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;
                let from = nodes.get(edge.from);
                let from_id = from.id;
                let key = [to_id, from_id].sort().join('-');
                let edgeAnnotations = annotationsMap.get(key) || [];


                    //console.log("edge annos: " + edgeAnnotations);

                if (edgeAnnotations.length !== 0) {
                    let median;
                    let filteredArray = edgeAnnotations.filter(a => a > 0);
                    filteredArray.sort((a, b) => a - b);

                    if (filteredArray.length === 0) {
                        median = 0;
                    } else {
                        let middle = Math.floor(filteredArray.length / 2);
                        if (filteredArray.length % 2 === 0) {
                            median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                        } else {
                            median = filteredArray[middle];
                        }
                    }


                    //console.log("the median for this edge is: " + median);

                    if (median == 0) {
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                } else {
                    edge.hidden = true;
                }

                edges.update(edge);
            });



            loadingIcon.style.visibility = 'hidden';

            calcMean();
            updateClusterDistribution();
        }


        sliderMin.value = 1;
        slider.value = 4;


    </script>
</body>

</html>