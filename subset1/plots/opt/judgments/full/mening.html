<html xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
    <center>
        <h1 id="heading">mening (full)</h1>
    </center>


    <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->

    <style type="text/css">
       #mynetwork {
            width: 65%;
            height: 90%;

            margin-right: 2%;

            height: {
                    {
                    height
                }
            }

            ;

            background-color: {
                    {
                    bgcolor
                }
            }

            ;
            border: 1px solid lightgray;
            position: relative;
            float: left;
        }

            {
            % if nodes|length>100 and physics_enabled %
        }

        #loadingBar {
            position: absolute;
            top: 0px;
            left: 0px;

            width: {
                    {
                    width
                }
            }

            ;

            height: {
                    {
                    height
                }
            }

            ;
            background-color:rgba(200, 200, 200, 0.8);
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -ms-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
            opacity:1;
        }

        #bar {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 20px;
            height: 20px;
            margin: auto auto auto auto;
            border-radius: 11px;
            border: 2px solid rgba(30, 30, 30, 0.05);
            background: rgb(0, 173, 246);
            /* Old browsers */
            box-shadow: 2px 0px 4px rgba(0, 0, 0, 0.4);
        }

        #border {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 500px;
            height: 23px;
            margin: auto auto auto auto;
            box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        #text {
            position: absolute;
            top: 8px;
            left: 530px;
            width: 30px;
            height: 50px;
            margin: auto auto auto auto;
            font-size: 22px;
            color: #000000;
        }

        div.outerBorder {
            position: relative;
            top: 400px;
            width: 600px;
            height: 44px;
            margin: auto auto auto auto;
            border: 8px solid rgba(0, 0, 0, 0.1);
            background: rgb(252, 252, 252);
            /* Old browsers */
            background: -moz-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(252, 252, 252, 1)), color-stop(100%, rgba(237, 237, 237, 1)));
            /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Opera 11.10+ */
            background: -ms-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* IE10+ */
            background: linear-gradient(to bottom, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fcfcfc', endColorstr='#ededed', GradientType=0);
            /* IE6-9 */
            border-radius: 72px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }

            {
            % endif %
        }

            {
            % if conf %
        }

        #config {
            float: left;
            width: 400px;
            height: 600px;
        }

            {
            % endif %
        }

            {
            % if tooltip_link %
        }

        /* position absolute is important and the container has to be relative or absolute as well. */
        div.popup {
            position: absolute;
            top: 0px;
            left: 0px;
            display: none;
            background-color: #f5f4ed;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            border: 1px solid #808074;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
        }



        /* hide the original tooltip */


        .vis-tooltip {
            position: absolute;
        }

        #config {
            display: none;

        }

            {
            % endif %
        }

        #custom_wugs {
            height: 90%;
            width: 30%;
            overflow: scroll;
        }

        #custom_wugs>* {
            padding: 1%;
            margin-left: 2%;
        }






        .help-tip {
            position: absolute;
            top: 18px;
            right: 18px;
            text-align: center;
            background-color: #E55B0A;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 26px;
            cursor: default;
        }

        .help-tip:before {
            content: '?';
            font-weight: bold;
            color: #fff;
        }

        .help-tip:hover p {
            display: block;
            transform-origin: 100% 0%;

            -webkit-animation: fadeIn 0.3s ease-in-out;
            animation: fadeIn 0.3s ease-in-out;

        }

        .help-tip p {
            /* The tooltip */
            display: none;
            text-align: left;
            background-color: #1E2021;
            padding: 20px;
            width: 800px;
            position: absolute;
            border-radius: 3px;
            box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
            right: 16px;
            color: #FFF;
            font-size: 13px;
            line-height: 1.4;
        }

        .help-tip p:before {
            /* The pointer of the tooltip */
            position: absolute;
            content: '';
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-bottom-color: #1E2021;
            right: 10px;
            top: -12px;
        }

        .help-tip p:after {
            /* Prevents the tooltip from being hidden */
            width: 100%;
            height: 40px;
            content: '';
            position: absolute;
            top: -40px;
            left: 0;
        }


        /* CSS animation */

        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.6);
            }

            100% {
                opacity: 100%;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading-icon {
            position: absolute;
            top: 40%;
            left: 30%;
            transform: translate(-50%, -50%);
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid red;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            visibility: hidden;
        }

        #custom_wugs {
            font-size: smaller;
        }

        .shifted {
            margin-left: 3%;
        }

        .bold {
            font-weight: bold;
        }

        #fillSD {
            margin-bottom: 0;
            padding-bottom: 0;
        }

    </style>

</head>

<body>
     <div id="loader" style="display: none"></div>

    <div id="mynetwork"></div>
    
    

    <div id="custom_wugs">



        <div class="help-tip">
            <p><em>General</em><br />
           Firefox is the recommended browser for this application. For large graphs, loading time may vary. This application is under development. Feedback is appreciated. The code, from which you can generate your own graphs, can be found here:  <a href="https://github.com/Garrafao/WUGs/" target="_blank" style="color: white">WUGs repository</a><br /><br /><br />
                <em>Statistics</em><br />
            The statistics section gets updated as the filters are used. For in-depth stats, refer to the stats dropdowns on the bottom.<br /><br /><br />
                <em>Edge & node filters</em><br />
            Edge weights are calculated as the mean of all annotations of the node pair.
            Nodes with noisy data appear black and have -1 as their label. Both the noisy nodes and edges with wrongly calculated weights can be filtered out.
            Edge and node filters are interlinked and should show the desired selection. While one filter is being calculated, the page will prevent you from selecting another filter.<br /><br /><br />
                <em>Annotators filter</em><br />
            The annotators filter resets all other filters and shows the initial graph, but only edges the selected annotators have annotated.</p>
        </div>

        <div class="infoContainer">
            <h4>Info: </h4>
            <div id="clusterInfo"></div>
            <h4>Statistics:</h4>
            <div id="statistics"></div>
            <p id="fillMean">Edge weight mean: </p>
            <p id="fillSD">Edge weight standard deviation: </p>
        </div>
        <div class ="edgeFilterContainer">
            <h4>Edge filters: </h4>

            <label for="checkboxNaN">Show NaN edges </label>
            <input type="checkbox" id="checkboxNaN" onclick="filterNaN()">
            <br><br>
            <div class="slideContainer" style="display: block; clear: both">
                <label for="slider-min" style="display: block">Min weight: <span id="sliderValueDisplayMin" style="display: inline-block">1</span></label>
                <input type="range" min="1" max="4" value="1" class="slider-load" id="slider-min">
                <label for="slider" style="display: block">Max weight: <span id="sliderValueDisplay" style="display: inline-block">4</span></label>
                <input type="range" min="1" max="4" value="4" class="slider-load" id="slider">
            </div>
        </div>




        <div class="nodeFilterContainer">
            <h4>Node filters: </h4>

            <label for="checkboxNoiseLabels">Show noise cluster</label>
            <input type="checkbox" id="checkboxNoiseLabels" onclick="filterNoiseLabels()">
            <br><br>
            <form onsubmit="dateFilter();return false">
                <label for="minPicker">From date: </label>
                <select class="picker" id="minPicker"></select>
                <label for="maxPicker">to date: </label>
                <select class="picker" id="maxPicker"></select>
                <input type="submit" value="Filter">
            </form>

            <label for="groupPicker">Grouping: </label>
            <select  class="select-load" id="groupPicker">
                <option>All</option>
                <option>1</option>
                <option>2</option>
            </select>
            <div class="loading-icon"></div>
        </div>

        <div id="annotatorsContainer"></div>

        <div class="detailsContainer">
            <details id="stats">
                <summary class="bold">Stats</summary>
                <table id="stats-table"></table>
            </details>
            <details id="statsGroupings">
                <summary class="bold">Grouping stats</summary>
                <table id="stats-groupings-table"></table>
            </details>
            <details id="statsAgreement">
                <summary class="bold">Agreement stats</summary>
                <table id="stats-agreement-table"></table>
            </details>
            <details id="statsPlotting">
                <summary class="bold">Plotting stats</summary>
                <table id="stats-plotting-table"></table>
            </details>
            <details id="statsDataJoint">
                <summary class="bold">Annotator data</summary>
            </details>
        </div>

    </div>

    <div id="config">

    </div>

    
     <!--<script type="text/javascript" src="../stats.js"></script>
     <script type="text/javascript" src="../stats_agreement.js"></script>
     <script type="text/javascript" src="../stats_groupings.js"></script>
     <script type="text/javascript" src="../stats_plotting.js"></script>
     <script type="text/javascript" src="../data_joint.js"></script>-->

    <script type="text/javascript">
        // initialize global variables.
        var edges;
        var nodes;
        var network;
        var container;
        var options, data;


        // This method is responsible for drawing the graph, returns the drawn network
        function drawGraph() {
            var container = document.getElementById('mynetwork');

            

            // parsing and collecting nodes and edges from the python
            nodes = new vis.DataSet([{"color": "#377eb8", "date": "1929", "id": "1929-1965_mening_890", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDen \u003cb\u003emening\u003c/b\u003e man kunde danne sig om lan6ing\u00dflorholdene der\u003cbr\u003eoppe i isen vilde s\u00e5 bli avgj\u00f8rende for valget av type\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_890\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -8.76431242630968, "y": -340.81728463219963}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_mening_1640", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e* Vi resonnerer ut fra v\u00e5r natur, hvilket er et bevis p\u00e5 at\u003cbr\u003ev\u00e5re \u003cb\u003emeninger\u003c/b\u003e i og for sig ikke betyr s\u00e5 meget. \u2666\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_1640\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -52.46208618954234, "y": -1041.0923095009086}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_mening_2116", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eNorge ville efter deres \u003cb\u003emening\u003c/b\u003e bli fritt igjen av sig\u003cbr\u003eseiv n\u00e5r Tyskland var sl\u00e5tt. Hvad regjeringen mente om dette blev\u003cbr\u003eimidlertid holdt hemmelig og det har bare langsomt og indirekte blitt\u003cbr\u003enoen klarhet om dette viktige sp\u00f8rsm\u00e5l.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_2116\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -142.2451812683201, "y": -73.22225128213562}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_mening_2964", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHans for \u00f8vrig ikke naermere utviklede \u003cb\u003emening\u003c/b\u003e p\u00e5 dette\u003cbr\u003epunkt m\u00e5 da vaere den, at i og med ndsbeskaffenheten har mennesket i\u003cbr\u003edet hele tatt skyld fordi det lar synden r\u00e5de over det hele menneske\u003cbr\u003eog s\u00e5ledes som \u00e5ndsvesen dog er kj\u00f8d.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_2964\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -265.82538891675404, "y": 291.05202366647535}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_mening_3651", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDa s\u00e5 Guri plutselig op og bent p\u00e5 ham. \u00abJe trudde det var\u003cbr\u003e\u003cb\u003emeninga\u003c/b\u003e di d\u00e9t,\u00bb svarte hun. Han s\u00e5 ned. \u00abDu vet goidt \u00e5\u003cbr\u003emeninga mi er,\u00bb sa han; han satt og s\u00e5 ned p\u00e5 sin fot. Hun flyttet\u003cbr\u003egarnvinden og Ia n\u00f8stet fra sig. \u00abJa, men det kainn je itte,\u00bb svarte\u003cbr\u003ehun sterkt og reiste sig. Han blev sittende, men s\u00e5 nu op. \u00ab\u00c5ff\u00f8r itte\u003cbr\u003eda?\u00bb spurte han. Hun bandt sitt t\u00f8rklae som skulde hun ut. \u00abFor det je\u003cbr\u003ehar lovd mei bort,\u00bb svarte hun Esten S\u00f8m\u00e5en br\u00e5reiste sig. \u00ab\u00c5kken \u00e5t?\u00bb\u003cbr\u003e\u2014 det kom som et hugg. Guri blev helt en annen der hun stod og vilde\u003cbr\u003efrem; der var noe vilt som av kvit\u00f8rn over henne. \u00ab\u00c5t \u0027m Paer\u003cbr\u003eHalstensen!\u00bb svarte hun. Esten S\u00f8m\u00e5en skiftet let. \u00ab\u00c5t honnom,\u00bb sa\u003cbr\u003ehan, s\u00e5 et \u00f8ieblikk bort p\u00e5 henne, snudde sig s\u00e5 og gikk langsomt\u003cbr\u003eramnstrappen ned. \u00abJe vart alene att leil da,\u00bb sa han lavt og brutt.\u003cbr\u003e\u00ab\u00c5, det er itte farl\u00e9 me dei!\u00bb kom det efter ham der oppe fra. \u00abDet er\u003cbr\u003enokk t\u00e5 dom, som \u2014\u00bb stemmen hennes knakk.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_3651\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -539.9346201447077, "y": -654.9210629582591}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_mening_4969", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet var som en stille avtale mellom oss at sp\u00f8rsm\u00e5let f\u00f8rst\u003cbr\u003eskulle opptas til h\u00f8sten med november, n\u00e5r mitt \u00e5rs betenkningstid var\u003cbr\u003el\u00f8pt ut. Men \u003cb\u003emeningen\u003c/b\u003e at jeg da ville gi ham mitt ja, l\u00e5 liksom\u003cbr\u003ei luften. Jeg vet ikke hva jeg kan ha tenkt eller f\u00f8lt i tiden utover,\u003cbr\u003eeftersom det avgj\u00f8rende naermet seg; men min trang og tilflukt ble\u003cbr\u003ebare hver dag ivrigere \u00e5 skrive og beskrive alt i brevene hjemover, s\u00e5\u003cbr\u003edere kunne og m\u00e5tte innse at her var tale om alt annet enn \u00e5 seige seg\u003cbr\u003efor en prestegard!\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_4969\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 513.8685459647666, "y": 191.32752713773382}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_mening_4458", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDerfor er utvalget av den \u003cb\u003emening\u003c/b\u003e at det foreligger et\u003cbr\u003eklart behov for en lukket avdeling i alkoholistomsorgen.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_4458\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 94.49569282723466, "y": -819.4349064155541}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_13763", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet er flertallets \u003cb\u003emening\u003c/b\u003e at en integrering av\u003cbr\u003eteknologi, realfag, samfunnsfag, filologi, arkitektur, estetiske fag,\u003cbr\u003efilosofi og medisin vil kunne gi impulser til \u00e5 fremme den\u003cbr\u003evitenskapelige utvikling i grenseomr\u00e5dene mellom etablerte fagomr\u00e5der\u003cbr\u003eog til \u00e5 gi nye arbeidsoppg\u00e5ver for de innarbeidede fagene ved\u003cbr\u003euniversitetet. impulser skal finne sted, er det viktig \u00e5 strukturere\u003cbr\u003euniversitetet slik at det blir best mulig kontakter mellom\u003cbr\u003efagmilj\u00f8ene.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_13763\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -608.0333002453646, "y": -27.546580099224162}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_10568", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEndringer av garantibel\u00f8pet b\u00f8r det etter Utvalgets\u003cbr\u003e\u003cb\u003emening\u003c/b\u003e imidlertid bare bli snakk om ved vesentlige endringer av\u003cbr\u003ede forutsetninger bevillingen er gitt etter. Den alminnelige\u003cbr\u003eprisstigning vil ogs\u00e5 gi anledning til forholdsmessige\u003cbr\u003ejusteringer.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_10568\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 684.5559521410019, "y": -499.72072851019016}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_6773", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEtter kommisjonens \u003cb\u003emening\u003c/b\u003e er derfor en bredere og mer\u003cbr\u003ehelhetlig tiln??rmingsm??te p??krevet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_6773\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 247.02642211847726, "y": 3.057882190272683}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_15778", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eLovhjemmelen og ansvaret for samordning av arbeidet for\u003cbr\u003efunksjonshemmede b\u00f8r etter Hovedkomit\u00e9ens \u003cb\u003emening\u003c/b\u003e overf\u00f8res fra\u003cbr\u003eKirke- og undervisningsdepartementet til Sosialdepartementet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_15778\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -72.48129981590631, "y": 510.22180070801204}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_15060", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eOgs\u00e5 n\u00e5r det gjelder den geografiske plassering av den nye\u003cbr\u003einstitusjonen var det delte \u003cb\u003emeninger\u003c/b\u003e i Stortinget.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_15060\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -348.2386509374455, "y": -45.27062571555061}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_4055", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHer er det viktigere \u00e5 understreke at uansett hvilken\u003cbr\u003e\u003cb\u003emening\u003c/b\u003e man m\u00e5tte ha om \u00e5rsaksforhold i samfunnsutviklingen, kan\u003cbr\u003efasene ikke oppfattes separat.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_4055\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -516.5900050876542, "y": -297.7579202601657}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_18472", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eVet ikke, ingen \u003cb\u003emening\u003c/b\u003e (LESES IKKE) Norge har til n\u00e5\u003cbr\u003ekonsentrert hjelpen til noen f\u00e5 utviklingsland.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_18472\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -563.8135002427041, "y": -989.5727986671229}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_681", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEtter utvalgets \u003cb\u003emening\u003c/b\u003e skyldes disse vanskene mer\u003cbr\u003eutformingen og redigeringen av den enkelte lov. Dessuten er det behov\u003cbr\u003efor en samlet publikasjon som omfatter de viktigste lover av betydning\u003cbr\u003efor forholdet mellom barn og foreldre, kanskje ogs\u00e5 sammen med andre\u003cbr\u003elover som ang\u00e5r barn. En slik felles publikasjon kan man lett f\u00e5 i\u003cbr\u003estand selv om reglene ikke er samlet i \u00e9n lov. Utvalget har g\u00e5tt\u003cbr\u003egjennom de lover som ble nevnt av Justiskomit\u00e9en i 1956, men er kommet\u003cbr\u003etil at det ikke passer \u00e5 ta noen av dem med i utkastet til en lov om\u003cbr\u003ebarn og foreldre.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_681\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -908.9352559412976, "y": -334.73900305165506}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_14128", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eEtter departementets \u003cb\u003emening\u003c/b\u003e vil det vaere hensiktsmessig\u003cbr\u003eat en i denne sammenheng ogs\u00e5 utarbeider et nytt forslag til\u003cbr\u003est\u00f8ygrenser for skytebanest\u00f8y i omgivelsene.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_14128\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 254.97316628053755, "y": -552.2831021373568}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_mening_9596", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDette forutsetter etter utvalgets \u003cb\u003emening\u003c/b\u003e at regionene\u003cbr\u003eblir st\u00f8rre enn n\u00e5. Regionniv\u00e5et er bl. a. diskutert b\u00e5de av\u003cbr\u003eChristiansenutvalget og Wilhelmsen-utvalget.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_9596\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -222.01625089192365, "y": -707.6009056347309}, {"color": "#ff7f00", "date": "1929", "id": "1929-1965_mening_1442", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDrag er det na \u003cb\u003emeningen\u003c/b\u003e a klvtte selve Drag BtaBjon inn\u003cbr\u003epa vestsiden av vragsbukta etter at linjen i en tunnel pa 760 m. er\u003cbr\u003en\u00e5dd kram til sjsen, ved km. 129,3. I tilknytning til BtaBjon, er der\u003cbr\u003ekorut32tt oppksrt et mindre kaianlegg.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_1442\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -54.05515189723587, "y": 1072.9303561306108}, {"color": "#ff7f00", "date": "1929", "id": "1929-1965_mening_3643", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDer kommer noen sm\u00e5 rykk rundt den veke munn. \u00ab\u00c5, det er snart\u003cbr\u003einga \u003cb\u003emening\u003c/b\u003e ti det,\u00bb hvisker hun brutt. \u00abTenkte du \u00e5 reise ut?\u00bb\u003cbr\u003esp\u00f8r jeg lavt. \u00ab\u00c5, je har tenkt p\u00e5 mangt,\u00bb svarer hun med dyp, s\u00e5r\u003cbr\u003estemme. Hun st\u00e5r lenet op mot veggen og ser ned p\u00e5 sin fot, som hun\u003cbr\u003evugger frem og tilbake, mekanisk.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_3643\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 829.8327181779308, "y": 1694.3801985293221}, {"color": "#ff7f00", "date": "1929", "id": "1929-1965_mening_974", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet var altsammen som noget av den store \u003cb\u003emening\u003c/b\u003e med os\u003cbr\u003eherneden.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_974\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 160.72938414713582, "y": 2000.0}, {"color": "#ff7f00", "date": "1970", "id": "1970-2015_mening_11299", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDersom man da finner en beskrivelse som \u00abgammelt bord\u00bb, kan\u003cbr\u003edette ha en viss \u003cb\u003emening\u003c/b\u003e i forhold til de andre bordene.\u003cbr\u003eHuskeliste: i. F\u00e5 oversikt over magasinene oggjenstandene.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_mening_11299\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 959.564900713893, "y": 893.41476554778}, {"color": "k", "date": "1929", "id": "1929-1965_mening_1216", "label": "-1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eFfirst vell \u00ablen siste setning gikk bans \u003cb\u003emening\u003c/b\u003e\u003cbr\u003etullstenllig op tar berme.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_mening_1216\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 558.3482216341482, "y": -272.40507504514176}]);
        edges = new vis.DataSet([{"color": "black", "from": "1929-1965_mening_890", "label": "4/4/-", "to": "1929-1965_mening_2116", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "4/4/4", "to": "1970-2015_mening_18472", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "1/-/4", "to": "1929-1965_mening_4969", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "4/-/-", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "4/-/-", "to": "1970-2015_mening_13763", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "4/4/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "4/-/-", "to": "1929-1965_mening_2964", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "4/4/4", "to": "1929-1965_mening_4458", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/4/1", "to": "1970-2015_mening_11299", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/4/-", "to": "1929-1965_mening_1442", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/4/4", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/4/-", "to": "1929-1965_mening_1216", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/4/-", "to": "1929-1965_mening_1640", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/4/4", "to": "1970-2015_mening_15778", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/4/4", "to": "1970-2015_mening_15060", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/4/4", "to": "1970-2015_mening_10568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/-/4", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_890", "label": "-/-/4", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1442", "label": "1/4/0", "to": "1970-2015_mening_6773", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_1442", "label": "4/-/0", "to": "1929-1965_mening_974", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1442", "label": "4/-/0", "to": "1970-2015_mening_11299", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1442", "label": "1/4/0", "to": "1970-2015_mening_10568", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_1442", "label": "-/4/0", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1442", "label": "-/4/-", "to": "1929-1965_mening_2116", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1442", "label": "-/4/0", "to": "1929-1965_mening_3643", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1442", "label": "-/4/0", "to": "1929-1965_mening_2964", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1442", "label": "-/4/0", "to": "1970-2015_mening_13763", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "0/4/0", "to": "1929-1965_mening_1216", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "4/4/-", "to": "1929-1965_mening_2964", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "4/-/4", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/4/4", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/4/-", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/4/4", "to": "1929-1965_mening_4458", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/4/-", "to": "1970-2015_mening_15060", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/4/-", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/4/1", "to": "1970-2015_mening_11299", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/4/4", "to": "1970-2015_mening_10568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/-/4", "to": "1970-2015_mening_13763", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/-/4", "to": "1970-2015_mening_18472", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/-/4", "to": "1929-1965_mening_2116", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1640", "label": "-/-/4", "to": "1929-1965_mening_3651", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "4/-/-", "to": "1970-2015_mening_15778", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "4/4/4", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "4/4/-", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "4/4/-", "to": "1970-2015_mening_15060", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "4/-/4", "to": "1929-1965_mening_2964", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "4/-/4", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "4/-/4", "to": "1970-2015_mening_13763", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "4/4/4", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "-/4/-", "to": "1929-1965_mening_3651", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "-/4/4", "to": "1970-2015_mening_10568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "-/4/-", "to": "1929-1965_mening_4458", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2116", "label": "-/-/4", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "4/-/-", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "4/-/-", "to": "1970-2015_mening_10568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "1/4/-", "to": "1929-1965_mening_3643", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "0/4/0", "to": "1929-1965_mening_1216", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "4/4/-", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "4/-/-", "to": "1970-2015_mening_15778", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "-/4/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "-/4/-", "to": "1970-2015_mening_15060", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "-/4/-", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_2964", "label": "-/-/4", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3643", "label": "4/4/4", "to": "1929-1965_mening_974", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3643", "label": "1/4/-", "to": "1970-2015_mening_15060", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_3643", "label": "-/4/1", "to": "1970-2015_mening_18472", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_3643", "label": "-/4/-", "to": "1929-1965_mening_4969", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3643", "label": "-/4/1", "to": "1970-2015_mening_14128", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_974", "label": "4/3/-", "to": "1970-2015_mening_11299", "weight": 3.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_974", "label": "1/4/-", "to": "1970-2015_mening_15060", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_974", "label": "-/4/-", "to": "1970-2015_mening_15778", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "4/-/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "4/-/-", "to": "1970-2015_mening_18472", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "4/4/-", "to": "1970-2015_mening_10568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "4/-/4", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "4/-/-", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "-/4/-", "to": "1970-2015_mening_15060", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "-/4/1", "to": "1970-2015_mening_11299", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "-/4/-", "to": "1929-1965_mening_4969", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "-/4/-", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "-/-/4", "to": "1929-1965_mening_4458", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "-/-/4", "to": "1970-2015_mening_13763", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_3651", "label": "-/-/4", "to": "1970-2015_mening_15778", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1216", "label": "0/4/0", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1216", "label": "0/4/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1216", "label": "0/4/-", "to": "1970-2015_mening_10568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1216", "label": "-/4/0", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1216", "label": "-/4/-", "to": "1929-1965_mening_4458", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1216", "label": "-/4/-", "to": "1970-2015_mening_11299", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1216", "label": "-/4/0", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_1216", "label": "-/4/0", "to": "1970-2015_mening_15060", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "1/4/4", "to": "1970-2015_mening_18472", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "4/4/-", "to": "1970-2015_mening_11299", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "1/4/-", "to": "1970-2015_mening_4055", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "1/-/4", "to": "1929-1965_mening_4458", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "-/4/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "-/4/-", "to": "1970-2015_mening_15060", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "-/4/4", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "-/-/4", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "-/-/4", "to": "1970-2015_mening_13763", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4969", "label": "-/-/4", "to": "1970-2015_mening_10568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4458", "label": "4/4/-", "to": "1970-2015_mening_13763", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4458", "label": "4/4/4", "to": "1970-2015_mening_10568", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4458", "label": "4/-/-", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4458", "label": "4/4/4", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4458", "label": "4/4/4", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4458", "label": "4/4/-", "to": "1970-2015_mening_15778", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4458", "label": "-/4/-", "to": "1970-2015_mening_18472", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_mening_4458", "label": "-/4/4", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_13763", "label": "4/4/4", "to": "1970-2015_mening_18472", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_13763", "label": "4/-/4", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_13763", "label": "4/-/-", "to": "1970-2015_mening_15778", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_13763", "label": "-/4/-", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_13763", "label": "-/4/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_13763", "label": "-/4/-", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_13763", "label": "-/4/-", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_10568", "label": "4/4/4", "to": "1970-2015_mening_15778", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_10568", "label": "4/-/4", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_10568", "label": "4/-/4", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_10568", "label": "-/-/4", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_11299", "label": "1/4/-", "to": "1970-2015_mening_15778", "weight": 2.5, "width": 4}, {"color": "black", "from": "1970-2015_mening_11299", "label": "-/4/-", "to": "1970-2015_mening_6773", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_6773", "label": "4/4/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_6773", "label": "4/-/-", "to": "1970-2015_mening_15060", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_6773", "label": "4/-/4", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_6773", "label": "-/4/4", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_6773", "label": "-/-/4", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_15778", "label": "4/4/4", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_15778", "label": "4/-/4", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_15778", "label": "-/4/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_15778", "label": "-/-/4", "to": "1970-2015_mening_15060", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_15060", "label": "4/-/-", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_15060", "label": "4/4/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_15060", "label": "-/4/4", "to": "1970-2015_mening_18472", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_15060", "label": "-/-/4", "to": "1970-2015_mening_4055", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_4055", "label": "4/-/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_4055", "label": "4/4/4", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_4055", "label": "-/4/4", "to": "1970-2015_mening_18472", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_4055", "label": "-/4/-", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_18472", "label": "4/4/-", "to": "1970-2015_mening_681", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_18472", "label": "-/4/-", "to": "1970-2015_mening_14128", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_18472", "label": "-/4/4", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_mening_681", "label": "-/4/-", "to": "1970-2015_mening_9596", "weight": 4.0, "width": 4}, {"color": "lightgray", "from": "1929-1965_mening_890", "label": "1/-/-", "to": "1929-1965_mening_3643", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_1442", "label": "1/-/-", "to": "1929-1965_mening_4458", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_1442", "label": "1/-/-", "to": "1970-2015_mening_9596", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_1442", "label": "1/-/-", "to": "1970-2015_mening_18472", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_1442", "label": "1/3/0", "to": "1970-2015_mening_15060", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_1640", "label": "1/-/-", "to": "1929-1965_mening_4969", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_1640", "label": "1/3/1", "to": "1929-1965_mening_974", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_2116", "label": "1/4/1", "to": "1970-2015_mening_11299", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_2116", "label": "1/-/-", "to": "1929-1965_mening_4969", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_2116", "label": "-/-/1", "to": "1929-1965_mening_974", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_2964", "label": "1/-/-", "to": "1970-2015_mening_11299", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_2964", "label": "1/3/1", "to": "1929-1965_mening_974", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_3643", "label": "1/-/1", "to": "1929-1965_mening_4458", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_3643", "label": "1/-/-", "to": "1970-2015_mening_6773", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_3643", "label": "1/-/1", "to": "1970-2015_mening_4055", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_3643", "label": "1/4/1", "to": "1970-2015_mening_681", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_3643", "label": "1/4/1", "to": "1970-2015_mening_9596", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_3643", "label": "1/-/1", "to": "1970-2015_mening_10568", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_3643", "label": "-/2/-", "to": "1929-1965_mening_3651", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_3643", "label": "-/-/1", "to": "1970-2015_mening_13763", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_974", "label": "1/3/1", "to": "1970-2015_mening_4055", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_974", "label": "1/4/1", "to": "1929-1965_mening_4458", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_974", "label": "1/2/-", "to": "1970-2015_mening_6773", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_974", "label": "1/4/1", "to": "1970-2015_mening_681", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_974", "label": "1/-/-", "to": "1970-2015_mening_10568", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_974", "label": "1/-/-", "to": "1970-2015_mening_14128", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_974", "label": "-/3/1", "to": "1970-2015_mening_18472", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_974", "label": "-/-/1", "to": "1970-2015_mening_13763", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_4458", "label": "1/-/-", "to": "1970-2015_mening_11299", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_mening_13763", "label": "-/-/1", "to": "1970-2015_mening_11299", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_mening_10568", "label": "-/-/1", "to": "1970-2015_mening_11299", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_mening_11299", "label": "1/-/-", "to": "1970-2015_mening_15060", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_mening_11299", "label": "1/4/1", "to": "1970-2015_mening_18472", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_mening_11299", "label": "1/-/-", "to": "1970-2015_mening_9596", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_mening_11299", "label": "-/-/1", "to": "1970-2015_mening_681", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_mening_1442", "label": "0/-/0", "to": "1929-1965_mening_1216", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_1442", "label": "-/-/0", "to": "1929-1965_mening_3651", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_1442", "label": "-/-/0", "to": "1929-1965_mening_4969", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_1442", "label": "-/-/0", "to": "1929-1965_mening_1640", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_1442", "label": "-/-/0", "to": "1970-2015_mening_681", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_2116", "label": "-/-/0", "to": "1929-1965_mening_1216", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_3643", "label": "0/-/0", "to": "1929-1965_mening_1216", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_974", "label": "-/-/0", "to": "1929-1965_mening_1216", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_1216", "label": "0/-/-", "to": "1970-2015_mening_4055", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_1216", "label": "0/-/-", "to": "1970-2015_mening_13763", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_1216", "label": "0/-/0", "to": "1929-1965_mening_4969", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_mening_1216", "label": "-/-/0", "to": "1970-2015_mening_15778", "weight": NaN, "width": 1.0}]);

        // adding nodes and edges to the graph
        data = { nodes: nodes, edges: edges };

        var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "nodes",
            "edges"
        ]
    },
    "edges": {
        "color": {
            "inherit": false
        },
        "smooth": {
            "enabled": false,
            "type": "continuous"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": false,
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

        

        
        // if this network requires displaying the configure window,
        // put it in its div
        options.configure["container"] = document.getElementById("config");
        

        network = new vis.Network(container, data, options);

        


        

        return network;

    }

        drawGraph();


        let nodesInTimePeriod = new Set();
        let edgesInTimePeriod = new Set();
        let edgesBelowWeight = new Set();
        let nodesInGrouping = new Set();
        let edgesInGrouping = new Set();
        let edgesToBeShown = new Set();
        let nodesToBeShown = new Set();

        edges.forEach(function (edge) {
            edgesBelowWeight.add(edge.id);
            edgesInGrouping.add(edge.id);
            edgesInTimePeriod.add(edge.id);
            edgesToBeShown.add(edge.id);
        })

        nodes.forEach(function (node) {
            nodesInTimePeriod.add(node.id);
            nodesInGrouping.add(node.id);
            nodesToBeShown.add(node.id);
        })


        function showEdges() {
            edgesToBeShown.forEach(function (edge) {
                edge.hidden = false;
                edges.update(edge);
            })
        }

        //Missing the loading icon
        //slider code from pyvis filter example
        // Handler event when slider changes

        let slider = document.getElementById('slider');
        let sliderMin = document.getElementById('slider-min');
        let sliderDisplay = document.getElementById('sliderValueDisplay');
        let sliderMinDisplay = document.getElementById('sliderValueDisplayMin');

        sliderDisplay.innerHTML = "4";
        sliderMinDisplay.innerHTML = "1";

        function weightFilter() {
            console.log("weight filter got called");
            // Get the value of the slider
            let sliderValue = slider.value;
            let sliderMinValue = sliderMin.value;

            // Display the selected value next to slider
            sliderDisplay.innerHTML = sliderValue;
            sliderMinDisplay.innerHTML = sliderMinValue;

            // Loop through the edges
            edges.forEach(function (edge) {
                // Check if the edge should be displayed based on its weight
                if (edge.weight <= sliderValue && edge.weight >= sliderMinValue) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        edgesBelowWeight.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    }
                    // Edge should be displayed
                    // Unhide edge if it's hidden and update DataSet

                } else if (isNaN(edge.weight)) {
                    //console.log("its NaN")
                } else {

                    // Edge should not be displayed
                    // Hide edge if not already hidden and update DataSet
                    if (!edge.hidden) {
                        edgesBelowWeight.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }
                }
            });


            calcMean();
        }



        //code for node date filter
        let dates = [];
        nodes.forEach(function (node) {
            date = node.date;
            if (!dates.includes(date)) {
                dates.push(date);
            }
        });
        dates.sort();


        //code for date slider
        let minDate = 10000;
        let maxDate = 0;

        let minPicker = document.getElementById('minPicker');
        let maxPicker = document.getElementById('maxPicker');

        if (!minPicker.hasChildNodes()) {
            dates.forEach(function (date) {
                if (Number(date) < minDate) {
                    minDate = Number(date);
                }
                if (Number(date) > maxDate) {
                    maxDate = Number(date);
                }


                let option = document.createElement('option');
                option.text = date;
                option.value = date;

                let option2 = document.createElement('option');
                option2.text = date;
                option2.value = date;

                minPicker.append(option);
                maxPicker.append(option2);

            })
        } else {
            minDate = Number(dates[0]);
            maxDate = Number(dates[dates.length-1]);
        }
        maxPicker.selectedIndex = dates.length - 1;



        function showSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'visible';
                resolve();
            });
        }

        function hideSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'hidden';
                resolve();
            });
        }



        const loadingIcon = document.querySelector('.loading-icon');
        const select = document.querySelector('.select-load');

        select.addEventListener('change', function () {
            showSelectLoad();
            setTimeout(selectGroup, 1000);


            setTimeout(hideSelectLoad, 1000);


        });

        //const slider_load = document.querySelector('.slider-load');

         slider.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

         sliderMin.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

        let groupPicker = document.getElementById('groupPicker');
        groupPicker.selectedIndex = 0;
        let minValue = minPicker.value;
        let maxValue = maxPicker.value;

        function selectGroup() {
            return new Promise(function (resolve, reject) {
                let selectValue = document.getElementById('groupPicker').value;

                console.log("grouping value: " + selectValue);

                if (selectValue == 1) {
                    nodes.forEach(function (node) {


                        if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else if (selectValue == 2) {
                    nodes.forEach(function (node) {
                        if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else {
                    nodes.forEach(function (node) {
                        if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                }
                loadingIcon.style.visibility = 'hidden';

                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        if (showNaNEdges && !nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {

                            edge.hidden = false;
                            edges.update(edge);
                        } else {
                            edge.hidden = true;
                            edge.hidden = true;
                            edges.update(edge);
                        }
                    } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && !isNaN(edge.weight)) {
                        edgesInGrouping.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    } else {
                        edgesInGrouping.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }


                })
                loadingIcon.style.visibility = 'hidden';
                calcMean();
                updateClusterDistribution();
                resolve();
            });

        }

        function dateFilter() {
            showSelectLoad();
            setTimeout(pickDates, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function pickDates() {
            loadingIcon.style.visibility = 'visible';

            let selectValue = document.getElementById('groupPicker').value;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            //console.log("showing dates between " + minValue + " and " + maxValue);

            if (selectValue == 1) {
                nodes.forEach(function (node) {


                    if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else if (selectValue == 2) {
                nodes.forEach(function (node) {
                    if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else {
                nodes.forEach(function (node) {
                    if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            }

            edges.forEach(function (edge) {


                if (isNaN(edge.weight) && !showNaNEdges) {

                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && isNaN(edge.weight)){
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && edge.weight >= sliderMin.value && edge.weight <= slider.value) {
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else {
                    edgesInTimePeriod.delete(edge.id);
                    edge.hidden = true;
                    edges.update(edge);
                }


            })
            loadingIcon.style.visibility = 'hidden'


            calcMean();
            updateClusterDistribution();

        }

        let showNaNEdges = true;

        function filterNaN() {
            showSelectLoad();
            setTimeout(selectNaN, 1000);


            setTimeout(hideSelectLoad, 1000);

        };

        const checkboxNaN = document.getElementById("checkboxNaN");

        function selectNaN() {
            if (checkboxNaN.checked) {

                showNaNEdges = true;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = false;
                        edges.update(edge);
                        pickDates();
                    }
                });
            } else {
                showNaNEdges = false;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = true;
                        edges.update(edge);
                    }
                });
            }


        }


        const checkboxNoiseLabels = document.getElementById("checkboxNoiseLabels");

        document.getElementById("checkboxNaN").checked = true;
        document.getElementById("checkboxNoiseLabels").checked = true;

        let showNoiseLabels = true;

        function filterNoiseLabels() {
            showSelectLoad();
            setTimeout(selectNoiseLabels, 1000);


            setTimeout(hideSelectLoad, 1000);
        }

        function selectNoiseLabels() {
            if (checkboxNoiseLabels.checked) {

                showNoiseLabels = true;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {
                        node.hidden = false;
                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        if (isNaN(edge.weight) && !showNaNEdges) {
                            edge.hidden = true;
                            edges.update(edge);

                        } else {
                            edge.hidden = false;
                            edges.update(edge);
                        }
                    }
                })

            } else {

                showNoiseLabels = false;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {

                        node.hidden = true;

                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (nodes.get(edge.to).hidden || nodes.get(edge.from).hidden || (isNaN(edge.weight) && !showNaNEdges)) {

                        edge.hidden = true;
                        edges.update(edge);

                    }
                })

            }
            updateClusterDistribution();
        }


        let fillMean = document.getElementById("fillMean");
        let fillSD = document.getElementById("fillSD");


        function calcMean() {
            let edgeValues = [];
            edges.forEach(function (edge) {
                if (!edge.hidden) {
                    let label = parseFloat(edge.weight);
                    if (!isNaN(label)) {
                        edgeValues.push(label);
                    }
                }
            })

            let mean = edgeValues.reduce((a, b) => a + b, 0) / edgeValues.length;
            let sd = dev(edgeValues, mean);
            if (isNaN(mean)) {
                mean = 0;
            }
            if (isNaN(sd)) {
                sd = 0;
            }
            mean = mean.toFixed(5);
            sd = sd.toFixed(5);

            fillMean.innerHTML = "Edge weight mean: ";
            fillSD.innerHTML = "Edge weight standard deviation: "

            fillMean.append(mean);
            fillSD.append(sd);

        }


        // Javascript program to calculate the standard deviation of an array

        function dev(arr, mean) {

            // Assigning (value - mean) ^ 2 to every array item
            arr = arr.map((k) => {
                return (k - mean) ** 2
            })


            // Calculating the sum of updated array
            let sum = arr.reduce((acc, curr) => acc + curr, 0);


            // Returning the standard deviation
            return Math.sqrt(sum / arr.length)
        }

        calcMean();


        let heading = document.getElementById("heading").innerHTML;
        let onlyLemma = heading.replace(/ .*/, '');

        //NEW

        // set up flag variables to track which scripts have been loaded successfully
        let statsLoaded = false;
        let statsGroupingsLoaded = false;
        let statsAgreementLoaded = false;
        let statsPlottingLoaded = false;
        let statsDataJointLoaded = false;

        let filteredStats = [];
        let filteredStatsGroupings = [];
        let filteredStatsAgreement = [];
        let filteredStatsPlotting = [];
        let filteredStatsDataJoint = [];

        let clusteringMethod;
        let cluster_freq_dist;
        let cluster_prob_dist;
        let noise_cluster_count;
        let clusterInfo;
        let statisticsDiv;
        let nodePosition;


        // create event listeners for each script to set the corresponding flag when loaded
        document.addEventListener('statsLoaded', function () {
            console.log('stats.js is fully loaded!');
            statsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsGroupingsLoaded', function () {
            console.log('stats_groupings.js is fully loaded!');
            statsGroupingsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsAgreementLoaded', function () {
            console.log('stats_agreement.js is fully loaded!');
            statsAgreementLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsPlottingLoaded', function () {
            console.log('stats_plotting.js is fully loaded!');
            statsPlottingLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsDataJointLoaded', function () {
            console.log('data_joint.js is fully loaded!');
            statsDataJointLoaded = true;
            checkAllScriptsLoaded();
        });

        // load each script with the same function
        function loadScript(scriptUrl, eventName) {
            const script = document.createElement('script');
            script.src = scriptUrl;
            script.type = 'text/javascript';

            script.addEventListener('load', function () {
                console.log(scriptUrl + ' loaded successfully');
                document.dispatchEvent(new Event(eventName));
            });

            script.addEventListener('error', function () {
                console.log('Failed to load ' + scriptUrl);
                checkAllScriptsLoaded();
            });

            document.body.appendChild(script);
        }

        // call the loadScript function for each script you want to load
        loadScript('../stats.js', 'statsLoaded');
        loadScript('../stats_groupings.js', 'statsGroupingsLoaded');
        loadScript('../stats_agreement.js', 'statsAgreementLoaded');
        loadScript('../stats_plotting.js', 'statsPlottingLoaded');
        loadScript('../data_joint.js', 'statsDataJointLoaded');

        // check if all scripts have been loaded, and execute the code that depends on them if they have
        function checkAllScriptsLoaded() {

            if (statsLoaded) {
                try {
                    filteredStats = stats.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats not found');
                }

                try {
                    generateTable(filteredStats, "stats");
                } catch (err) {
                    console.log('problem generating table with stats');
                }

                try {
                    clusteringMethod = filteredStats[0].algorithm;
                } catch (err) {
                    console.log('filteredStats[0] not found');
                }



            }

            if (statsGroupingsLoaded) {
                try {
                    filteredStatsGroupings = stats_groupings.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_groupings not found');
                }

                try {
                    generateTable(filteredStatsGroupings, "statsGroupings");
                } catch (err) {
                    console.log('problem generating table with stats_groupings');
                }

                cluster_freq_dist = filteredStatsGroupings[0].cluster_freq_dist;
                cluster_prob_dist = filteredStatsGroupings[0].cluster_prob_dist;
            }

            if (statsAgreementLoaded) {
                try {
                    filteredStatsAgreement = stats_agreement.filter(row => row.data === onlyLemma);
                } catch (err) {
                    console.log('stats_agreement not found');
                }

                try {
                    generateTable(filteredStatsAgreement, "statsAgreement");
                } catch (err) {
                    console.log('problem generating table with stats_agreement');
                }


            }

            if (statsPlottingLoaded) {
                try {
                    filteredStatsPlotting = stats_plotting.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_plotting not found');
                }

                try {
                    generateTable(filteredStatsPlotting, "statsPlotting");
                } catch (err) {
                    console.log('problem generating table with stats_plotting');
                }

                nodePosition = filteredStatsPlotting[0].node_position;
            }

            if (statsDataJointLoaded) {
                try {
                    filteredStatsDataJoint = data_joint.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_data_joint not found');
                }

                try {
                    generateDetails(filteredStatsDataJoint, "statsDataJoint");
                } catch (err) {
                    console.log('problem generating table with statsDataJoint');
                }

                if(!annotatorsContainer.hasChildNodes()){
                    fillAnnotatorsContainer(filteredStatsDataJoint);
                }
            }

            noise_cluster_count = 0;
            nodes.forEach(function (node) {
                if (Number(node.label) == -1) {
                    noise_cluster_count += 1;
                }
            });

            clusterInfo = document.getElementById("clusterInfo");
            statisticsDiv = document.getElementById("statistics");

            clusterInfo.innerHTML = `
            <p>Node position: ${nodePosition}</p>
            <p>Clustering method: ${clusteringMethod}</p>`;

            statisticsDiv.innerHTML = `
            <p id="clusterFreqDist">Cluster frequency distribution: ${cluster_freq_dist}</p>
            <p id="clusterProbDist">Cluster probability distribution: ${cluster_prob_dist}</p>
            <p id="noiseClusterCount">Noise Cluster: [${noise_cluster_count}]</p>`;

        }


        function generateTable(jsonData, id) {
            if (!jsonData || jsonData.length === 0) {
                console.error(`Error: Invalid JSON data in generateTable function for id '${id}'`);
                return;
            }

            let div = document.createElement('div');


            let keys = Object.keys(jsonData[0]);
            keys.forEach(function (key) {
                let details = document.createElement('details');
                details.classList.add('shifted');
                let summary = document.createElement('summary');
                summary.innerText = key;
                details.appendChild(summary);
                let content = document.createElement('div');
                content.innerText = jsonData[0][key];
                details.appendChild(content);
                div.appendChild(details);

            })

            document.getElementById(id).append(div);
        }

        function generateDetails(jsonData, id) {
            let div = document.createElement('div');

            for (let i = 0; i < jsonData.length; i++) {
                let surroundingDetails = document.createElement('details');
                surroundingDetails.classList.add('shifted');
                let surroundingSummary = document.createElement('summary');
                surroundingSummary.innerText = i.toString();
                surroundingDetails.appendChild(surroundingSummary);
                div.appendChild(surroundingDetails);
                let keys = Object.keys(jsonData[i]);
                keys.forEach(function (key) {
                    let details = document.createElement('details');
                    details.classList.add('shifted');
                    let summary = document.createElement('summary');
                    summary.innerText = key;
                    details.appendChild(summary);
                    let content = document.createElement('div');
                    content.innerText = jsonData[i][key];
                    details.appendChild(content);
                    surroundingDetails.appendChild(details);

                })
            }

            document.getElementById(id).append(div);
        }




        function updateClusterDistribution() {
            let clusterFreqDist = [];
            let clusterProbDist = [];
            let noiseClusterCount = 0;
            let temp = [];
            let numberOfNodes = 0;

            nodes.forEach(function (node) {
                if (!node.hidden) {
                    temp.push(Number(node.label));
                }


            })

            temp.sort();

            let biggestLabel = temp[temp.length - 1];

            for (let i = 0; i <= biggestLabel; i++) {
                clusterFreqDist.push(0);
                clusterProbDist.push(0);
            }

            temp.forEach(function (item) {
                if (!(item == -1)) {
                    numberOfNodes += 1;
                    clusterFreqDist[item] += 1;
                } else {
                    noiseClusterCount += 1;
                }
            })

            for (let j = 0; j < clusterFreqDist.length; j++) {
                if (clusterFreqDist[j] > 0) {

                    clusterProbDist[j] = (clusterFreqDist[j] / numberOfNodes);

                    let parts = clusterProbDist[j].toString().split('.');

                    // Check the length of the decimal part
                    if (parts[1] && parts[1].length > 5) {
                        // Round the value to 5 decimal places if the decimal part is longer than 5 digits
                        clusterProbDist[j] = clusterProbDist[j].toFixed(5);
                    }
                }
            }

            document.getElementById("clusterFreqDist").innerHTML = "Cluster frequency distribution: [" + clusterFreqDist.toString() + "]";
            document.getElementById("clusterProbDist").innerHTML = "Cluster probability distribution: [" + clusterProbDist.toString() + "]";
            document.getElementById("noiseClusterCount").innerHTML = "Noise cluster: [" + noiseClusterCount.toString() + "]";
        }


        let annotatorsContainer = document.getElementById("annotatorsContainer");
        let annotators = [];

        function fillAnnotatorsContainer(jsonData) {
            let div = document.createElement('div');
            let h4 = document.createElement('h4');
            h4.innerHTML = "Annotator filter (resets all other filters): ";
            div.appendChild(h4);

            for (let i = 0; i < jsonData.length; i++) {

                let annotator = jsonData[i]["annotator"]
                if (!annotators.includes(annotator)) {
                    annotators.push(annotator);
                }
            }

            annotators.sort();

            for (let j = 0; j < annotators.length; j++) {
                let label = document.createElement('label');
                label.innerHTML = annotators[j];
                label.for = annotators[j];
                let checkbox = document.createElement('input');
                checkbox.type = "checkbox";
                checkbox.checked = true;
                checkbox.id = annotators[j];
                div.appendChild(label);
                div.appendChild(checkbox);
            }

            let button = document.createElement('button');
            button.innerHTML = "Show graph";
            button.onclick = annotatorsFilter;
            div.appendChild(button);
            let br = document.createElement('br')
            let br2 = document.createElement('br')
            div.appendChild(br);
            div.appendChild(br2);

            annotatorsContainer.append(div);
        }



        function annotatorsFilter() {
            showSelectLoad();
            setTimeout(calculateSubGraph, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function calculateSubGraph() {
            loadingIcon.style.visibility = 'visible';
            let onlyCheckedAnnotators = [];
            for (let i = 0; i < annotators.length; i++) {
                let checkAnnotator = document.getElementById(annotators[i]);
                if (checkAnnotator.checked) {
                    onlyCheckedAnnotators.push(annotators[i]);
                }
            }


            let filteredForAnnotators = filteredStatsDataJoint.filter(row => onlyCheckedAnnotators.includes(row.annotator));


            groupPicker.selectedIndex = 0;
            sliderMin.value = 1;
            slider.value = 4;
            sliderDisplay.innerHTML = "4";
            sliderMinDisplay.innerHTML = "1";
            checkboxNoiseLabels.checked = true;
            checkboxNaN.checked = true;
            maxPicker.selectedIndex = dates.length - 1;
            minPicker.selectedIndex = 0;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            nodes.forEach(function (node){
                if(node.hidden){
                    node.hidden = false;
                    nodes.update(node);
                }
            })

            /*edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;

                let from = nodes.get(edge.from);
                let from_id = from.id;

                let edgeAnnotations = [];

                for (let k = 0; k < filteredForAnnotators.length; k++) {
                    let item = filteredForAnnotators[k];
                    let identifier1 = item.identifier1;
                    let identifier2 = item.identifier2;
                    let weight = Number(item.judgment);

                    if((identifier1 == to_id && identifier2 == from_id) || (identifier1 == from_id && identifier2 == to_id)){

                        if(0 < weight < 5){
                            //console.log("there is a corresponding annotation thats not NaN");
                            edgeAnnotations.push(weight);
                        }
                    }
                }

                if (edgeAnnotations.length !== 0){
                let median;
                let filteredArray = edgeAnnotations;
                filteredArray.sort((a, b) => a - b);
                let middle = Math.floor(filteredArray.length / 2);
                if (filteredArray.length % 2 === 0) {
                    median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                } else {
                    median = filteredArray[middle];
                }

                    console.log("the median for this edge is: " + median);

                    if (median == 0){
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                    edges.update(edge);

                    } else {
                    edge.hidden = true;
                    edges.update(edge);
                }







            })
            */


            // Create a map to store the filteredForAnnotators array
            let annotationsMap = new Map();
            filteredForAnnotators.forEach(function (item) {
                let identifier1 = item.identifier1;
                let identifier2 = item.identifier2;
                let weight = Number(item.judgment);
                if (weight >= 0 && weight < 5) {
                    // Only store annotations with weight between 0 and 5
                    let key = [identifier1, identifier2].sort().join('-');
                    let annotations = annotationsMap.get(key) || [];
                    annotations.push(weight);
                    annotationsMap.set(key, annotations);
                }
            });

            // Iterate over the edges and get the annotations from the map
            edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;
                let from = nodes.get(edge.from);
                let from_id = from.id;
                let key = [to_id, from_id].sort().join('-');
                let edgeAnnotations = annotationsMap.get(key) || [];


                    //console.log("edge annos: " + edgeAnnotations);

                if (edgeAnnotations.length !== 0) {
                    let median;
                    let filteredArray = edgeAnnotations.filter(a => a > 0);
                    filteredArray.sort((a, b) => a - b);

                    if (filteredArray.length === 0) {
                        median = 0;
                    } else {
                        let middle = Math.floor(filteredArray.length / 2);
                        if (filteredArray.length % 2 === 0) {
                            median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                        } else {
                            median = filteredArray[middle];
                        }
                    }


                    //console.log("the median for this edge is: " + median);

                    if (median == 0) {
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                } else {
                    edge.hidden = true;
                }

                edges.update(edge);
            });



            loadingIcon.style.visibility = 'hidden';

            calcMean();
            updateClusterDistribution();
        }


        sliderMin.value = 1;
        slider.value = 4;


    </script>
</body>

</html>