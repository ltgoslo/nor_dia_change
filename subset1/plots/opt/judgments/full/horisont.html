<html xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
    <center>
        <h1 id="heading">horisont (full)</h1>
    </center>


    <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->

    <style type="text/css">
       #mynetwork {
            width: 65%;
            height: 90%;

            margin-right: 2%;

            height: {
                    {
                    height
                }
            }

            ;

            background-color: {
                    {
                    bgcolor
                }
            }

            ;
            border: 1px solid lightgray;
            position: relative;
            float: left;
        }

            {
            % if nodes|length>100 and physics_enabled %
        }

        #loadingBar {
            position: absolute;
            top: 0px;
            left: 0px;

            width: {
                    {
                    width
                }
            }

            ;

            height: {
                    {
                    height
                }
            }

            ;
            background-color:rgba(200, 200, 200, 0.8);
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -ms-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
            opacity:1;
        }

        #bar {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 20px;
            height: 20px;
            margin: auto auto auto auto;
            border-radius: 11px;
            border: 2px solid rgba(30, 30, 30, 0.05);
            background: rgb(0, 173, 246);
            /* Old browsers */
            box-shadow: 2px 0px 4px rgba(0, 0, 0, 0.4);
        }

        #border {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 500px;
            height: 23px;
            margin: auto auto auto auto;
            box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        #text {
            position: absolute;
            top: 8px;
            left: 530px;
            width: 30px;
            height: 50px;
            margin: auto auto auto auto;
            font-size: 22px;
            color: #000000;
        }

        div.outerBorder {
            position: relative;
            top: 400px;
            width: 600px;
            height: 44px;
            margin: auto auto auto auto;
            border: 8px solid rgba(0, 0, 0, 0.1);
            background: rgb(252, 252, 252);
            /* Old browsers */
            background: -moz-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(252, 252, 252, 1)), color-stop(100%, rgba(237, 237, 237, 1)));
            /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* Opera 11.10+ */
            background: -ms-linear-gradient(top, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* IE10+ */
            background: linear-gradient(to bottom, rgba(252, 252, 252, 1) 0%, rgba(237, 237, 237, 1) 100%);
            /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fcfcfc', endColorstr='#ededed', GradientType=0);
            /* IE6-9 */
            border-radius: 72px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }

            {
            % endif %
        }

            {
            % if conf %
        }

        #config {
            float: left;
            width: 400px;
            height: 600px;
        }

            {
            % endif %
        }

            {
            % if tooltip_link %
        }

        /* position absolute is important and the container has to be relative or absolute as well. */
        div.popup {
            position: absolute;
            top: 0px;
            left: 0px;
            display: none;
            background-color: #f5f4ed;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
            border-radius: 3px;
            border: 1px solid #808074;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
        }



        /* hide the original tooltip */


        .vis-tooltip {
            position: absolute;
        }

        #config {
            display: none;

        }

            {
            % endif %
        }

        #custom_wugs {
            height: 90%;
            width: 30%;
            overflow: scroll;
        }

        #custom_wugs>* {
            padding: 1%;
            margin-left: 2%;
        }






        .help-tip {
            position: absolute;
            top: 18px;
            right: 18px;
            text-align: center;
            background-color: #E55B0A;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 26px;
            cursor: default;
        }

        .help-tip:before {
            content: '?';
            font-weight: bold;
            color: #fff;
        }

        .help-tip:hover p {
            display: block;
            transform-origin: 100% 0%;

            -webkit-animation: fadeIn 0.3s ease-in-out;
            animation: fadeIn 0.3s ease-in-out;

        }

        .help-tip p {
            /* The tooltip */
            display: none;
            text-align: left;
            background-color: #1E2021;
            padding: 20px;
            width: 800px;
            position: absolute;
            border-radius: 3px;
            box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
            right: 16px;
            color: #FFF;
            font-size: 13px;
            line-height: 1.4;
        }

        .help-tip p:before {
            /* The pointer of the tooltip */
            position: absolute;
            content: '';
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-bottom-color: #1E2021;
            right: 10px;
            top: -12px;
        }

        .help-tip p:after {
            /* Prevents the tooltip from being hidden */
            width: 100%;
            height: 40px;
            content: '';
            position: absolute;
            top: -40px;
            left: 0;
        }


        /* CSS animation */

        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.6);
            }

            100% {
                opacity: 100%;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 100%;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .loading-icon {
            position: absolute;
            top: 40%;
            left: 30%;
            transform: translate(-50%, -50%);
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid red;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            visibility: hidden;
        }

        #custom_wugs {
            font-size: smaller;
        }

        .shifted {
            margin-left: 3%;
        }

        .bold {
            font-weight: bold;
        }

        #fillSD {
            margin-bottom: 0;
            padding-bottom: 0;
        }

    </style>

</head>

<body>
     <div id="loader" style="display: none"></div>

    <div id="mynetwork"></div>
    
    

    <div id="custom_wugs">



        <div class="help-tip">
            <p><em>General</em><br />
           Firefox is the recommended browser for this application. For large graphs, loading time may vary. This application is under development. Feedback is appreciated. The code, from which you can generate your own graphs, can be found here:  <a href="https://github.com/Garrafao/WUGs/" target="_blank" style="color: white">WUGs repository</a><br /><br /><br />
                <em>Statistics</em><br />
            The statistics section gets updated as the filters are used. For in-depth stats, refer to the stats dropdowns on the bottom.<br /><br /><br />
                <em>Edge & node filters</em><br />
            Edge weights are calculated as the mean of all annotations of the node pair.
            Nodes with noisy data appear black and have -1 as their label. Both the noisy nodes and edges with wrongly calculated weights can be filtered out.
            Edge and node filters are interlinked and should show the desired selection. While one filter is being calculated, the page will prevent you from selecting another filter.<br /><br /><br />
                <em>Annotators filter</em><br />
            The annotators filter resets all other filters and shows the initial graph, but only edges the selected annotators have annotated.</p>
        </div>

        <div class="infoContainer">
            <h4>Info: </h4>
            <div id="clusterInfo"></div>
            <h4>Statistics:</h4>
            <div id="statistics"></div>
            <p id="fillMean">Edge weight mean: </p>
            <p id="fillSD">Edge weight standard deviation: </p>
        </div>
        <div class ="edgeFilterContainer">
            <h4>Edge filters: </h4>

            <label for="checkboxNaN">Show NaN edges </label>
            <input type="checkbox" id="checkboxNaN" onclick="filterNaN()">
            <br><br>
            <div class="slideContainer" style="display: block; clear: both">
                <label for="slider-min" style="display: block">Min weight: <span id="sliderValueDisplayMin" style="display: inline-block">1</span></label>
                <input type="range" min="1" max="4" value="1" class="slider-load" id="slider-min">
                <label for="slider" style="display: block">Max weight: <span id="sliderValueDisplay" style="display: inline-block">4</span></label>
                <input type="range" min="1" max="4" value="4" class="slider-load" id="slider">
            </div>
        </div>




        <div class="nodeFilterContainer">
            <h4>Node filters: </h4>

            <label for="checkboxNoiseLabels">Show noise cluster</label>
            <input type="checkbox" id="checkboxNoiseLabels" onclick="filterNoiseLabels()">
            <br><br>
            <form onsubmit="dateFilter();return false">
                <label for="minPicker">From date: </label>
                <select class="picker" id="minPicker"></select>
                <label for="maxPicker">to date: </label>
                <select class="picker" id="maxPicker"></select>
                <input type="submit" value="Filter">
            </form>

            <label for="groupPicker">Grouping: </label>
            <select  class="select-load" id="groupPicker">
                <option>All</option>
                <option>1</option>
                <option>2</option>
            </select>
            <div class="loading-icon"></div>
        </div>

        <div id="annotatorsContainer"></div>

        <div class="detailsContainer">
            <details id="stats">
                <summary class="bold">Stats</summary>
                <table id="stats-table"></table>
            </details>
            <details id="statsGroupings">
                <summary class="bold">Grouping stats</summary>
                <table id="stats-groupings-table"></table>
            </details>
            <details id="statsAgreement">
                <summary class="bold">Agreement stats</summary>
                <table id="stats-agreement-table"></table>
            </details>
            <details id="statsPlotting">
                <summary class="bold">Plotting stats</summary>
                <table id="stats-plotting-table"></table>
            </details>
            <details id="statsDataJoint">
                <summary class="bold">Annotator data</summary>
            </details>
        </div>

    </div>

    <div id="config">

    </div>

    
     <!--<script type="text/javascript" src="../stats.js"></script>
     <script type="text/javascript" src="../stats_agreement.js"></script>
     <script type="text/javascript" src="../stats_groupings.js"></script>
     <script type="text/javascript" src="../stats_plotting.js"></script>
     <script type="text/javascript" src="../data_joint.js"></script>-->

    <script type="text/javascript">
        // initialize global variables.
        var edges;
        var nodes;
        var network;
        var container;
        var options, data;


        // This method is responsible for drawing the graph, returns the drawn network
        function drawGraph() {
            var container = document.getElementById('mynetwork');

            

            // parsing and collecting nodes and edges from the python
            nodes = new vis.DataSet([{"color": "#377eb8", "date": "1929", "id": "1929-1965_horisont_199", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eFor \u00e5 holde riktig kurs m\u00e5tte jeg m\u00e5le solh\u00f8yden over\u003cbr\u003e\u003cb\u003ehorisonten\u003c/b\u003e ved middag for \u00e5 f\u00e5 vite hvilken breddegrad vi var\u003cbr\u003ep\u00e5, og om formiddag eller ettermiddag for \u00e5 regne ut hvilken\u003cbr\u003elengdegrad vest for Greenwich vi hadde n\u00e5dd. Til det trengte vi ogs\u00e5 \u00e5\u003cbr\u003evite hva tiden var i Greenwich, og den fikk vi ved v\u00e5re gode\u003cbr\u003elommeur.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_199\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 515.3165260065813, "y": 682.8647454265245}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_horisont_177", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eHvem f\u00f8lte s\u00e5 vilt som de driften mot jorden de kom fra og\u003cbr\u003eh\u00e5pet de \u00e5ndet i? Den som seilte i \u00f8det, dr\u00f8mte seg hjemmet naer: \u00f8mt\u003cbr\u003esom str\u00f8k han en kvinne r\u00f8rte han stein og traer. Den som har f\u00f8lt\u003cbr\u003e\u003cb\u003ehorisontens\u003c/b\u003e evig vikende krets, har fattet frihetens vesen:\u003cbr\u003ealdri \u00e5 bli tilfreds, men alltid flytte dens grenser videre ut\u003cbr\u003eetsteds. Skjendet av vold stiger landet m\u00f8rkt av brenningens\u003cbr\u003ebrem.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_177\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 408.745000657184, "y": 981.1644444201686}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_horisont_231", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eGud Fader utstrekker sin almektige finger henimot den sovende\u003cbr\u003eAdam, som i samme \u00f8ieblikk v\u00e5kner av s\u00f8vnens urdyp til en dump,\u003cbr\u003ebarnslig undren. Usikkert famlende hever Adam sin hand op mot Guds\u003cbr\u003ebefalende finger. Mellemrummet mellem de to fingre \u2014 Guds og\u003cbr\u003emenneskets \u2014 er kun ringe, bare en fingers bredde, og idet den\u003cbr\u003eguddommelige fylde str\u00f8mmer Adam im\u00f8te, synes den guddommelige\u003cbr\u003eskaperakt og den raenneskelig-religi\u00f8se gjenstandsakt \u00e5 flyte sammen i\u003cbr\u003e\u00e9t. Guds kaldelse og det menneskelige gjensvar, Guds kjaerlighet og\u003cbr\u003eden menneskelige gjenkjaerlighet danner likesom et \u00fcbrutt hele. Og i\u003cbr\u003edet inntrykk, hvorved Adam v\u00e5kner til bevissthet om Gud, er eros og\u003cbr\u003elogos \u2014 undren og kjaerlighet \u2014 sammensmeltet i en og samme\u003cbr\u003esjelsr\u00f8relse, den uraffekt, hvori religionen har sin grunn. Enhver\u003cbr\u003eundren hos barnet, hvori en hengivenhet, om enn noks\u00e5 dump, \u00e5penbarer\u003cbr\u003esig, er en \u00e5ndelig opv\u00e5knen av lignende art. I den stiger alltid nogle\u003cbr\u003estr\u00e5ler av \u00e5nderis sol op over \u003cb\u003ehorisonten\u003c/b\u003e og bebuder den\u003cbr\u003ekommende sol opgang.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_231\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 485.7746467491514, "y": 490.1138753664604}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_horisont_32", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eSolen skinnet ute p\u00e5 isen. Kl. 11. 15 var vi ved skuten, med\u003cbr\u003eutkj\u00f8rt distanse 19 kilometer, og turen var tilende. I\u0027snne\u00dfen og\u003cbr\u003eKnudsen hadde under turen tatt alle n\u00f8dvendige stedsobservasjoner med\u003cbr\u003esekstant og kunstig \u003cb\u003ehorisont\u003c/b\u003e. Dessuten hadde Knudsen s\u00e5vel p\u00e5\u003cbr\u003eAlekseis som p\u00e5 den nye 0 tatt magnetiske observasjoner.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_32\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 535.7946233546066, "y": 70.44114688631518}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_horisont_299", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet lot til at ogs\u00e5 mannskapet hadde en f\u00f8lelse av at han nu\u003cbr\u003eikke var god \u00e5 komme naer; for de skydde stilltiende den side av den\u003cbr\u003esnevre dekksplass forut, hvor han gikk. 26 \u2014Lie I I oljeklaer og\u003cbr\u003eskinnhyrer, som de hadde itrukket i anledning av vaerutsiktene, stod\u003cbr\u003ede i flokk ved spillet og snakket sammen med betenkelige \u00f8yekast opp\u003cbr\u003emot riggen og ut imot skybankene, som rullet m\u00f8rke i \u003cb\u003ehorisonten\u003c/b\u003e\u003cbr\u003etil luvart og alt begynte med drivskyet luft \u00e5 sende hvin gjennom den\u003cbr\u003egamle takkelasje.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_299\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 742.0329544881697, "y": 402.29009184911234}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_horisont_88", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eP\u00e5 skr\u00e5 mot \u003cb\u003ehorisonten\u003c/b\u003e oprant Sydkorset, og\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_88\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 255.65438043282407, "y": 746.4158855409925}, {"color": "#377eb8", "date": "1929", "id": "1929-1965_horisont_215", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDa m\u00e5 jeg riktig tilst\u00e5 mitt hjerte stod i brand, n\u00e5r Norge det\u003cbr\u003egikk under i \u003cb\u003ehorisontens\u003c/b\u003e rand. Han legger trekkspillet fra sig,\u003cbr\u003esier til Alf: No kan du vel h\u00f8re at han tramper igjen der oppe?\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_215\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 57.86352821435756, "y": 1037.5409593462384}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_horisont_14", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI mitt nett jeg tar det hele med lar det synke i min stillhet\u003cbr\u003ened, l\u00f8fter det igjen og gir det stemme, til det i sin evighet er\u003cbr\u003ehjemme. Barn du var, jeg lekte blidt med dig i stranden. Solen stod og\u003cbr\u003estekte p\u00e5 den hvite sanden, havet gikk og sang dagen lang, f\u00f8rte\u003cbr\u003edr\u00f8mmen gjennem sus og sildring ut mot \u003cb\u003ehorisontens\u003c/b\u003e hildring. Du\u003cbr\u003eblev mann, jeg bar dig over 180 alle verdenshave, gav dig land i gave,\u003cbr\u003egav dig rikdom, makt og aere og en visdoms laere:\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_14\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 140.5360608830657, "y": 5.990028225011484}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_horisont_120", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eI global m\u00e5lestokk og i de underutviklede land er det kansje\u003cbr\u003eikke f\u00f8rst og fremst forurensningsproblemene som er de mest\u003cbr\u003epresserende. Den m\u00f8rkeste sky i \u003cb\u003ehorisonten\u003c/b\u003e synes \u00e5 vaere\u003cbr\u003everdens aksellererende befolknings\u00f8king sammen med det faktum at\u003cbr\u003eutnyttelsen av solens energiressurser og dermed matvareproduksjonen\u003cbr\u003eikke makter \u00e5 holde f\u00f8lge. Idag blir stadig flere mennesker\u003cbr\u003eoppmerksomme p\u00e5 de mange farer som ligger i en ensidig streben etter\u003cbr\u003e\u00f8kte materielle goder.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_120\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1.4997420610329013, "y": 734.033061105061}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_horisont_205", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e- Du var nok streng, ja. Men s\u00e5 hadde du dette med alle\u003cbr\u003ehistoriene som myket opp timene - og alle vitsene.. - Husker dere de\u003cbr\u003estundene om morgenen, i nullte time for eksempel, sier han\u003cbr\u003einntrengende og ser de to jentene \u00absine\u00bb dypt inn i \u00f8ynene.\u003cbr\u003eForventningsfullt stirrer de tilbake... da vi slokte lyset i\u003cbr\u003eklassevaerelset og satt stille og bare kikket p\u00e5 hvordan en ildr\u00f8d\u003cbr\u003esolkule langsomt steg opp bak \u003cb\u003ehorisonten\u003c/b\u003e over \u00d8stheim.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_205\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 196.80642994295314, "y": 474.79805258732915}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_horisont_168", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eBare m\u00e5linger hvor solen st\u00e5r h\u00f8yere enn 5 grader over\u003cbr\u003e\u003cb\u003ehorisonten\u003c/b\u003e er tatt med. M\u00e5lingene med GUVSII startet 18.\u003cbr\u003eseptember 1992. Figur 15 viser dose-raten av UV-str\u00e5lingen ved lokal\u003cbr\u003emiddag fra 18. september til 31. desember 1992.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_168\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 278.1632962876132, "y": 213.53425392100823}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_horisont_3", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eAntall dager da solsentret er under \u003cb\u003ehorisonten\u003c/b\u003e\u003cbr\u003e(m\u00f8rketid) er for Alta 56 dager og for Hammerfest 61 dager.\u003cbr\u003eUnders\u00f8kelser viser at 4 prosent av befolkningen i Finnmark oppgir\u003cbr\u003eklima som en potensiell flyttegrunn, men ogs\u00e5 her finnes regionale\u003cbr\u003eforskjeller idet fiskerikommunene M\u00e5s\u00f8y, Gamvik og Vard\u00f8 har et\u003cbr\u003eprosentall p\u00e5 ca. 10. 8.4.4. Familiestruktur\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_3\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -55.529231157322165, "y": 528.5693142606782}, {"color": "#377eb8", "date": "1970", "id": "1970-2015_horisont_56", "label": "0", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eVed Vard\u00f8hus festning er det fast tradisjon at festningen\u003cbr\u003ehilser solen velkommen tilbake ved saluttering n\u00e5r den viser seg for\u003cbr\u003ef\u00f8rste gang over \u003cb\u003ehorisonten\u003c/b\u003e etter \u00e5 ha vaert borte i to\u003cbr\u003em\u00e5neder. Kulturtilbud som faller inn under den andre hovedkategorien\u003cbr\u003eer arrangementer som:\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_56\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -80.56809123173961, "y": 330.1793472289582}, {"color": "#4daf4a", "date": "1929", "id": "1929-1965_horisont_137", "label": "2", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDerimot er hde lagpakken granitt-(trondtijemitt)\u00e5njisert opp\u003cbr\u003etil en \u003cb\u003ehorisont\u003c/b\u003e av sedimentaer jernmalm, noe over\u003cbr\u003eMelkedalskalken.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_137\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1348.553727948117, "y": -749.9177431663124}, {"color": "#4daf4a", "date": "1929", "id": "1929-1965_horisont_133", "label": "2", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eJeg har pr\u00f8vd \u00e5 f\u00f8lge den malmf\u00f8rende \u003cb\u003ehorisont\u003c/b\u003e mellom de\u003cbr\u003eto forekomster, men det er ikke lyktes.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_133\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 1881.860926030669, "y": -844.7764335221677}, {"color": "#4daf4a", "date": "1929", "id": "1929-1965_horisont_172", "label": "2", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDen fossilf\u00f8rende serie ved Pantdalselven blir \u00e5 betrakte som\u003cbr\u003eden yngste stratigrafiske \u003cb\u003ehorisont\u003c/b\u003e som er p\u00e5vist i\u003cbr\u003eomr\u00e5det.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_172\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": 528.0953463997927, "y": -844.8835260648419}, {"color": "#f781bf", "date": "1929", "id": "1929-1965_horisont_9", "label": "3", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eDet var stykkets ideer mer enn dets personer, lengselen etter\u003cbr\u003enye \u003cb\u003ehorisonter\u003c/b\u003e mer enn psykologi og stemning som fylte\u003cbr\u003etilskuernes sinn. Men det geniale, det livets lys og skygge som\u003cbr\u003eprestescenene bringer inn, det forsto de, selv om jeg ikke t\u00f8r p\u00e5st\u00e5\u003cbr\u003eat det fylte alle med den beundring, den \u00f8ye\u00e5pnende koldhet som grep\u003cbr\u003emeg. Tale for Ibsen.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1929\u003cbr\u003egrouping: 1929-1965\u003cbr\u003eidentifier: 1929-1965_horisont_9\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1567.9332256880339, "y": 343.8326968542746}, {"color": "#ff7f00", "date": "1970", "id": "1970-2015_horisont_210", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eFor det f\u00f8rste vil en lengre \u003cb\u003ehorisont\u003c/b\u003e i\u003cbr\u003eressursforvaltningen, basert p\u00e5 fler\u00e5rige forvaltnings- og\u003cbr\u003egjenoppbyggingsplaner, vaere viktige i forhold til \u00e5 anskueliggj\u00f8re\u003cbr\u003elangsiktige konsekvenser av dagens beslutninger.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_210\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1042.3059150740846, "y": -977.3634917810529}, {"color": "#ff7f00", "date": "1970", "id": "1970-2015_horisont_87", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eFor gruppen med lengst \u003cb\u003ehorisont\u003c/b\u003e m\u00e5 det forutsettes et\u003cbr\u003enoe h\u00f8yere avkastningskrav.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_87\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -716.0375838478174, "y": -1431.7604565935856}, {"color": "#ff7f00", "date": "1970", "id": "1970-2015_horisont_44", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eMed den angitte tidshorisont for grunnforskning, og tilsvarende\u003cbr\u003e\u003cb\u003ehorisonter\u003c/b\u003e p\u00e5 anslagsvis 5 \u00e5r for anvendt forskning og 2-3 \u00e5r\u003cbr\u003efor produktutvikling, kan sp\u00f8rsm\u00e5let reises om landsdelen har\u003cbr\u003ebedrifter som har kapital styrke til \u00e5 baere FoU-arbeid som ikke\u003cbr\u003eumiddelbart er profittskapende.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_44\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -1215.6714524990145, "y": -485.73929386565203}, {"color": "#ff7f00", "date": "1970", "id": "1970-2015_horisont_74", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eLangsether har ikke data til ?? gj??re betraktninger over\u003cbr\u003emottatte overf??ringer over hele livsl??pet, og om det skjer st??rre\u003cbr\u003egrad av utjevning n??r \u003cb\u003ehorisonten\u003c/b\u003e ??kes fra fem ??r til hele\u003cbr\u003elivet.\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_74\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -698.6516899581197, "y": -763.9651981428726}, {"color": "#ff7f00", "date": "1970", "id": "1970-2015_horisont_28", "label": "1", "physics": false, "shape": "circle", "size": 10, "title": "\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003eUng \u003cb\u003ehorisont\u003c/b\u003e : organ for Kristiansund Unge H\u00f8yre Ung i\u003cbr\u003eAkershus Ung i Oslo Ungdommens fremskritt Ungdommens stemme : organ\u003cbr\u003efor And\u00f8ya arbeidernes ungdomsfylking 329.1 Nordland Sosialistiske]\u003cbr\u003eFfolkeparti] SF-nytt : organ for Sosialistisk 329.1 329.1 folkeparti i\u003cbr\u003eRaelingen og Skedsmo 329.1 Sigden Signal : organ for Folkepartiets\u003cbr\u003e329.1 329.1 329.1 ungdom p\u00e5 Universitetet\u003cspan style=\"color:#808080;\"\u003e\u003c/span\u003e\u003cp style=\"font-size:8px;\"\u003e\u003cbr\u003edate: 1970\u003cbr\u003egrouping: 1970-2015\u003cbr\u003eidentifier: 1970-2015_horisont_28\u003cbr\u003etype: usage\u003cbr\u003epos: NN\u003c/p\u003e", "x": -2000.0, "y": -943.3617598816525}]);
        edges = new vis.DataSet([{"color": "black", "from": "1929-1965_horisont_199", "label": "4/-/-", "to": "1929-1965_horisont_88", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "4/4/-", "to": "1929-1965_horisont_215", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "4/4/-", "to": "1970-2015_horisont_168", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "4/4/-", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "4/-/4", "to": "1970-2015_horisont_3", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "-/4/4", "to": "1970-2015_horisont_205", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "-/4/4", "to": "1929-1965_horisont_32", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "-/4/4", "to": "1970-2015_horisont_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "-/-/4", "to": "1929-1965_horisont_177", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "-/-/4", "to": "1929-1965_horisont_299", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "-/-/4", "to": "1970-2015_horisont_14", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_199", "label": "-/-/4", "to": "1929-1965_horisont_231", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_177", "label": "0/3/-", "to": "1929-1965_horisont_32", "weight": 3.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_177", "label": "4/-/-", "to": "1929-1965_horisont_88", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_177", "label": "4/-/-", "to": "1970-2015_horisont_205", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_177", "label": "4/3/-", "to": "1929-1965_horisont_231", "weight": 3.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_177", "label": "3/4/-", "to": "1970-2015_horisont_120", "weight": 3.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_177", "label": "4/-/-", "to": "1929-1965_horisont_215", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_177", "label": "-/4/-", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_177", "label": "-/4/-", "to": "1929-1965_horisont_299", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_177", "label": "-/-/4", "to": "1970-2015_horisont_3", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_137", "label": "2/3/-", "to": "1970-2015_horisont_120", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_137", "label": "0/3/-", "to": "1929-1965_horisont_32", "weight": 3.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_137", "label": "4/-/-", "to": "1929-1965_horisont_133", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_137", "label": "-/3/4", "to": "1929-1965_horisont_172", "weight": 3.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_137", "label": "-/3/-", "to": "1970-2015_horisont_168", "weight": 3.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_9", "label": "4/3/-", "to": "1970-2015_horisont_44", "weight": 3.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_9", "label": "3/2/-", "to": "1929-1965_horisont_215", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_9", "label": "3/-/-", "to": "1970-2015_horisont_56", "weight": 3.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_9", "label": "4/-/1", "to": "1970-2015_horisont_210", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_231", "label": "4/4/4", "to": "1970-2015_horisont_205", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_231", "label": "4/4/0", "to": "1929-1965_horisont_215", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_231", "label": "2/3/-", "to": "1929-1965_horisont_172", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_231", "label": "4/4/-", "to": "1929-1965_horisont_299", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_231", "label": "-/4/4", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_231", "label": "-/4/4", "to": "1929-1965_horisont_88", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_231", "label": "-/4/-", "to": "1970-2015_horisont_168", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_231", "label": "-/-/4", "to": "1970-2015_horisont_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_231", "label": "-/-/4", "to": "1970-2015_horisont_14", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_133", "label": "2/3/-", "to": "1970-2015_horisont_168", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_133", "label": "-/1/4", "to": "1929-1965_horisont_172", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_172", "label": "-/3/-", "to": "1970-2015_horisont_87", "weight": 3.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_172", "label": "-/-/4", "to": "1970-2015_horisont_14", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_32", "label": "0/3/-", "to": "1970-2015_horisont_120", "weight": 3.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_32", "label": "0/4/-", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_32", "label": "0/-/4", "to": "1929-1965_horisont_299", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_32", "label": "0/-/4", "to": "1970-2015_horisont_3", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_32", "label": "-/4/-", "to": "1970-2015_horisont_168", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_32", "label": "-/4/4", "to": "1970-2015_horisont_205", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_32", "label": "-/3/4", "to": "1929-1965_horisont_88", "weight": 3.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_299", "label": "4/-/1", "to": "1929-1965_horisont_215", "weight": 2.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_299", "label": "3/4/-", "to": "1970-2015_horisont_120", "weight": 3.5, "width": 4}, {"color": "black", "from": "1929-1965_horisont_299", "label": "4/-/4", "to": "1970-2015_horisont_205", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_299", "label": "-/4/4", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_299", "label": "-/-/4", "to": "1970-2015_horisont_168", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_299", "label": "-/-/4", "to": "1970-2015_horisont_14", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_88", "label": "4/4/-", "to": "1929-1965_horisont_215", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_88", "label": "4/4/-", "to": "1970-2015_horisont_14", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_88", "label": "4/4/-", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_88", "label": "4/4/-", "to": "1970-2015_horisont_205", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_88", "label": "4/4/4", "to": "1970-2015_horisont_168", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_88", "label": "-/4/-", "to": "1970-2015_horisont_3", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_88", "label": "-/4/4", "to": "1970-2015_horisont_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_215", "label": "3/-/0", "to": "1970-2015_horisont_120", "weight": 3.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_215", "label": "4/-/-", "to": "1970-2015_horisont_205", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_215", "label": "4/4/-", "to": "1970-2015_horisont_168", "weight": 4.0, "width": 4}, {"color": "black", "from": "1929-1965_horisont_215", "label": "-/4/0", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_14", "label": "3/-/-", "to": "1970-2015_horisont_44", "weight": 3.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_14", "label": "3/-/-", "to": "1970-2015_horisont_210", "weight": 3.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_14", "label": "4/4/4", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_14", "label": "4/-/-", "to": "1970-2015_horisont_3", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_14", "label": "-/4/-", "to": "1970-2015_horisont_120", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_14", "label": "-/4/4", "to": "1970-2015_horisont_205", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_14", "label": "-/-/4", "to": "1970-2015_horisont_168", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_120", "label": "3/4/4", "to": "1970-2015_horisont_168", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_120", "label": "3/-/-", "to": "1970-2015_horisont_56", "weight": 3.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_120", "label": "4/1/-", "to": "1970-2015_horisont_210", "weight": 2.5, "width": 4}, {"color": "black", "from": "1970-2015_horisont_120", "label": "-/4/-", "to": "1970-2015_horisont_205", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_120", "label": "-/-/4", "to": "1970-2015_horisont_3", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_205", "label": "3/-/-", "to": "1970-2015_horisont_74", "weight": 3.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_205", "label": "4/-/-", "to": "1970-2015_horisont_168", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_205", "label": "4/-/4", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_205", "label": "4/4/4", "to": "1970-2015_horisont_3", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_210", "label": "4/4/4", "to": "1970-2015_horisont_44", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_210", "label": "4/4/4", "to": "1970-2015_horisont_87", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_210", "label": "-/-/4", "to": "1970-2015_horisont_74", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_168", "label": "3/-/-", "to": "1970-2015_horisont_44", "weight": 3.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_168", "label": "3/-/-", "to": "1970-2015_horisont_74", "weight": 3.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_168", "label": "-/4/-", "to": "1970-2015_horisont_3", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_168", "label": "-/-/4", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_87", "label": "4/-/1", "to": "1970-2015_horisont_28", "weight": 2.5, "width": 4}, {"color": "black", "from": "1970-2015_horisont_87", "label": "4/-/4", "to": "1970-2015_horisont_74", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_44", "label": "3/-/-", "to": "1970-2015_horisont_56", "weight": 3.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_44", "label": "-/4/-", "to": "1970-2015_horisont_28", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_44", "label": "-/4/-", "to": "1970-2015_horisont_74", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_3", "label": "-/-/4", "to": "1970-2015_horisont_56", "weight": 4.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_56", "label": "3/-/-", "to": "1970-2015_horisont_74", "weight": 3.0, "width": 4}, {"color": "black", "from": "1970-2015_horisont_74", "label": "4/-/1", "to": "1970-2015_horisont_28", "weight": 2.5, "width": 4}, {"color": "lightgray", "from": "1929-1965_horisont_199", "label": "2/-/-", "to": "1929-1965_horisont_172", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_199", "label": "3/1/1", "to": "1929-1965_horisont_9", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_199", "label": "3/1/-", "to": "1970-2015_horisont_87", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_199", "label": "-/1/1", "to": "1929-1965_horisont_133", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_199", "label": "-/3/1", "to": "1929-1965_horisont_137", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_199", "label": "-/0/1", "to": "1970-2015_horisont_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_199", "label": "-/1/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_199", "label": "-/3/1", "to": "1970-2015_horisont_74", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_199", "label": "-/1/-", "to": "1970-2015_horisont_210", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_177", "label": "3/-/1", "to": "1970-2015_horisont_44", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_177", "label": "3/-/1", "to": "1970-2015_horisont_87", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_177", "label": "3/-/1", "to": "1970-2015_horisont_74", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_177", "label": "3/-/1", "to": "1929-1965_horisont_9", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_177", "label": "-/3/1", "to": "1929-1965_horisont_133", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_177", "label": "-/3/1", "to": "1929-1965_horisont_172", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_177", "label": "-/-/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "2/1/-", "to": "1929-1965_horisont_9", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "2/0/1", "to": "1970-2015_horisont_210", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "2/-/1", "to": "1970-2015_horisont_14", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "2/-/1", "to": "1970-2015_horisont_56", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "2/-/-", "to": "1970-2015_horisont_3", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "2/-/1", "to": "1970-2015_horisont_44", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "2/3/1", "to": "1929-1965_horisont_88", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "-/1/1", "to": "1970-2015_horisont_87", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "-/1/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_137", "label": "-/0/1", "to": "1929-1965_horisont_231", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "3/2/1", "to": "1970-2015_horisont_205", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "2/1/-", "to": "1929-1965_horisont_172", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "3/1/-", "to": "1929-1965_horisont_88", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "2/1/1", "to": "1929-1965_horisont_32", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "-/1/1", "to": "1929-1965_horisont_133", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "-/2/1", "to": "1929-1965_horisont_231", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "-/3/1", "to": "1970-2015_horisont_120", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "-/2/1", "to": "1929-1965_horisont_299", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "-/-/1", "to": "1970-2015_horisont_168", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "-/-/1", "to": "1970-2015_horisont_3", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "-/-/1", "to": "1970-2015_horisont_74", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "-/-/1", "to": "1970-2015_horisont_87", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_9", "label": "-/-/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_231", "label": "3/-/1", "to": "1970-2015_horisont_44", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_231", "label": "3/1/1", "to": "1970-2015_horisont_74", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_231", "label": "3/2/1", "to": "1970-2015_horisont_87", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_231", "label": "2/2/1", "to": "1929-1965_horisont_133", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_231", "label": "-/-/1", "to": "1970-2015_horisont_210", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_231", "label": "-/-/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "2/3/1", "to": "1970-2015_horisont_205", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "2/-/1", "to": "1970-2015_horisont_14", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "2/1/-", "to": "1970-2015_horisont_74", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "2/-/1", "to": "1929-1965_horisont_88", "weight": 1.5, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "-/1/-", "to": "1970-2015_horisont_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "-/3/1", "to": "1970-2015_horisont_3", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "-/3/1", "to": "1970-2015_horisont_120", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "-/-/1", "to": "1970-2015_horisont_210", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "-/-/1", "to": "1929-1965_horisont_32", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_172", "label": "2/3/1", "to": "1929-1965_horisont_299", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_172", "label": "2/1/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_172", "label": "2/1/1", "to": "1970-2015_horisont_168", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_172", "label": "-/2/-", "to": "1970-2015_horisont_205", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_172", "label": "-/3/1", "to": "1970-2015_horisont_3", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_172", "label": "-/2/-", "to": "1970-2015_horisont_210", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_172", "label": "-/1/1", "to": "1970-2015_horisont_74", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_172", "label": "-/2/-", "to": "1929-1965_horisont_88", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_172", "label": "-/-/1", "to": "1970-2015_horisont_56", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_32", "label": "0/-/1", "to": "1970-2015_horisont_74", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_32", "label": "0/1/1", "to": "1970-2015_horisont_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_32", "label": "3/1/-", "to": "1970-2015_horisont_210", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_32", "label": "-/1/-", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_299", "label": "-/1/-", "to": "1970-2015_horisont_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_299", "label": "-/-/1", "to": "1970-2015_horisont_87", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_299", "label": "-/-/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_88", "label": "3/-/1", "to": "1970-2015_horisont_210", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_88", "label": "3/1/1", "to": "1970-2015_horisont_74", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_88", "label": "-/1/-", "to": "1970-2015_horisont_87", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_88", "label": "-/1/1", "to": "1970-2015_horisont_44", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_88", "label": "-/1/-", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_215", "label": "3/1/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_215", "label": "-/1/-", "to": "1970-2015_horisont_87", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_215", "label": "-/1/1", "to": "1970-2015_horisont_210", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_14", "label": "-/2/-", "to": "1970-2015_horisont_74", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_14", "label": "-/-/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_120", "label": "-/1/-", "to": "1970-2015_horisont_87", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_120", "label": "-/1/-", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_120", "label": "-/-/1", "to": "1970-2015_horisont_74", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_205", "label": "3/-/1", "to": "1970-2015_horisont_44", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_205", "label": "3/-/1", "to": "1970-2015_horisont_28", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_210", "label": "3/1/1", "to": "1970-2015_horisont_3", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_210", "label": "4/2/1", "to": "1970-2015_horisont_28", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_210", "label": "-/1/1", "to": "1970-2015_horisont_168", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_210", "label": "-/-/1", "to": "1970-2015_horisont_56", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_168", "label": "-/1/1", "to": "1970-2015_horisont_87", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_87", "label": "3/1/-", "to": "1970-2015_horisont_56", "weight": 2.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_3", "label": "-/1/1", "to": "1970-2015_horisont_74", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_3", "label": "-/-/1", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1970-2015_horisont_56", "label": "-/1/-", "to": "1970-2015_horisont_28", "weight": 1.0, "width": 2}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "-/0/-", "to": "1970-2015_horisont_87", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_horisont_133", "label": "-/-/0", "to": "1929-1965_horisont_215", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_horisont_32", "label": "0/-/-", "to": "1929-1965_horisont_215", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_horisont_32", "label": "0/-/-", "to": "1970-2015_horisont_87", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_horisont_215", "label": "-/0/-", "to": "1970-2015_horisont_14", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_horisont_215", "label": "-/-/0", "to": "1970-2015_horisont_44", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1929-1965_horisont_215", "label": "-/-/0", "to": "1970-2015_horisont_74", "weight": NaN, "width": 1.0}, {"color": "lightgray", "from": "1970-2015_horisont_168", "label": "-/0/-", "to": "1970-2015_horisont_28", "weight": NaN, "width": 1.0}]);

        // adding nodes and edges to the graph
        data = { nodes: nodes, edges: edges };

        var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "nodes",
            "edges"
        ]
    },
    "edges": {
        "color": {
            "inherit": false
        },
        "smooth": {
            "enabled": false,
            "type": "continuous"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": false,
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

        

        
        // if this network requires displaying the configure window,
        // put it in its div
        options.configure["container"] = document.getElementById("config");
        

        network = new vis.Network(container, data, options);

        


        

        return network;

    }

        drawGraph();


        let nodesInTimePeriod = new Set();
        let edgesInTimePeriod = new Set();
        let edgesBelowWeight = new Set();
        let nodesInGrouping = new Set();
        let edgesInGrouping = new Set();
        let edgesToBeShown = new Set();
        let nodesToBeShown = new Set();

        edges.forEach(function (edge) {
            edgesBelowWeight.add(edge.id);
            edgesInGrouping.add(edge.id);
            edgesInTimePeriod.add(edge.id);
            edgesToBeShown.add(edge.id);
        })

        nodes.forEach(function (node) {
            nodesInTimePeriod.add(node.id);
            nodesInGrouping.add(node.id);
            nodesToBeShown.add(node.id);
        })


        function showEdges() {
            edgesToBeShown.forEach(function (edge) {
                edge.hidden = false;
                edges.update(edge);
            })
        }

        //Missing the loading icon
        //slider code from pyvis filter example
        // Handler event when slider changes

        let slider = document.getElementById('slider');
        let sliderMin = document.getElementById('slider-min');
        let sliderDisplay = document.getElementById('sliderValueDisplay');
        let sliderMinDisplay = document.getElementById('sliderValueDisplayMin');

        sliderDisplay.innerHTML = "4";
        sliderMinDisplay.innerHTML = "1";

        function weightFilter() {
            console.log("weight filter got called");
            // Get the value of the slider
            let sliderValue = slider.value;
            let sliderMinValue = sliderMin.value;

            // Display the selected value next to slider
            sliderDisplay.innerHTML = sliderValue;
            sliderMinDisplay.innerHTML = sliderMinValue;

            // Loop through the edges
            edges.forEach(function (edge) {
                // Check if the edge should be displayed based on its weight
                if (edge.weight <= sliderValue && edge.weight >= sliderMinValue) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        edgesBelowWeight.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    }
                    // Edge should be displayed
                    // Unhide edge if it's hidden and update DataSet

                } else if (isNaN(edge.weight)) {
                    //console.log("its NaN")
                } else {

                    // Edge should not be displayed
                    // Hide edge if not already hidden and update DataSet
                    if (!edge.hidden) {
                        edgesBelowWeight.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }
                }
            });


            calcMean();
        }



        //code for node date filter
        let dates = [];
        nodes.forEach(function (node) {
            date = node.date;
            if (!dates.includes(date)) {
                dates.push(date);
            }
        });
        dates.sort();


        //code for date slider
        let minDate = 10000;
        let maxDate = 0;

        let minPicker = document.getElementById('minPicker');
        let maxPicker = document.getElementById('maxPicker');

        if (!minPicker.hasChildNodes()) {
            dates.forEach(function (date) {
                if (Number(date) < minDate) {
                    minDate = Number(date);
                }
                if (Number(date) > maxDate) {
                    maxDate = Number(date);
                }


                let option = document.createElement('option');
                option.text = date;
                option.value = date;

                let option2 = document.createElement('option');
                option2.text = date;
                option2.value = date;

                minPicker.append(option);
                maxPicker.append(option2);

            })
        } else {
            minDate = Number(dates[0]);
            maxDate = Number(dates[dates.length-1]);
        }
        maxPicker.selectedIndex = dates.length - 1;



        function showSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'visible';
                resolve();
            });
        }

        function hideSelectLoad() {
            return new Promise(function (resolve) {
                loadingIcon.style.visibility = 'hidden';
                resolve();
            });
        }



        const loadingIcon = document.querySelector('.loading-icon');
        const select = document.querySelector('.select-load');

        select.addEventListener('change', function () {
            showSelectLoad();
            setTimeout(selectGroup, 1000);


            setTimeout(hideSelectLoad, 1000);


        });

        //const slider_load = document.querySelector('.slider-load');

         slider.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

         sliderMin.addEventListener('change', function() {
            showSelectLoad();
            setTimeout(weightFilter,1000);


            setTimeout(hideSelectLoad, 1000);


        });

        let groupPicker = document.getElementById('groupPicker');
        groupPicker.selectedIndex = 0;
        let minValue = minPicker.value;
        let maxValue = maxPicker.value;

        function selectGroup() {
            return new Promise(function (resolve, reject) {
                let selectValue = document.getElementById('groupPicker').value;

                console.log("grouping value: " + selectValue);

                if (selectValue == 1) {
                    nodes.forEach(function (node) {


                        if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else if (selectValue == 2) {
                    nodes.forEach(function (node) {
                        if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                } else {
                    nodes.forEach(function (node) {
                        if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                            node.hidden = false;
                            nodes.update(node);
                        } else {
                            node.hidden = true;
                            nodes.update(node);
                        }
                    })
                }
                loadingIcon.style.visibility = 'hidden';

                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        if (showNaNEdges && !nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {

                            edge.hidden = false;
                            edges.update(edge);
                        } else {
                            edge.hidden = true;
                            edge.hidden = true;
                            edges.update(edge);
                        }
                    } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && !isNaN(edge.weight)) {
                        edgesInGrouping.add(edge.id);
                        edge.hidden = false;
                        edges.update(edge);
                    } else {
                        edgesInGrouping.delete(edge.id);
                        edge.hidden = true;
                        edges.update(edge);
                    }


                })
                loadingIcon.style.visibility = 'hidden';
                calcMean();
                updateClusterDistribution();
                resolve();
            });

        }

        function dateFilter() {
            showSelectLoad();
            setTimeout(pickDates, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function pickDates() {
            loadingIcon.style.visibility = 'visible';

            let selectValue = document.getElementById('groupPicker').value;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            //console.log("showing dates between " + minValue + " and " + maxValue);

            if (selectValue == 1) {
                nodes.forEach(function (node) {


                    if (node.title.includes("grouping: 1") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else if (selectValue == 2) {
                nodes.forEach(function (node) {
                    if (node.title.includes("grouping: 2") && Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            } else {
                nodes.forEach(function (node) {
                    if (Number(node.date) >= Number(minValue) && Number(node.date) <= Number(maxValue) && (Number(node.label) !== -1 || (Number(node.label) == -1 && showNoiseLabels))) {
                        node.hidden = false;
                        nodes.update(node);
                    } else {
                        node.hidden = true;
                        nodes.update(node);
                    }
                })
            }

            edges.forEach(function (edge) {


                if (isNaN(edge.weight) && !showNaNEdges) {

                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && isNaN(edge.weight)){
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden && edge.weight >= sliderMin.value && edge.weight <= slider.value) {
                    edgesInTimePeriod.add(edge.id);
                    edge.hidden = false;
                    edges.update(edge);
                } else {
                    edgesInTimePeriod.delete(edge.id);
                    edge.hidden = true;
                    edges.update(edge);
                }


            })
            loadingIcon.style.visibility = 'hidden'


            calcMean();
            updateClusterDistribution();

        }

        let showNaNEdges = true;

        function filterNaN() {
            showSelectLoad();
            setTimeout(selectNaN, 1000);


            setTimeout(hideSelectLoad, 1000);

        };

        const checkboxNaN = document.getElementById("checkboxNaN");

        function selectNaN() {
            if (checkboxNaN.checked) {

                showNaNEdges = true;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = false;
                        edges.update(edge);
                        pickDates();
                    }
                });
            } else {
                showNaNEdges = false;
                edges.forEach(function (edge) {
                    if (isNaN(edge.weight)) {
                        edge.hidden = true;
                        edges.update(edge);
                    }
                });
            }


        }


        const checkboxNoiseLabels = document.getElementById("checkboxNoiseLabels");

        document.getElementById("checkboxNaN").checked = true;
        document.getElementById("checkboxNoiseLabels").checked = true;

        let showNoiseLabels = true;

        function filterNoiseLabels() {
            showSelectLoad();
            setTimeout(selectNoiseLabels, 1000);


            setTimeout(hideSelectLoad, 1000);
        }

        function selectNoiseLabels() {
            if (checkboxNoiseLabels.checked) {

                showNoiseLabels = true;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {
                        node.hidden = false;
                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (!nodes.get(edge.to).hidden && !nodes.get(edge.from).hidden) {
                        if (isNaN(edge.weight) && !showNaNEdges) {
                            edge.hidden = true;
                            edges.update(edge);

                        } else {
                            edge.hidden = false;
                            edges.update(edge);
                        }
                    }
                })

            } else {

                showNoiseLabels = false;

                nodes.forEach(function (node) {
                    if (Number(node.label) == -1) {

                        node.hidden = true;

                        nodes.update(node);
                    }
                })

                edges.forEach(function (edge) {
                    if (nodes.get(edge.to).hidden || nodes.get(edge.from).hidden || (isNaN(edge.weight) && !showNaNEdges)) {

                        edge.hidden = true;
                        edges.update(edge);

                    }
                })

            }
            updateClusterDistribution();
        }


        let fillMean = document.getElementById("fillMean");
        let fillSD = document.getElementById("fillSD");


        function calcMean() {
            let edgeValues = [];
            edges.forEach(function (edge) {
                if (!edge.hidden) {
                    let label = parseFloat(edge.weight);
                    if (!isNaN(label)) {
                        edgeValues.push(label);
                    }
                }
            })

            let mean = edgeValues.reduce((a, b) => a + b, 0) / edgeValues.length;
            let sd = dev(edgeValues, mean);
            if (isNaN(mean)) {
                mean = 0;
            }
            if (isNaN(sd)) {
                sd = 0;
            }
            mean = mean.toFixed(5);
            sd = sd.toFixed(5);

            fillMean.innerHTML = "Edge weight mean: ";
            fillSD.innerHTML = "Edge weight standard deviation: "

            fillMean.append(mean);
            fillSD.append(sd);

        }


        // Javascript program to calculate the standard deviation of an array

        function dev(arr, mean) {

            // Assigning (value - mean) ^ 2 to every array item
            arr = arr.map((k) => {
                return (k - mean) ** 2
            })


            // Calculating the sum of updated array
            let sum = arr.reduce((acc, curr) => acc + curr, 0);


            // Returning the standard deviation
            return Math.sqrt(sum / arr.length)
        }

        calcMean();


        let heading = document.getElementById("heading").innerHTML;
        let onlyLemma = heading.replace(/ .*/, '');

        //NEW

        // set up flag variables to track which scripts have been loaded successfully
        let statsLoaded = false;
        let statsGroupingsLoaded = false;
        let statsAgreementLoaded = false;
        let statsPlottingLoaded = false;
        let statsDataJointLoaded = false;

        let filteredStats = [];
        let filteredStatsGroupings = [];
        let filteredStatsAgreement = [];
        let filteredStatsPlotting = [];
        let filteredStatsDataJoint = [];

        let clusteringMethod;
        let cluster_freq_dist;
        let cluster_prob_dist;
        let noise_cluster_count;
        let clusterInfo;
        let statisticsDiv;
        let nodePosition;


        // create event listeners for each script to set the corresponding flag when loaded
        document.addEventListener('statsLoaded', function () {
            console.log('stats.js is fully loaded!');
            statsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsGroupingsLoaded', function () {
            console.log('stats_groupings.js is fully loaded!');
            statsGroupingsLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsAgreementLoaded', function () {
            console.log('stats_agreement.js is fully loaded!');
            statsAgreementLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsPlottingLoaded', function () {
            console.log('stats_plotting.js is fully loaded!');
            statsPlottingLoaded = true;
            checkAllScriptsLoaded();
        });

        document.addEventListener('statsDataJointLoaded', function () {
            console.log('data_joint.js is fully loaded!');
            statsDataJointLoaded = true;
            checkAllScriptsLoaded();
        });

        // load each script with the same function
        function loadScript(scriptUrl, eventName) {
            const script = document.createElement('script');
            script.src = scriptUrl;
            script.type = 'text/javascript';

            script.addEventListener('load', function () {
                console.log(scriptUrl + ' loaded successfully');
                document.dispatchEvent(new Event(eventName));
            });

            script.addEventListener('error', function () {
                console.log('Failed to load ' + scriptUrl);
                checkAllScriptsLoaded();
            });

            document.body.appendChild(script);
        }

        // call the loadScript function for each script you want to load
        loadScript('../stats.js', 'statsLoaded');
        loadScript('../stats_groupings.js', 'statsGroupingsLoaded');
        loadScript('../stats_agreement.js', 'statsAgreementLoaded');
        loadScript('../stats_plotting.js', 'statsPlottingLoaded');
        loadScript('../data_joint.js', 'statsDataJointLoaded');

        // check if all scripts have been loaded, and execute the code that depends on them if they have
        function checkAllScriptsLoaded() {

            if (statsLoaded) {
                try {
                    filteredStats = stats.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats not found');
                }

                try {
                    generateTable(filteredStats, "stats");
                } catch (err) {
                    console.log('problem generating table with stats');
                }

                try {
                    clusteringMethod = filteredStats[0].algorithm;
                } catch (err) {
                    console.log('filteredStats[0] not found');
                }



            }

            if (statsGroupingsLoaded) {
                try {
                    filteredStatsGroupings = stats_groupings.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_groupings not found');
                }

                try {
                    generateTable(filteredStatsGroupings, "statsGroupings");
                } catch (err) {
                    console.log('problem generating table with stats_groupings');
                }

                cluster_freq_dist = filteredStatsGroupings[0].cluster_freq_dist;
                cluster_prob_dist = filteredStatsGroupings[0].cluster_prob_dist;
            }

            if (statsAgreementLoaded) {
                try {
                    filteredStatsAgreement = stats_agreement.filter(row => row.data === onlyLemma);
                } catch (err) {
                    console.log('stats_agreement not found');
                }

                try {
                    generateTable(filteredStatsAgreement, "statsAgreement");
                } catch (err) {
                    console.log('problem generating table with stats_agreement');
                }


            }

            if (statsPlottingLoaded) {
                try {
                    filteredStatsPlotting = stats_plotting.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_plotting not found');
                }

                try {
                    generateTable(filteredStatsPlotting, "statsPlotting");
                } catch (err) {
                    console.log('problem generating table with stats_plotting');
                }

                nodePosition = filteredStatsPlotting[0].node_position;
            }

            if (statsDataJointLoaded) {
                try {
                    filteredStatsDataJoint = data_joint.filter(row => row.lemma === onlyLemma);
                } catch (err) {
                    console.log('stats_data_joint not found');
                }

                try {
                    generateDetails(filteredStatsDataJoint, "statsDataJoint");
                } catch (err) {
                    console.log('problem generating table with statsDataJoint');
                }

                if(!annotatorsContainer.hasChildNodes()){
                    fillAnnotatorsContainer(filteredStatsDataJoint);
                }
            }

            noise_cluster_count = 0;
            nodes.forEach(function (node) {
                if (Number(node.label) == -1) {
                    noise_cluster_count += 1;
                }
            });

            clusterInfo = document.getElementById("clusterInfo");
            statisticsDiv = document.getElementById("statistics");

            clusterInfo.innerHTML = `
            <p>Node position: ${nodePosition}</p>
            <p>Clustering method: ${clusteringMethod}</p>`;

            statisticsDiv.innerHTML = `
            <p id="clusterFreqDist">Cluster frequency distribution: ${cluster_freq_dist}</p>
            <p id="clusterProbDist">Cluster probability distribution: ${cluster_prob_dist}</p>
            <p id="noiseClusterCount">Noise Cluster: [${noise_cluster_count}]</p>`;

        }


        function generateTable(jsonData, id) {
            if (!jsonData || jsonData.length === 0) {
                console.error(`Error: Invalid JSON data in generateTable function for id '${id}'`);
                return;
            }

            let div = document.createElement('div');


            let keys = Object.keys(jsonData[0]);
            keys.forEach(function (key) {
                let details = document.createElement('details');
                details.classList.add('shifted');
                let summary = document.createElement('summary');
                summary.innerText = key;
                details.appendChild(summary);
                let content = document.createElement('div');
                content.innerText = jsonData[0][key];
                details.appendChild(content);
                div.appendChild(details);

            })

            document.getElementById(id).append(div);
        }

        function generateDetails(jsonData, id) {
            let div = document.createElement('div');

            for (let i = 0; i < jsonData.length; i++) {
                let surroundingDetails = document.createElement('details');
                surroundingDetails.classList.add('shifted');
                let surroundingSummary = document.createElement('summary');
                surroundingSummary.innerText = i.toString();
                surroundingDetails.appendChild(surroundingSummary);
                div.appendChild(surroundingDetails);
                let keys = Object.keys(jsonData[i]);
                keys.forEach(function (key) {
                    let details = document.createElement('details');
                    details.classList.add('shifted');
                    let summary = document.createElement('summary');
                    summary.innerText = key;
                    details.appendChild(summary);
                    let content = document.createElement('div');
                    content.innerText = jsonData[i][key];
                    details.appendChild(content);
                    surroundingDetails.appendChild(details);

                })
            }

            document.getElementById(id).append(div);
        }




        function updateClusterDistribution() {
            let clusterFreqDist = [];
            let clusterProbDist = [];
            let noiseClusterCount = 0;
            let temp = [];
            let numberOfNodes = 0;

            nodes.forEach(function (node) {
                if (!node.hidden) {
                    temp.push(Number(node.label));
                }


            })

            temp.sort();

            let biggestLabel = temp[temp.length - 1];

            for (let i = 0; i <= biggestLabel; i++) {
                clusterFreqDist.push(0);
                clusterProbDist.push(0);
            }

            temp.forEach(function (item) {
                if (!(item == -1)) {
                    numberOfNodes += 1;
                    clusterFreqDist[item] += 1;
                } else {
                    noiseClusterCount += 1;
                }
            })

            for (let j = 0; j < clusterFreqDist.length; j++) {
                if (clusterFreqDist[j] > 0) {

                    clusterProbDist[j] = (clusterFreqDist[j] / numberOfNodes);

                    let parts = clusterProbDist[j].toString().split('.');

                    // Check the length of the decimal part
                    if (parts[1] && parts[1].length > 5) {
                        // Round the value to 5 decimal places if the decimal part is longer than 5 digits
                        clusterProbDist[j] = clusterProbDist[j].toFixed(5);
                    }
                }
            }

            document.getElementById("clusterFreqDist").innerHTML = "Cluster frequency distribution: [" + clusterFreqDist.toString() + "]";
            document.getElementById("clusterProbDist").innerHTML = "Cluster probability distribution: [" + clusterProbDist.toString() + "]";
            document.getElementById("noiseClusterCount").innerHTML = "Noise cluster: [" + noiseClusterCount.toString() + "]";
        }


        let annotatorsContainer = document.getElementById("annotatorsContainer");
        let annotators = [];

        function fillAnnotatorsContainer(jsonData) {
            let div = document.createElement('div');
            let h4 = document.createElement('h4');
            h4.innerHTML = "Annotator filter (resets all other filters): ";
            div.appendChild(h4);

            for (let i = 0; i < jsonData.length; i++) {

                let annotator = jsonData[i]["annotator"]
                if (!annotators.includes(annotator)) {
                    annotators.push(annotator);
                }
            }

            annotators.sort();

            for (let j = 0; j < annotators.length; j++) {
                let label = document.createElement('label');
                label.innerHTML = annotators[j];
                label.for = annotators[j];
                let checkbox = document.createElement('input');
                checkbox.type = "checkbox";
                checkbox.checked = true;
                checkbox.id = annotators[j];
                div.appendChild(label);
                div.appendChild(checkbox);
            }

            let button = document.createElement('button');
            button.innerHTML = "Show graph";
            button.onclick = annotatorsFilter;
            div.appendChild(button);
            let br = document.createElement('br')
            let br2 = document.createElement('br')
            div.appendChild(br);
            div.appendChild(br2);

            annotatorsContainer.append(div);
        }



        function annotatorsFilter() {
            showSelectLoad();
            setTimeout(calculateSubGraph, 1000);


            setTimeout(hideSelectLoad, 2000);


        }

        function calculateSubGraph() {
            loadingIcon.style.visibility = 'visible';
            let onlyCheckedAnnotators = [];
            for (let i = 0; i < annotators.length; i++) {
                let checkAnnotator = document.getElementById(annotators[i]);
                if (checkAnnotator.checked) {
                    onlyCheckedAnnotators.push(annotators[i]);
                }
            }


            let filteredForAnnotators = filteredStatsDataJoint.filter(row => onlyCheckedAnnotators.includes(row.annotator));


            groupPicker.selectedIndex = 0;
            sliderMin.value = 1;
            slider.value = 4;
            sliderDisplay.innerHTML = "4";
            sliderMinDisplay.innerHTML = "1";
            checkboxNoiseLabels.checked = true;
            checkboxNaN.checked = true;
            maxPicker.selectedIndex = dates.length - 1;
            minPicker.selectedIndex = 0;
            minValue = minPicker.value;
            maxValue = maxPicker.value;

            nodes.forEach(function (node){
                if(node.hidden){
                    node.hidden = false;
                    nodes.update(node);
                }
            })

            /*edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;

                let from = nodes.get(edge.from);
                let from_id = from.id;

                let edgeAnnotations = [];

                for (let k = 0; k < filteredForAnnotators.length; k++) {
                    let item = filteredForAnnotators[k];
                    let identifier1 = item.identifier1;
                    let identifier2 = item.identifier2;
                    let weight = Number(item.judgment);

                    if((identifier1 == to_id && identifier2 == from_id) || (identifier1 == from_id && identifier2 == to_id)){

                        if(0 < weight < 5){
                            //console.log("there is a corresponding annotation thats not NaN");
                            edgeAnnotations.push(weight);
                        }
                    }
                }

                if (edgeAnnotations.length !== 0){
                let median;
                let filteredArray = edgeAnnotations;
                filteredArray.sort((a, b) => a - b);
                let middle = Math.floor(filteredArray.length / 2);
                if (filteredArray.length % 2 === 0) {
                    median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                } else {
                    median = filteredArray[middle];
                }

                    console.log("the median for this edge is: " + median);

                    if (median == 0){
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                    edges.update(edge);

                    } else {
                    edge.hidden = true;
                    edges.update(edge);
                }







            })
            */


            // Create a map to store the filteredForAnnotators array
            let annotationsMap = new Map();
            filteredForAnnotators.forEach(function (item) {
                let identifier1 = item.identifier1;
                let identifier2 = item.identifier2;
                let weight = Number(item.judgment);
                if (weight >= 0 && weight < 5) {
                    // Only store annotations with weight between 0 and 5
                    let key = [identifier1, identifier2].sort().join('-');
                    let annotations = annotationsMap.get(key) || [];
                    annotations.push(weight);
                    annotationsMap.set(key, annotations);
                }
            });

            // Iterate over the edges and get the annotations from the map
            edges.forEach(function (edge) {
                let to = nodes.get(edge.to);
                let to_id = to.id;
                let from = nodes.get(edge.from);
                let from_id = from.id;
                let key = [to_id, from_id].sort().join('-');
                let edgeAnnotations = annotationsMap.get(key) || [];


                    //console.log("edge annos: " + edgeAnnotations);

                if (edgeAnnotations.length !== 0) {
                    let median;
                    let filteredArray = edgeAnnotations.filter(a => a > 0);
                    filteredArray.sort((a, b) => a - b);

                    if (filteredArray.length === 0) {
                        median = 0;
                    } else {
                        let middle = Math.floor(filteredArray.length / 2);
                        if (filteredArray.length % 2 === 0) {
                            median = (filteredArray[middle - 1] + filteredArray[middle]) / 2;
                        } else {
                            median = filteredArray[middle];
                        }
                    }


                    //console.log("the median for this edge is: " + median);

                    if (median == 0) {
                        median = NaN;
                    }

                    edge.hidden = false;
                    edge.weight = median;
                    edge.label = edge.weight;

                } else {
                    edge.hidden = true;
                }

                edges.update(edge);
            });



            loadingIcon.style.visibility = 'hidden';

            calcMean();
            updateClusterDistribution();
        }


        sliderMin.value = 1;
        slider.value = 4;


    </script>
</body>

</html>